/**
 * @copyright Greg Priday - <https://siteorigin.com/>
 * @license GPL 3.0 http://www.gnu.org/licenses/gpl.html
 */
!function(i){i.fn.siteOriginParallax=function(o){var a=i(this);if("refreshParallax"===o)return a.trigger("refreshParallax");null===(o=i.extend({backgroundUrl:null,backgroundSize:null,backgroundAspectRatio:null,backgroundSizing:"scaled",limitMotion:"auto"},o)).backgroundAspectRatio&&null!==o.backgroundSize&&(o.backgroundAspectRatio=o.backgroundSize[0]/o.backgroundSize[1]);var n=function(){if("undefined"!=typeof parallaxStyles&&0!=parallaxStyles["parallax-mobile"]&&window.matchMedia("(max-width: "+parallaxStyles["mobile-breakpoint"]+")").matches)a.css("background-position","50% 50%");else try{var n,e=[a.outerWidth(),a.outerHeight()],r=a[0].getBoundingClientRect();if(void 0===a.data("siteorigin-parallax-init")&&a.css({"background-image":"url("+o.backgroundUrl+")"}),"auto"===o.limitMotion){var t=i(window).outerHeight();n=t<720?.55:t>1300?.45:-17e-5*(t-720)+.55}else n=o.limitMotion;var u=((r.bottom+(r.top-i(window).outerHeight()))/(i(window).outerHeight()+r.height)-1)/-2,c=0,l=1;if("scaled"===o.backgroundSizing){a.css("background-size","cover");var d=e[0]/o.backgroundSize[0];if(e[1]/o.backgroundSize[1]<d){if(r.top>-e[1]&&r.bottom-i(window).outerHeight()<e[1]){var g=o.backgroundSize[1]*d;n&&g>i(window).outerHeight()*n&&(u=u*(l=i(window).outerHeight()*n/g)+(1-l)/2),c=-(g-e[1])*u}a.css("background-position","0px "+c+"px")}else a.css("background-position","50% 50%")}else"original"===o.backgroundSizing&&(n&&o.backgroundSize[1]>i(window).outerHeight()*n&&(u=u*(l=i(window).outerHeight()*n/o.backgroundSize[1])+(1-l)/2),c=-(o.backgroundSize[1]-e[1])*u,a.css("background-size","auto"),a.css("background-position","50% "+c+"px"))}catch(i){a.css({"background-size":"scaled"===o.backgroundSizing?"cover":"auto","background-position":"50% 50%"})}};n(),i(window).on("scroll",n),i(window).on("resize",n),i(window).on("panelsStretchRows",n),a.on("refreshParallax",n)}}(jQuery),jQuery((function(i){i("[data-siteorigin-parallax]").each((function(){i(this).siteOriginParallax(i(this).data("siteorigin-parallax"))}))}));