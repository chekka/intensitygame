window.SiteOriginPremium=window.SiteOriginPremium||{},jQuery((function(i){SiteOriginPremium.sowBlogWidget=function(){i(".sow-blog").each((function(){const o=i(this),n=o.data("settings"),a=o.data("total-pages");if("ajax"==n.pagination_reload||"load"==n.pagination||"infinite"==n.pagination){o.data("fetching",!1);var t=function(){var i=o.find(".sow-blog-posts"),n=i.offset().top,a=i.outerHeight()-32-window.innerHeight/2;window.pageYOffset>=n&&window.pageYOffset<=n+a?o.find(".sow-blog-ajax-loader-icon").css({position:"fixed",top:"50%"}):o.find(".sow-blog-ajax-loader-icon").css({position:"absolute",top:(window.pageYOffset<=n+a?window.innerHeight/2:i.outerHeight()-32)+"px"})};if("standard"==n.pagination){let i=parseInt(o.data("paged")),n=o.find(".page-numbers:not(.dots)").eq(i-1);n.after('<span aria-current="page" class="page-numbers current">'+i+"</span>"),n.hide()}else if("links"==n.pagination){let i=parseInt(o.data("paged"));1==i?o.find(".sow-previous").hide():i==a&&o.find(".sow-next").hide()}var e=function(e=!1){var s=i(this),d=0,l=parseInt(o.data("paged"));if("infinite"!=n.pagination&&e.preventDefault(),o.data("fetching"))return!1;if(o.data("fetching",!0),"standard"==n.pagination?d=s.text():"links"==n.pagination?d=s.hasClass("sow-previous")?l-1:l+1:("load"==n.pagination&&(e.preventDefault(),s.addClass("sow-loading")),d=l+1),"ajax"==n.pagination_reload||"infinite"==n.pagination)if("standard"==n.pagination||"links"==n.pagination)window.history.pushState("",document.title,s.attr("href"));else{var r="load"==n.pagination?s:o.find(".sow-blog-infinite");window.history.pushState("",document.title,r.data("url")+"/?"+r.data("id")+"="+d)}o.find(".sow-blog-ajax-loader").show(),i(window).on("scroll",t),t(),o.find(".sow-blog-posts").css("opacity",.35),i.get(sowBlogAddon["ajax-url"],{action:"sow_blog_load_posts",paged:d,instance_hash:o.data("hash")},(function(e){if("standard"==n.pagination||"links"==n.pagination?(o.find(".sow-blog-posts").html(e.html),i("html").animate({scrollTop:o.offset().top-120},200)):o.find(".sow-blog-posts").append(e.html),o.data("fetching",!1),o.data("paged",d),i(window).off("scroll",t),"standard"==n.pagination){o.find(".sow-nav-links a").show(),o.find(".sow-nav-links .current").remove();let i=o.find(".page-numbers:not(.dots)").eq(d-1);i.after('<span aria-current="page" class="page-numbers current">'+d+"</span>"),i.hide()}else"links"==n.pagination?(d<2?o.find(".sow-previous").hide():1==l&&o.find(".sow-previous").show(),d==a?o.find(".sow-next").hide():o.find(".sow-next").show()):"load"==n.pagination?d==a?s.remove():s.removeClass("sow-loading"):d==a&&o.find(".sow-blog-infinite").remove();o.hasClass("sow-blog-layout-masonry")?o.find(".sow-blog-posts").masonry("reloadItems").masonry():o.hasClass("sow-blog-layout-portfolio")&&o.find(".sow-blog-posts").isotope("reloadItems").isotope(),o.find(".sow-blog-ajax-loader").hide(),o.find(".sow-blog-posts").css("opacity",1)}))};if("infinite"!=n.pagination)o.find(".sow-nav-links a, .sow-nav-links .sow-blog-load-more:not(.sow-loading)").on("click",e);else{o.find(".sow-blog-infinite").hide();var s=function(){if(a==o.data("paged"))return;let i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,n=o.offset().top+o.height();if(n>2*window.innerHeight)n-=2*window.innerHeight;else{let i=o.find(".sow-blog-posts > article");n=i.eq(i.length-3).offset().top}i>n&&e()};s(),i(window).on("scroll resize",s)}}}))},SiteOriginPremium.sowBlogWidget(),window.sowb&&i(window.sowb).on("setup_widgets",SiteOriginPremium.sowBlogWidget)}));