window.SiteOriginPremium=window.SiteOriginPremium||{},SiteOriginPremium.setupTooltip=function(t){t(".so-widget-sow-image, .so-widget-sow-image-grid, .so-widget-sow-simple-masonry, .so-widget-sow-icon, .so-widget-sow-price-table, .so-widget-sow-features, .so-widget-sow-button").each((function(e,o){var i=t(o);if(i.data("tooltip-enabled")){var s=i.data("tooltip-theme"),a=function(e){var o=e.attr("title");if(o){t(this.image).css("pointerEvents","none");var i=t('<div class="so-premium-tooltip">'+o+'<div class="callout"></div></div>');i.css("visibility","hidden"),i.addClass("theme-"+s);var a,n=e.is("span"),r=e.parent().hasClass("ow-button-base"),l=e.hasClass("ow-pt-feature"),u=e.hasClass("sow-icon-container");u?(e.removeAttr("title"),a=e.parent(),e=e.find("div, span")):a=n||l?e:r?e.parent():e.parent().closest(":not( a )");var d=a.is(".sow-masonry-grid-item");d||u||n||r?a.parent().append(i):a.append(i);var p,c={top:0,left:0},f=i.find(".callout"),m=function(o=!1){var s=d||r||u?a.position():e.position(),n=i.data("width")/2,l=s.left+c.left-n,p=t("body").innerWidth()-n;o&&o.pageX>=p&&(l=p-n-(d||u?a.parent():t(o.currentTarget)).offset().left);i.css({top:s.top+c.top-i.outerHeight()+"px",left:l+"px"})},g=function(){m(),i.fadeIn(100)};"follow_cursor"===soPremiumTooltipOptions.position&&i.css("pointer-events","none"),i.hide(),i.css("visibility","visible"),a.on(soPremiumTooltipOptions.show_trigger,(function(s){var n=i.get(0);if(!l&&(i.is(":visible")||s.target===n||s.relatedTarget===n||s.relatedTarget===e.get(0)))return!1;e.removeAttr("title");var r=d?a:e;f.removeClass("bottom").addClass("top"),f.css("pointer-events","none");var w=.5*f.outerHeight();switch(soPremiumTooltipOptions.position){case"follow_cursor":i.data("width")||(i.data("width",i.outerWidth()+1),i.css("width",i.data("width")+1+"px")),a.on("mousemove",(function(o){var i=e.outerHeight(),s=a.outerHeight(),n=i>s?.5*(i-s):0,r=e.outerWidth(),l=a.outerWidth(),p=r>l?.5*(r-l):0;d?(c.top=o.offsetY-w-n,c.left=o.offsetX-p):(c.top=o.pageY-t(o.currentTarget).offset().top-w-n,c.left=o.pageX-t(o.currentTarget).offset().left-p,u&&(c.left+=parseInt(a.css("margin-left")))),m(o)}));break;case"center":c.top=.5*r.outerHeight()-w,c.left=.5*r.outerWidth();break;case"top":c.top=0-w,c.left=.5*r.outerWidth();break;case"bottom":f.removeClass("top").addClass("bottom"),c.top=r.outerHeight()+i.outerHeight()+w,c.left=.5*r.outerWidth()}if("mouseover"===soPremiumTooltipOptions.show_trigger&&soPremiumTooltipOptions.show_delay&&soPremiumTooltipOptions.show_delay>0?(p&&clearTimeout(p),p=setTimeout((function(){p=null,g()}),soPremiumTooltipOptions.show_delay)):g(),"click"===soPremiumTooltipOptions.hide_trigger){var h=function(){i.fadeOut(100),e.attr("title",o),t(window).off("click",h)};setTimeout((function(){t(window).on("click",h)}),100)}})),"mouseout"===soPremiumTooltipOptions.hide_trigger&&(a.on("mouseout",(function(s){p&&clearTimeout(p),s.relatedTarget===i.get(0)||t.contains(a.get(0),s.relatedTarget)||(i.fadeOut(100),e.attr("title",o),a.off("mousemove",m),e.attr("title",o))})),d&&i.on("mouseout",(function(t){t.relatedTarget===e.get(0)&&t.relatedTarget===e.get(0)||(i.fadeOut(100),e.attr("title",o),a.off("mousemove",m),e.attr("title",o))})))}};i.hasClass("so-widget-sow-icon")?a(i.find("span")):i.hasClass("so-widget-sow-features")?i.find(".sow-icon-container").each((function(e,o){a(t(o))})):i.hasClass("so-widget-sow-price-table")?i.find(".ow-pt-feature").each((function(e,o){a(t(o))})):i.hasClass("so-widget-sow-button")?a(i.find("a")):i.find("img").each((function(e,o){function i(e){var o=t(e);e.complete?a(o):o.on("load",(function(){a(o)})).on("error",(function(){console.log("Could not setup tooltip. Image loading failed.")}))}o.classList.contains("jetpack-lazy-image")?t(o).on("jetpack-lazy-loaded-image",(function(t){i(t.target)})):i(o)}))}}))},jQuery((function(t){SiteOriginPremium.setupTooltip(t),window.sowb&&t(window.sowb).on("setup_widgets",(function(){SiteOriginPremium.setupTooltip(t)}))}));