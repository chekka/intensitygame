(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{1214:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n(837),o=n(5),i=n(132),c=n(273),s=n(28),u=n(15);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(t){var e=t.query;return Object(a.createElement)("div",{className:"bwf-crm-emails-report-filter"},Object(a.createElement)(c.a,{siteLocale:"en-US",path:"/",query:e,onDateSelect:function(t){var n=p(p({},e),t);delete n.compare,Object(u.k)(n,"/",{})},showDatePicker:!0,isoDateFormat:s.g,hideCompare:!0,dateQuery:function(t){t.compare="previous_year";var e=Object(s.e)(t),n=e.period,a=e.compare,r=e.before,o=e.after,i=Object(s.c)(t);return{period:n,compare:a,before:r,after:o,primaryDate:i.primary,secondaryDate:i.secondary}}(e),currency:Object(o.U)()}))},b=n(72),h=n(2),d=n(261),v=n(259),y=n(258),g=n(839),O=n(73),j=n(8),_=n(3),w=function(t){var e=t.query,n=t.type,r=t.automationId,i=Object(O.a)(Object(o.U)()).formatAmount,c=Object(g.a)(),s=c.getAnalyticsTileData,l=c.getAnalyticsLoading,p=e.chart?e.chart:function(){switch(n){case"contact":return"active_contacts";default:return"email_sents"}}(),m=l(),f=s(),b=function(t){return Object(_.isEmpty)(f)||!f.hasOwnProperty(t)||Object(_.isNull)(f[t])?0:f[t]};return Object(a.createElement)("div",{className:"bwf-crm-emails-report-tiles"},m?function(){switch(n){case"email":return Object(a.createElement)(y.a,{numberOfItems:Object(o.qb)()?5:3,hideDelta:!0});case"sms":return Object(a.createElement)(y.a,{numberOfItems:Object(o.qb)()?4:2,hideDelta:!0});case"contact":return Object(a.createElement)(y.a,{numberOfItems:Object(o.qb)()?6:3,hideDelta:!0})}}():function(){switch(n){case"email":return Object(a.createElement)(d.a,null,(function(){var t=[];return t=[Object(a.createElement)(v.a,{key:1,value:parseInt(b("email_sents")),label:Object(h.__)("Sent","wp-marketing-automations"),href:"admin.php?page=autonami&path=automation/".concat(r,"/analytics/email&chart=email_sents"),onLinkClickCallback:function(t){t.preventDefault(),delete e.compare,Object(u.k)({chart:"email_sents"},"/",e)},selected:"email_sents"===p,tileIcon:Object(a.createElement)("div",{className:"bwf-tile-icon-wrap"},Object(a.createElement)(j.a,{icon:"sent",size:30}))}),Object(a.createElement)(v.a,{key:2,value:parseFloat(b("open_rate"))+" %",label:Object(h.__)("Open Rate","wp-marketing-automations"),href:"admin.php?page=autonami&path=automation/".concat(r,"/analytics/email&chart=open_rate"),onLinkClickCallback:function(t){t.preventDefault(),delete e.compare,Object(u.k)({chart:"open_rate"},"/",e)},selected:"open_rate"===p,tileIcon:Object(a.createElement)("div",{className:"bwf-tile-icon-wrap"},Object(a.createElement)(j.a,{icon:"open-in-popup",size:30}))}),Object(a.createElement)(v.a,{key:3,value:parseFloat(b("click_rate"))+" %",label:Object(h.__)("Click Rate","wp-marketing-automations"),href:"admin.php?page=autonami&path=automation/".concat(r,"/analytics/email&chart=click_rate"),onLinkClickCallback:function(t){t.preventDefault(),delete e.compare,Object(u.k)({chart:"click_rate"},"/",e)},selected:"click_rate"===p,tileIcon:Object(a.createElement)("div",{className:"bwf-tile-icon-wrap"},Object(a.createElement)(j.a,{icon:"cursor",size:30}))})],Object(o.qb)()&&t.push(Object(a.createElement)(v.a,{key:4,value:parseInt(b("total_orders")),label:Object(h.__)("Orders","wp-marketing-automations"),href:"admin.php?page=autonami&path=automation/".concat(r,"/analytics/email&chart=total_orders"),onLinkClickCallback:function(t){t.preventDefault(),delete e.compare,Object(u.k)({chart:"total_orders"},"/",e)},selected:"total_orders"===p,tileIcon:Object(a.createElement)("div",{className:"bwf-tile-icon-wrap"},Object(a.createElement)(j.a,{icon:"order",size:30}))}),Object(a.createElement)(v.a,{key:5,value:i(b("total_revenue")),label:Object(h.__)("Revenue","wp-marketing-automations"),href:"admin.php?page=autonami&path=automation/".concat(r,"/analytics/email&chart=total_revenue"),onLinkClickCallback:function(t){t.preventDefault(),delete e.compare,Object(u.k)({chart:"total_revenue"},"/",e)},selected:"total_revenue"===p,tileIcon:Object(a.createElement)("div",{className:"bwf-tile-icon-wrap"},Object(a.createElement)(j.a,{icon:"revenue",size:30}))})),t}));case"sms":return Object(a.createElement)(d.a,null,(function(){var t=[];return t=[Object(a.createElement)(v.a,{key:1,value:parseInt(b("email_sents")),label:Object(h.__)("Sent","wp-marketing-automations"),href:"admin.php?page=autonami&path=automation/".concat(r,"/analytics/sms&chart=email_sents"),onLinkClickCallback:function(t){t.preventDefault(),delete e.compare,Object(u.k)({chart:"email_sents"},"/",e)},selected:"email_sents"==p,tileIcon:Object(a.createElement)("div",{className:"bwf-tile-icon-wrap"},Object(a.createElement)(j.a,{icon:"sent",size:30}))}),Object(a.createElement)(v.a,{key:2,value:parseInt(b("email_click")),label:Object(h.__)("Clicks","wp-marketing-automations"),href:"admin.php?page=autonami&path=automation/".concat(r,"/analytics/sms&chart=email_click"),onLinkClickCallback:function(t){t.preventDefault(),delete e.compare,Object(u.k)({chart:"email_click"},"/",e)},selected:"email_click"==p,tileIcon:Object(a.createElement)("div",{className:"bwf-tile-icon-wrap"},Object(a.createElement)(j.a,{icon:"cursor",size:30}))})],Object(o.qb)()&&t.push(Object(a.createElement)(v.a,{key:3,value:parseInt(b("total_orders")),label:Object(h.__)("Orders","wp-marketing-automations"),href:"admin.php?page=autonami&path=automation/".concat(r,"/analytics/sms&chart=total_orders"),onLinkClickCallback:function(t){t.preventDefault(),delete e.compare,Object(u.k)({chart:"total_orders"},"/",e)},selected:"total_orders"==p,tileIcon:Object(a.createElement)("div",{className:"bwf-tile-icon-wrap"},Object(a.createElement)(j.a,{icon:"order",size:30}))}),Object(a.createElement)(v.a,{key:4,value:i(b("total_revenue")),label:Object(h.__)("Revenue","wp-marketing-automations"),href:"admin.php?page=autonami&path=automation/".concat(r,"/analytics/sms&chart=total_revenue"),onLinkClickCallback:function(t){t.preventDefault(),delete e.compare,Object(u.k)({chart:"total_revenue"},"/",e)},selected:"total_revenue"==p,tileIcon:Object(a.createElement)("div",{className:"bwf-tile-icon-wrap"},Object(a.createElement)(j.a,{icon:"revenue",size:30}))})),t}));case"contact":return Object(a.createElement)(d.a,null,(function(){var t=[];return t=[Object(a.createElement)(v.a,{key:1,value:parseInt(b("active_contacts")),label:Object(h.__)("Active Contacts","wp-marketing-automations"),href:"admin.php?page=autonami&path=automation/".concat(r,"/analytics/contact&chart=active_contacts"),onLinkClickCallback:function(t){t.preventDefault(),delete e.compare,Object(u.k)({chart:"active_contacts"},"/",e)},selected:"active_contacts"==p,tileIcon:Object(a.createElement)("div",{className:"bwf-tile-icon-wrap"},Object(a.createElement)(j.a,{icon:"contact-tile",size:30,color:"#0073aa"}))}),Object(a.createElement)(v.a,{key:2,value:parseInt(b("complete_contacts")),label:Object(h.__)("Completed Contacts","wp-marketing-automations"),href:"admin.php?page=autonami&path=automation/".concat(r,"/analytics/contact&chart=complete_contacts"),onLinkClickCallback:function(t){t.preventDefault(),delete e.compare,Object(u.k)({chart:"complete_contacts"},"/",e)},selected:"complete_contacts"==p,tileIcon:Object(a.createElement)("div",{className:"bwf-tile-icon-wrap"},Object(a.createElement)(j.a,{icon:"total-customer",size:30,color:"#0073aa"}))})],Object(o.qb)()&&t.push(Object(a.createElement)(v.a,{key:3,value:b("conversions"),label:Object(h.__)("Orders","wp-marketing-automations"),href:"admin.php?page=autonami&path=automation/".concat(r,"/analytics/contact&chart=conversions"),onLinkClickCallback:function(t){t.preventDefault(),delete e.compare,Object(u.k)({chart:"conversions"},"/",e)},selected:"conversions"==p,tileIcon:Object(a.createElement)("div",{className:"bwf-tile-icon-wrap"},Object(a.createElement)(j.a,{icon:"order",size:30}))}),Object(a.createElement)(v.a,{key:4,value:i(b("revenue")),label:Object(h.__)("Revenue","wp-marketing-automations"),href:"admin.php?page=autonami&path=automation/".concat(r,"/analytics/contact&chart=revenue"),onLinkClickCallback:function(t){t.preventDefault(),delete e.compare,Object(u.k)({chart:"revenue"},"/",e)},selected:"revenue"==p,tileIcon:Object(a.createElement)("div",{className:"bwf-tile-icon-wrap"},Object(a.createElement)(j.a,{icon:"revenue",size:30}))}),Object(a.createElement)(v.a,{key:5,value:i(parseFloat(b("aov")).toFixed(2)),label:Object(h.__)("AOV","wp-marketing-automations"),href:"admin.php?page=autonami&path=automation/".concat(r,"/analytics/contact&chart=aov"),onLinkClickCallback:function(t){t.preventDefault(),delete e.compare,Object(u.k)({chart:"aov"},"/",e)},selected:"aov"==p,tileIcon:Object(a.createElement)("div",{className:"bwf-tile-icon-wrap"},Object(a.createElement)(j.a,{icon:"recovery-rate",size:30}))})),t.push(Object(a.createElement)(v.a,{key:6,value:parseInt(b("unsubscribers")),label:Object(h.__)("Unsubscribes","wp-marketing-automations"),href:"admin.php?page=autonami&path=automation/".concat(r,"/analytics/contact&chart=unsubscribers"),onLinkClickCallback:function(t){t.preventDefault(),delete e.compare,Object(u.k)({chart:"unsubscribers"},"/",e)},selected:"unsubscribers"==p,tileIcon:Object(a.createElement)("div",{className:"bwf-tile-icon-wrap"},Object(a.createElement)(j.a,{icon:"unsubscribe",size:30,color:"#0073aa"}))})),t}))}}())},k=n(852),E=n(136),L=n(260),I=function(t){var e,n=t.query,r=t.type,o=n.chart?n.chart:function(){switch(r){case"contact":return"active_contacts";default:return"email_sents"}}(),i=Object(g.a)(),c=i.getAnalyticsData,u=i.getAnalyticsLoading,l=i.getAnalyticsTileData,p=u(),m=c(),f=l(),b=n.chartType?n.chartType:"line",d=Object(s.f)(n),v=Object(s.b)(((e=n).period&&""!==e.period||(e.period="month"),e.compare&&""!==e.compare||(e.compare="previous_year"),n));v.includes(d)||(d=v[v.length-1]);var y={email_sents:Object(h.__)("Sent","wp-marketing-automations"),email_open:Object(h.__)("Open","wp-marketing-automations"),email_click:Object(h.__)("Clicks","wp-marketing-automations"),total_orders:Object(h.__)("Orders","wp-marketing-automations"),total_revenue:Object(h.__)("Revenue","wp-marketing-automations")},O={email_sents:Object(h.__)("Sent","wp-marketing-automations"),email_click:Object(h.__)("Clicks","wp-marketing-automations"),total_orders:Object(h.__)("Orders","wp-marketing-automations"),total_revenue:Object(h.__)("Revenue","wp-marketing-automations")},j={active_contacts:Object(h.__)("Active Contacts","wp-marketing-automations"),complete_contacts:Object(h.__)("Complete Contacts","wp-marketing-automations"),unsubscribers:Object(h.__)("Unsubscribe","wp-marketing-automations"),revenue:Object(h.__)("Revenue","wp-marketing-automations"),conversions:Object(h.__)("Orders","wp-marketing-automations"),aov:Object(h.__)("AOV","wp-marketing-automations")},w=function(){switch(r){case"email":return y;case"sms":return O;case"contact":return j}}();return Object(a.createElement)(L.a,{isRequesting:p,data:function(t){switch(r){case"email":return function(t){var e=[];if(!Object(_.isEmpty)(m)){m.map((function(n){switch(t){case"email_sents":e.push({date:n.start_date,email_sents:{label:Object(h.__)("Email Sent","wp-marketing-automations"),value:parseInt(n.subtotals.email_sents)}});break;case"open_rate":e.push({date:n.start_date,email_open:{label:Object(h.__)("Opens","wp-marketing-automations"),value:parseInt(n.subtotals.email_open)}});break;case"click_rate":e.push({date:n.start_date,email_click:{label:Object(h.__)("Clicks","wp-marketing-automations"),value:parseInt(n.subtotals.email_click)}});break;case"total_orders":e.push({date:n.start_date,total_orders:{label:Object(h.__)("Total Orders","wp-marketing-automations"),value:parseInt(n.subtotals.total_orders)}});break;case"total_revenue":e.push({date:n.start_date,total_revenue:{label:Object(h.__)("Total Revenue","wp-marketing-automations"),value:parseInt(n.subtotals.total_revenue)}})}}))}return e}(t);case"sms":return function(t){var e=[];if(!Object(_.isEmpty)(m)){m.map((function(n){switch(t){case"email_sents":e.push({date:n.start_date,email_sents:{label:Object(h.__)("SMS Sent","wp-marketing-automations"),value:parseInt(n.subtotals.email_sents)}});break;case"email_click":e.push({date:n.start_date,email_click:{label:Object(h.__)("SMS Clicks","wp-marketing-automations"),value:parseInt(n.subtotals.email_click)}});break;case"total_orders":e.push({date:n.start_date,total_orders:{label:Object(h.__)("Total Orders","wp-marketing-automations"),value:parseInt(n.subtotals.total_orders)}});break;case"total_revenue":e.push({date:n.start_date,total_revenue:{label:Object(h.__)("Total Revenue","wp-marketing-automations"),value:parseInt(n.subtotals.total_revenue)}})}}))}return e}(t);case"contact":return function(t){var e=[];if(!Object(_.isEmpty)(m)){m.map((function(n){switch(t){case"active_contacts":e.push({date:n.start_date,active_contacts:{label:Object(h.__)("Active Contacts","wp-marketing-automations"),value:parseInt(n.subtotals.active_contacts)}});break;case"complete_contacts":e.push({date:n.start_date,complete_contacts:{label:Object(h.__)("Complete Contacts","wp-marketing-automations"),value:parseInt(n.subtotals.complete_contacts)}});break;case"unsubscribers":e.push({date:n.start_date,unsubscribers:{label:Object(h.__)("Unsubscribes","wp-marketing-automations"),value:parseInt(n.subtotals.unsubscribers)}});break;case"revenue":e.push({date:n.start_date,revenue:{label:Object(h.__)("Revenue","wp-marketing-automations"),value:parseInt(n.subtotals.revenue)}});break;case"conversions":e.push({date:n.start_date,conversions:{label:Object(h.__)("Orders","wp-marketing-automations"),value:parseInt(n.subtotals.conversions)}});break;case"aov":e.push({date:n.start_date,conversions:{label:Object(h.__)("AOV","wp-marketing-automations"),value:parseInt(n.subtotals.aov)}})}}))}return e}(t)}}(o),title:w[o],interval:d,layout:"item-comparison",chartType:b,legendTotals:"aov"==o?{conversions:f.hasOwnProperty("aov")?f.aov:0}:null,interactiveLegend:!0})},S=n(4),C=n(250),x=n(12),A=n.n(x),P=n(17);function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(){M=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function s(t,e,n,a){var r=e&&e.prototype instanceof p?e:p,o=Object.create(r.prototype),i=new w(a||[]);return o._invoke=function(t,e,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return E()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var c=O(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=u(t,e,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(t,n,i),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function p(){}function m(){}function f(){}var b={};c(b,r,(function(){return this}));var h=Object.getPrototypeOf,d=h&&h(h(k([])));d&&d!==e&&n.call(d,r)&&(b=d);var v=f.prototype=p.prototype=Object.create(b);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var a;this._invoke=function(r,o){function i(){return new e((function(a,i){!function a(r,o,i,c){var s=u(t[r],t,o);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==D(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){a("next",t,i,c)}),(function(t){a("throw",t,i,c)})):e.resolve(p).then((function(t){l.value=t,i(l)}),(function(t){return a("throw",t,i,c)}))}c(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function O(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var a=u(n,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,l;var r=a.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function k(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function e(){for(;++a<t.length;)if(n.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return m.prototype=f,c(v,"constructor",f),c(f,"constructor",m),m.displayName=c(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,i,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(g.prototype),c(g.prototype,o,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,a,r,o){void 0===o&&(o=Promise);var i=new g(s(e,n,a,r),o);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(v),c(v,i,"Generator"),c(v,r,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var a=e.pop();if(a in t)return n.value=a,n.done=!1,n}return n.done=!0,n}},t.values=k,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(n,a){return i.type="throw",i.arg=t,e.next=n,a&&(e.method="next",e.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var a=n.completion;if("throw"===a.type){var r=a.arg;_(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function N(t,e,n,a,r,o,i){try{var c=t[o](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(a,r)}function F(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(o.push(a.value),!e||o.length!==e);i=!0);}catch(t){c=!0,r=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw r}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var T=function(t){var e=t.query,n=t.automationId,r=e.period,i=e.interval,c=void 0===i?"day":i,u=e.after,l=e.before,p=Object(O.a)(Object(o.U)()).formatAmount,m=F(Object(a.useState)([]),2),f=m[0],b=m[1],d=F(Object(a.useState)(!0),2),v=d[0],y=d[1],j=F(Object(a.useState)(25),2),w=j[0],k=j[1],E=F(Object(a.useState)(0),2),L=E[0],I=E[1],S=F(Object(a.useState)(0),2),x=S[0],D=S[1],Y=parseInt(L)/parseInt(w)+1,T=Object(g.a)(),q=T.getAnalyticsTileData,R=T.getAnalyticsLoading,G=q(),z=R();Object(a.useEffect)((function(){if(!Object(o.gb)()&&z){var t=G.email_click,e=void 0===t?0:t,n=G.email_open,a=void 0===n?0:n,r=G.email_sents,i=void 0===r?0:r,c=G.total_orders,s=void 0===c?0:c,u=G.revenue,l=void 0===u?0:u;b([{click_count:e,click_rate:(e/i*100).toFixed(2),conversions:s,oid:"5",open_count:a,open_rate:(a/i*100).toFixed(2),revenue:l,sent:i,subject:"Dummy Subject",template:"",tid:"52",title:"Dummy Mail",type:"1"}]),y(!1)}}),[z]);var H=function(){var t,e=(t=M().mark((function t(e,a){return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(y(!0),Object(o.gb)()){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,A()({method:"GET",path:Object(o.k)("/analytics/emails/tabular/")+"?"+Object(P.stringify)({after:e,before:a,oid:n,type:1,interval:"day",limit:w,offset:L,mode:1})}).then((function(t){t.hasOwnProperty("result")&&b(t.result),t.hasOwnProperty("total_count")&&D(t.total_count),y(!1)}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),y(!1);case 11:case"end":return t.stop()}}),t,null,[[3,8]])})),function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){N(o,a,r,i,c,"next",t)}function c(t){N(o,a,r,i,c,"throw",t)}i(void 0)}))});return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var t,n=((t=e).compare="previous_year",Object(s.c)(t).primary),a="",r="";n&&(Object(_.isEmpty)(n.after)||(a=n.after.format("YYYY-MM-DD HH:mm:ss")),Object(_.isEmpty)(n.before)||(r=n.before.format("YYYY-MM-DD 23:59:59")),Object(_.isEmpty)(a)||Object(_.isEmpty)(r)||H(a,r))}),[r,c,u,l]);var U,V=[{key:"subject",label:Object(h.__)("Subject","wp-marketing-automations"),isLeftAligned:!0},{key:"source",label:Object(h.__)("Source","wp-marketing-automations"),isLeftAligned:!1},{key:"sent",label:Object(h.__)("Sent","wp-marketing-automations"),isLeftAligned:!0,isNumeric:!0},{key:"open",label:Object(h.__)("Open Rate","wp-marketing-automations"),isLeftAligned:!0},{key:"click",label:Object(h.__)("Click Rate","wp-marketing-automations"),isLeftAligned:!1,isNumeric:!0},Object(o.qb)()?{key:"orders",label:Object(h.__)("Orders","wp-marketing-automations"),isLeftAligned:!0}:{},Object(o.qb)()?{key:"revenue",label:Object(h.__)("Revenue","wp-marketing-automations"),isLeftAligned:!1,isNumeric:!0}:{}],B=function(t){t!==w&&k(t)};return Object(a.createElement)(C.a,{title:Object(h.__)("Email","wp-marketing-automations"),rows:(U=[],Object(_.isEmpty)(f)||f.map((function(t){U.push([{display:t.subject?t.subject:"-",value:t.subject},{display:t.title?t.title:"-",value:t.title},{display:parseInt(t.sent)?parseInt(t.sent):"-",value:t.sent},{display:parseInt(t.open_rate)?parseFloat(t.open_rate).toFixed(1)+"%":"-",value:t.open_count},{display:parseInt(t.click_rate)?parseFloat(t.click_rate).toFixed(1)+"%":"-",value:t.click_count},Object(o.qb)()?{display:parseInt(t.conversions)?parseInt(t.conversions):"-",value:t.conversions}:{},Object(o.qb)()?{display:parseFloat(t.revenue)>0?p(t.revenue):"-",value:t.revenue}:{}])})),U),headers:V,query:{paged:Y},rowsPerPage:w,totalRows:x,isLoading:v,onPageChange:function(t,e){I((t-1)*w)},onQueryChange:function(t){return"per_page"!==t?function(){}:B},showMenu:!1,rowHeader:!0,emptyMessage:Object(h.__)("No emails found","wp-marketing-automations")})};function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(){R=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function s(t,e,n,a){var r=e&&e.prototype instanceof p?e:p,o=Object.create(r.prototype),i=new w(a||[]);return o._invoke=function(t,e,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return E()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var c=O(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=u(t,e,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(t,n,i),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function p(){}function m(){}function f(){}var b={};c(b,r,(function(){return this}));var h=Object.getPrototypeOf,d=h&&h(h(k([])));d&&d!==e&&n.call(d,r)&&(b=d);var v=f.prototype=p.prototype=Object.create(b);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var a;this._invoke=function(r,o){function i(){return new e((function(a,i){!function a(r,o,i,c){var s=u(t[r],t,o);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==q(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){a("next",t,i,c)}),(function(t){a("throw",t,i,c)})):e.resolve(p).then((function(t){l.value=t,i(l)}),(function(t){return a("throw",t,i,c)}))}c(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function O(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var a=u(n,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,l;var r=a.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function k(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function e(){for(;++a<t.length;)if(n.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return m.prototype=f,c(v,"constructor",f),c(f,"constructor",m),m.displayName=c(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,i,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(g.prototype),c(g.prototype,o,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,a,r,o){void 0===o&&(o=Promise);var i=new g(s(e,n,a,r),o);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(v),c(v,i,"Generator"),c(v,r,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var a=e.pop();if(a in t)return n.value=a,n.done=!1,n}return n.done=!0,n}},t.values=k,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(n,a){return i.type="throw",i.arg=t,e.next=n,a&&(e.method="next",e.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var a=n.completion;if("throw"===a.type){var r=a.arg;_(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function G(t,e,n,a,r,o,i){try{var c=t[o](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(a,r)}function z(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(o.push(a.value),!e||o.length!==e);i=!0);}catch(t){c=!0,r=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw r}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return H(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var U=function(t){var e=t.query,n=t.automationId,r=e.period,i=e.interval,c=void 0===i?"day":i,u=e.after,l=e.before,p=Object(O.a)(Object(o.U)()).formatAmount,m=z(Object(a.useState)([]),2),f=m[0],b=m[1],d=z(Object(a.useState)(!0),2),v=d[0],y=d[1],j=z(Object(a.useState)(25),2),w=j[0],k=j[1],E=z(Object(a.useState)(0),2),L=E[0],I=E[1],S=z(Object(a.useState)(0),2),x=S[0],D=S[1],M=parseInt(L)/parseInt(w)+1,N=Object(g.a)(),F=N.getAnalyticsTileData,Y=N.getAnalyticsLoading,T=F(),q=Y();Object(a.useEffect)((function(){if(!Object(o.gb)()||!q){var t=T.email_click,e=void 0===t?0:t,n=T.email_open,a=void 0===n?0:n,r=T.email_sents,i=void 0===r?0:r,c=T.total_orders,s=void 0===c?0:c,u=T.revenue,l=void 0===u?0:u;b([{click_count:e,click_rate:(e/i*100).toFixed(2),conversions:s,oid:"5",open_count:a,open_rate:(a/i*100).toFixed(2),revenue:l,sent:i,subject:"Dummy Message",template:"",tid:"52",title:"Dummy SMS",type:"1"}]),y(!1)}}),[q]);var H=function(){var t,e=(t=R().mark((function t(e,a){return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(y(!0),Object(o.gb)()){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,A()({method:"GET",path:Object(o.k)("/analytics/emails/tabular/")+"?"+Object(P.stringify)({after:e,before:a,oid:n,type:1,interval:"day",limit:w,offset:L,mode:2})}).then((function(t){t.hasOwnProperty("result")&&b(t.result),t.hasOwnProperty("total_count")&&D(t.total_count),y(!1)}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),y(!1);case 11:case"end":return t.stop()}}),t,null,[[3,8]])})),function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){G(o,a,r,i,c,"next",t)}function c(t){G(o,a,r,i,c,"throw",t)}i(void 0)}))});return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var t,n=((t=e).compare="previous_year",Object(s.c)(t).primary),a="",r="";n&&(Object(_.isEmpty)(n.after)||(a=n.after.format("YYYY-MM-DD HH:mm:ss")),Object(_.isEmpty)(n.before)||(r=n.before.format("YYYY-MM-DD 23:59:59")),Object(_.isEmpty)(a)||Object(_.isEmpty)(r)||H(a,r))}),[r,c,u,l]);var U,V=[{key:"subject",label:Object(h.__)("Subject","wp-marketing-automations"),isLeftAligned:!0},{key:"source",label:Object(h.__)("Source","wp-marketing-automations"),isLeftAligned:!1},{key:"sent",label:Object(h.__)("Sent","wp-marketing-automations"),isLeftAligned:!0,isNumeric:!0},{key:"click",label:Object(h.__)("Click","wp-marketing-automations"),isLeftAligned:!1,isNumeric:!0},Object(o.qb)()?{key:"orders",label:Object(h.__)("Orders","wp-marketing-automations"),isLeftAligned:!0}:{},Object(o.qb)()?{key:"revenue",label:Object(h.__)("Revenue","wp-marketing-automations"),isLeftAligned:!1,isNumeric:!0}:{}],B=function(t){t!==w&&k(t)};return Object(a.createElement)(C.a,{title:Object(h.__)("SMS","wp-marketing-automations"),rows:(U=[],Object(_.isEmpty)(f)||f.map((function(t){var e=parseFloat(t.click_rate)?" ( "+parseFloat(t.click_rate).toFixed(2)+"% ) ":"";U.push([{display:t.subject?t.subject:"-",value:t.subject},{display:t.title?t.title:"-",value:t.title},{display:parseInt(t.sent)?parseInt(t.sent):"-",value:t.sent},{display:parseInt(t.click_count)?t.click_count+e:"-",value:t.click_count},Object(o.qb)()?{display:parseInt(t.conversions)?parseInt(t.conversions):"-",value:t.conversions}:{},Object(o.qb)()?{display:p(t.revenue),value:t.revenue}:{}])})),U),headers:V,query:{paged:M},rowsPerPage:w,totalRows:x,isLoading:v,onPageChange:function(t,e){I((t-1)*w)},onQueryChange:function(t){return"per_page"!==t?function(){}:B},showMenu:!1,rowHeader:!0,emptyMessage:Object(h.__)("No SMS found","wp-marketing-automations")})},V=n(93);function B(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(o.push(a.value),!e||o.length!==e);i=!0);}catch(t){c=!0,r=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw r}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Q(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}e.default=function(t){var e=t.match.params,n=e.automationId,c=e.type,l=void 0===c?"contact":c,p=t.isV2,m=void 0===p||p,d=Object(u.i)(),v=d.period,y=d.compare,O=d.interval,j=d.after,L=d.before,C=Object(i.a)().setL2NavAlign,x=Object(k.a)(),A=x.fetchAnalytics,P=x.setAnalyticsValues,D=(0,Object(g.a)().getAnalyticsAutomationData)().title,M=void 0===D?"":D,N=B(Object(a.useState)(!0),2),F=N[0],Y=N[1],q=Object(E.a)(),R=q.getAutomationData,G=q.getAutomationId,z=R().title,H=void 0===z?"":z,Q=G();Object(r.a)("analytics",parseInt(n)===parseInt(Q)&&""!==H&&""===M?H:M,!0,!1,null,n,!1,m),Object(a.useEffect)((function(){C("left"),Object(o.f)("Automation #"+n),P("automationId",n)}),[]);var $=function(t){return t.compare="previous_year",Object(s.c)(t).primary},J=function(t,e){if(P("analytics",[]),P("tiles",[]),Object(o.gb)()){var a=$(t),r="",i="",c="";if(a){switch(Object(_.isEmpty)(a.after)||(r=a.after.format("YYYY-MM-DD HH:mm:ss")),Object(_.isEmpty)(a.before)||(i=a.before.format("YYYY-MM-DD 23:59:59")),l){case"email":c=1;break;case"sms":c=2;break;case"whatsapp":c=3;break;case"contact":c=4;break;default:c=1}Object(_.isEmpty)(r)||Object(_.isEmpty)(i)||A(n,r,i,e,1,c)}}else setTimeout((function(){!function(){for(var t=$(d),e=0,n=0,a=0,r=0,o=0,i=0,c=0,s=0,u=[],l=t.after;l.isBefore(t.before);l.add(1,"days")){var p=Math.floor(11*Math.random()),m=Math.floor(Math.random()*parseInt(p)),f=Math.floor(Math.random()*parseInt(p)),b=Math.floor(Math.random()*parseInt(f)),h=Math.floor(100*Math.random()).toFixed(2),v=Math.floor(10*Math.random()),y=Math.floor(10*Math.random()),g=Math.floor(10*Math.random()),O=parseFloat(h)>0&&parseInt(b)>0?parseFloat(parseFloat(h)/parseInt(b)).toFixed(2):0;u.push({date_end_gmt:l.format("YYYY-MM-DD")+" 23:59:59",date_start_gmt:l.format("YYYY-MM-DD")+" 00:00:00",end_date:l.format("YYYY-MM-DD")+" 23:59:59",interval:l.format("YYYY-MM-DD"),start_date:l.format("YYYY-MM-DD")+" 00:00:00",subtotals:{click_rate:(m/p*100).toFixed(2),email_click:m,email_open:f,email_sents:p,open_rate:(f/p*100).toFixed(2),total_orders:b,total_revenue:parseFloat(h).toFixed(2),active_contacts:v,complete_contacts:y,unsubscribers:g,revenue:parseFloat(h).toFixed(2),conversions:b,aov:parseFloat(O).toFixed(2)}}),e+=f,n+=p,a+=m,r+=b,o=parseFloat(o)+parseFloat(h),i+=v,c+=y,s+=g}P("tiles",{click_rate:(a/n*100).toFixed(2),email_click:a,email_open:e,email_sents:n,open_rate:(e/n*100).toFixed(2),total_orders:r,total_revenue:o,active_contacts:i,complete_contacts:c,unsubscribers:s,revenue:o,conversions:r,aov:(parseFloat(o)/parseInt(r)).toFixed(2)}),P("analytics",u),P("isLoading",!1)}()}),1e3)};Object(a.useEffect)((function(){var t=d.hasOwnProperty("interval")?d.interval:"day";J(d,t)}),[v,y,O,j,L,l]);return Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{dangerouslySetInnerHTML:{__html:"<style>#bwfcrm-page{ overflow: auto !important; }</style>"}}),Object(a.createElement)(b.a,null),Object(a.createElement)(S.ButtonGroup,{className:"bwf-btn-group-tabs"},Object(a.createElement)(S.Button,{isPrimary:l&&"contact"===l,isSecondary:l&&"contact"!==l,onClick:function(){return Object(u.k)({page:"autonami",path:"/automation/".concat(n,"/analytics/contact")},"/",{})}},Object(h.__)("Contacts","wp-marketing-automations")),Object(a.createElement)(S.Button,{isPrimary:l&&"email"===l,isSecondary:l&&"email"!==l,onClick:function(){return Object(u.k)({page:"autonami",path:"/automation/".concat(n,"/analytics/email")},"/",{})}},Object(h.__)("Emails","wp-marketing-automations")),!Object(_.isEmpty)(Object(o.j)())&&Object(a.createElement)(S.Button,{isPrimary:l&&"sms"===l,isSecondary:l&&"sms"!==l,onClick:function(){return Object(u.k)({page:"autonami",path:"/automation/".concat(n,"/analytics/sms")},"/",{})}},Object(h.__)("SMS","wp-marketing-automations"))),Object(a.createElement)("div",{className:"bwf_clear_24"}),Object(a.createElement)("div",{className:"bwf-crm-analytics-wrap bwf-crm-emails-report-wrap"},Object(a.createElement)(f,{query:d}),Object(a.createElement)("div",{className:"bwf_clear_40"}),Object(a.createElement)(w,{query:d,type:l,automationId:n}),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(I,{query:d,type:l}),function(){switch(l){case"email":return Object(a.createElement)(T,{query:d,automationId:n});case"sms":return Object(a.createElement)(U,{query:d,automationId:n});default:return Object(a.createElement)(a.Fragment,null)}}()),!Object(o.gb)()&&Object(a.createElement)(V.a,{isOpen:F,onRequestClose:function(){return Y(!1)},closeOnClickOut:!1,modalContent:{demoLabel:Object(h.__)("Try Demo","wp-marketing-automations")}}))}},837:function(t,e,n){"use strict";var a=n(0),r=n(132),o=n(2),i=n(5),c=n(55),s=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={workflow:{name:Object(o.__)("Workflow","wp-marketing-automations"),link:e?"admin.php?page=autonami&path=/automation/".concat(t):"admin.php?page=autonami-automations&edit=".concat(t)}};return e&&(n.analytics={name:Object(o.__)("Analytics","wp-marketing-automations"),link:e?"admin.php?page=autonami&path=/automation/".concat(t,"/analytics"):"admin.php?page=autonami&path=/automation-v1/".concat(t,"/analytics"),isProFeature:!0,showOnClick:!0},n.contacts={name:Object(o.__)("Contacts","wp-marketing-automations"),link:"admin.php?page=autonami&path=/automation/".concat(t,"/contacts"),isProFeature:!0,showOnClick:!0}),n.engagement={name:Object(o.__)("Engagements","wp-marketing-automations"),link:e?"admin.php?page=autonami&path=/automation/".concat(t,"/engagements"):"admin.php?page=autonami&path=/automation-v1/".concat(t,"/engagements"),isProFeature:!0,showOnClick:!0},Object(i.qb)()&&(n.orders={name:Object(o.__)("Orders","wp-marketing-automations"),link:e?"admin.php?page=autonami&path=/automation/".concat(t,"/orders"):"admin.php?page=autonami&path=/automation-v1/".concat(t,"/orders"),isProFeature:!0,showOnClick:!0}),n};e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,p=arguments.length>6&&void 0!==arguments[6]&&arguments[6],m=arguments.length>7&&void 0!==arguments[7]&&arguments[7],f=arguments.length>8&&void 0!==arguments[8]&&arguments[8],b=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},h=b.automation_nav,d=b.automationv2_nav,v=Object(r.a)(),y=v.setActiveMultiple,g=v.resetHeaderMenu,O=v.setL2NavType,j=v.setL2Nav,_=v.setBackLink,w=v.setL2Title,k=v.setL2Content,E=v.setBackLinkLabel,L=v.setL2NavAlign,I=v.setPageHeader;return Object(a.useEffect)((function(){g(),!i&&O("menu"),f||j(l?s(l,m):m?d:h),y({leftNav:m?"automations-v2":"automations-v1",rightNav:t}),n&&_(n),l&&_(n&&!m?"admin.php?page=autonami&path=/automations-v1":"admin.php?page=autonami&path=/automations"),i||m&&l&&E(Object(o.__)("All Automations","wp-marketing-automations-crm")),!m&&l&&E(Object(o.__)("All Automations","wp-marketing-automations")),l&&L("left"),e&&w(e),!n&&u&&k(u),I("Automations"),m&&I(Object(a.createElement)(a.Fragment,null,"Automations",Object(a.createElement)(c.a,{label:"Next Gen"}))),p&&j({})}),[t,m,e,f]),!0}},839:function(t,e,n){"use strict";var a=n(135),r=n(95),o=["getStateProp"];function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},o=Object.keys(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}e.a=function(){var t=Object(a.a)("automationList"),e=t.getStateProp,n=u(t,o),i=Object(a.a)(r.a.recipient).getStateProp,s=Object(a.a)(r.a.conversion).getStateProp,l=Object(a.a)(r.a.contacts).getStateProp,p=Object(a.a)(r.a.analytics).getStateProp;return c(c({},n),{},{getAutomations:function(){return e("automations")},getPageNumber:function(){return parseInt(e("offset"))/parseInt(e("limit"))+1},getPerPageCount:function(){return parseInt(e("limit"))},getOffset:function(){return parseInt(e("offset"))},getTotalCount:function(){return parseInt(e("total"))},getLoadingStatus:function(){return e("isLoading")},getRecipientData:function(){return i("data")},getRecipientLoading:function(){return i("isLoading")},getRecipientOffset:function(){return i("offset")},getRecipientAutomationId:function(){return i("automationId")},getRecipientTotal:function(){return i("total")},getRecipientAutomation:function(){return i("automation")},getRecipientPage:function(){return parseInt(i("offset"))/parseInt(i("limit"))+1},getRecipientLimit:function(){return i("limit")},getConversionData:function(){return s("data")},getConversionLoading:function(){return s("isLoading")},getConversionOffset:function(){return s("offset")},getConversionAutomationId:function(){return s("automationId")},getConversionTotal:function(){return s("total")},getConversionAutomation:function(){return s("automation")},getConversionPage:function(){return parseInt(s("offset"))/parseInt(s("limit"))+1},getConversionLimit:function(){return s("limit")},getCountData:function(){return e("countData")},getContactData:function(){return l("data")},getContactLoading:function(){return l("isLoading")},getContactOffset:function(){return l("offset")},getContactAutomationId:function(){return l("automationId")},getContactTotal:function(){return l("total")},getContactAutomation:function(){return l("automation")},getContactPage:function(){return parseInt(l("offset"))/parseInt(l("limit"))+1},getContactLimit:function(){return l("limit")},getContactCountData:function(){return l("contactCount")},getAnalyticsData:function(){return p("analytics")},getAnalyticsTileData:function(){return p("tiles")},getAnalyticsTableData:function(){return p("tableData")},getAnalyticsLoading:function(){return p("isLoading")},getAnalyticsType:function(){return p("type")},getAnalyticsAutomationData:function(){return p("automation")}})}},852:function(t,e,n){"use strict";var a=n(134),r=n(5),o=n(95),i=n(17),c=["fetch","setStateProp"],s=["s","page","filter","path"];function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},o=Object.keys(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}e.a=function(){var t=Object(a.a)("automationList"),e=t.fetch,n=t.setStateProp,u=m(t,c),p=Object(a.a)(o.a.recipient),f=p.fetch,b=p.setStateProp,h=Object(a.a)(o.a.conversion),d=h.fetch,v=h.setStateProp,y=Object(a.a)(o.a.contacts),g=y.fetch,O=y.setStateProp,j=Object(a.a)(o.a.analytics),_=j.fetch,w=j.setStateProp;return l(l({},u),{},{fetch:function(t,a,o,i){var c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n("automation",{});var u=a.s,l=(a.page,a.filter,a.path,m(a,s)),p={offset:o,limit:i,status:t,search:u,filters:l,version:c?2:1};e("GET",Object(r.k)("/automations"),p)},setAutomationListValues:function(t,e){n(t,e)},fetchRecipient:function(t,e,n){f("GET",Object(r.k)("/automation/".concat(t,"/recipients?limit=").concat(e,"&offset=").concat(n)))},setRecipientsValues:function(t,e){b(t,e)},fetchConversion:function(t,e,n){v("automation",{}),d("GET",Object(r.k)("/automation/".concat(t,"/conversions?limit=").concat(e,"&offset=").concat(n)))},setConversionValues:function(t,e){v(t,e)},fetchContacts:function(t,e,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";O("automation",{}),g("GET",Object(r.k)("/automation/".concat(t,"/contacts?limit=").concat(e,"&offset=").concat(n,"&type=").concat(a,"&search=").concat(o)))},setContactValues:function(t,e){O(t,e)},fetchAnalytics:function(t,e,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=0;4===parseInt(c)&&(s=1),_("GET",Object(r.k)("/analytics/emails/chart/")+"?"+Object(i.stringify)({after:e,before:n,interval:a,oid:t,type:o,mode:c,contact:s}))},setAnalyticsValues:function(t,e){w(t,e)}})}}}]);