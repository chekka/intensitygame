(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{1123:function(e,t,n){},1205:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(2),r=n(4),a=n(3),i=n(74),s=n(26),l=n(262),u=n(130),f=n(5),d=n(8),b=function(e){var t=e.isSyncable,n=void 0!==t&&t,a=e.isConnected,l=e.id,u=e.connector,b=Object(i.b)(),m=!Object(f.gb)()||!Object(f.eb)();return Object(c.createElement)("div",{className:"wfco-connector-btns"},Object(c.createElement)("div",{className:"wfco-connector-btns-left"},!m&&!!a&&Object(c.createElement)(r.Button,{isLink:!0,icon:"no-alt",onClick:function(){return b(s.a.showDisconnectModal(u))}},Object(o.__)("Disconnect","wp-marketing-automations"))),Object(c.createElement)("div",{className:"wfco-connector-btns-right"},!!m&&Object(c.createElement)(r.Button,{className:"bwf-display-flex",isPrimary:!0,onClick:function(){return b(s.a.showGetPro(!0))}},Object(c.createElement)(d.a,{icon:"lock",size:15,color:"#ffffff"}),Object(c.createElement)("span",null,Object(o.__)("Locked","wp-marketing-automations"))),!m&&!a&&Object(c.createElement)(r.Button,{isPrimary:!0,onClick:function(){return b(s.a.showSettingsModal(u))}},Object(o.__)("Connect","wp-marketing-automations")),!m&&!!n&&!!parseInt(l)&&!!a&&Object(c.createElement)(r.Button,{isPrimary:!0,onClick:function(){return b(s.a.showSyncModal(u))}},Object(o.__)("Sync","wp-marketing-automations")),!m&&!!a&&Object(c.createElement)(r.Button,{isSecondary:!0,onClick:function(){return b(s.a.showSettingsModal(u))}},Object(o.__)("Settings","wp-marketing-automations"))))},m=function(){return Object(c.createElement)("div",{className:"wfco-col-md-4"},Object(c.createElement)("div",{className:"wfco-connector-wrap"},Object(c.createElement)("div",{className:"wfco-connector_card_outer"},Object(c.createElement)("div",{className:"wfco-connector-img-outer"},Object(c.createElement)("div",{className:"wfco-connector-img"},Object(c.createElement)(u.a,{height:90,width:110}))),Object(c.createElement)("div",{className:"wfco_connector_info"},Object(c.createElement)("div",{className:"wfco_connector_info_head"},Object(c.createElement)(u.a,null)),Object(c.createElement)("div",{className:"wfco_connector_info_details"},Object(c.createElement)(u.a,{width:180}),Object(c.createElement)(u.a,{width:160}),Object(c.createElement)(u.a,{width:140})))),Object(c.createElement)("div",{className:"wfco-connector-action"},Object(c.createElement)("div",{className:"wfco-connector-btns"},Object(c.createElement)(u.a,{height:36})))))},v=function(e){var t=e.connector,n=e.connector_id,o=e.name,r=e.logo,a=e.description,i=e.is_connected,s=e.is_syncable;e.meta;return Object(c.createElement)("div",{className:"wfco-col-md-4"},Object(c.createElement)("div",{className:"wfco-connector-wrap"},Object(c.createElement)("div",{className:"wfco-connector_card_outer"},!!r&&Object(c.createElement)("div",{className:"wfco-connector-img-outer"},Object(c.createElement)("div",{className:"wfco-connector-img"},Object(c.createElement)("div",{className:"wfco-connector-img-section"},Object(c.createElement)("img",{src:r})))),Object(c.createElement)("div",{className:"wfco_connector_info"},!!o&&Object(c.createElement)("div",{className:"wfco_connector_info_head"},o),!!a&&Object(c.createElement)("div",{className:"wfco_connector_info_details"},a))),Object(c.createElement)("div",{className:"wfco-connector-action"},Object(c.createElement)(b,{isConnected:i,isSyncable:s,connector:t,id:n}))))},h=n(93);function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}var O=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t=Object(i.b)(),n=Object(i.c)(l.a.shouldShowGetPro),r=!Object(f.eb)()&&Object(f.gb)()?{modalContent:{proLink:null,title:Object(o.__)("Autonami Pro Connector addon not activated","wp-marketing-automations"),content:Object(o.__)("Activate the addon to connect with your favourite service. This pro addon is available in your account for download.","wp-marketing-automations"),demoLabel:Object(o.__)("Close","wp-marketing-automations")}}:{};return Object(c.createElement)(h.a,p({},r,{isOpen:n,onRequestClose:function(){return t(s.a.showGetPro(!1))}}))},j=n(286),g=n(47),w=n(253),y=n(17);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){E=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,c="function"==typeof Symbol?Symbol:{},o=c.iterator||"@@iterator",r=c.asyncIterator||"@@asyncIterator",a=c.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,n){return e[t]=n}}function s(e,t,n,c){var o=t&&t.prototype instanceof f?t:f,r=Object.create(o.prototype),a=new k(c||[]);return r._invoke=function(e,t,n){var c="suspendedStart";return function(o,r){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===o)throw r;return S()}for(n.method=o,n.arg=r;;){var a=n.delegate;if(a){var i=g(a,n);if(i){if(i===u)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===c)throw c="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);c="executing";var s=l(e,t,n);if("normal"===s.type){if(c=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(c="completed",n.method="throw",n.arg=s.arg)}}}(e,n,a),r}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var u={};function f(){}function d(){}function b(){}var m={};i(m,o,(function(){return this}));var v=Object.getPrototypeOf,h=v&&v(v(C([])));h&&h!==t&&n.call(h,o)&&(m=h);var p=b.prototype=f.prototype=Object.create(m);function O(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){var c;this._invoke=function(o,r){function a(){return new t((function(c,a){!function c(o,r,a,i){var s=l(e[o],e,r);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==_(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){c("next",e,a,i)}),(function(e){c("throw",e,a,i)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return c("throw",e,a,i)}))}i(s.arg)}(o,r,c,a)}))}return c=c?c.then(a,a):a()}}function g(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,g(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var c=l(n,e.iterator,t.arg);if("throw"===c.type)return t.method="throw",t.arg=c.arg,t.delegate=null,u;var o=c.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function y(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var c=-1,r=function t(){for(;++c<e.length;)if(n.call(e,c))return t.value=e[c],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=b,i(p,"constructor",b),i(b,"constructor",d),d.displayName=i(b,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,i(e,a,"GeneratorFunction")),e.prototype=Object.create(p),e},e.awrap=function(e){return{__await:e}},O(j.prototype),i(j.prototype,r,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,c,o,r){void 0===r&&(r=Promise);var a=new j(s(t,n,c,o),r);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(p),i(p,a,"Generator"),i(p,o,(function(){return this})),i(p,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var c=t.pop();if(c in e)return n.value=c,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(y),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function c(n,c){return a.type="throw",a.arg=e,t.next=n,c&&(t.method="next",t.arg=void 0),!!c}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],a=r.completion;if("root"===r.tryLoc)return c("end");if(r.tryLoc<=this.prev){var i=n.call(r,"catchLoc"),s=n.call(r,"finallyLoc");if(i&&s){if(this.prev<r.catchLoc)return c(r.catchLoc,!0);if(this.prev<r.finallyLoc)return c(r.finallyLoc)}else if(i){if(this.prev<r.catchLoc)return c(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return c(r.finallyLoc)}}}},abrupt:function(e,t){for(var c=this.tryEntries.length-1;c>=0;--c){var o=this.tryEntries[c];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),y(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var c=n.completion;if("throw"===c.type){var o=c.arg;y(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function k(e,t,n,c,o,r,a){try{var i=e[r](a),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(c,o)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var c,o,r=[],a=!0,i=!1;try{for(n=n.call(e);!(a=(c=n.next()).done)&&(r.push(c.value),!t||r.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,c=new Array(t);n<t;n++)c[n]=e[n];return c}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(){var e=Object(i.b)(),t=Object(i.c)(l.a.settingsModalOpen),n=Object(i.c)(l.a.saveConnectorError),u=Object(i.c)(l.a.saveConnectorStatus),f=!!u&&"idle"===u,d=!!u&&"loading"===u,b=!!u&&"connected"===u,m=Object(i.c)(l.a.getCurrentConnector),v=m.fields_schema,h=void 0===v?[]:v,p=m.fields_values,O=void 0===p?{}:p,_=m.name,S=void 0===_?"":_,N=m.is_connected,L=m.connector,P=m.connector_id,M=m.meta,T=(M=void 0===M?{}:M).redirect_url,D=void 0===T?"":T,A=M.connect_type,G=void 0===A?"normal":A,B=M.action,F=void 0===B?"":B,I=M.buttonLabel,R=void 0===I?"":I,z=M.busyLabel,U=void 0===z?"":z,q=Object(c.useCallback)((function(t){return e(s.a.saveConnector({connector:L,settings:N?x(x({},t),{},{id:P}):t}))}),[s.a,N,P]),Y=Object(c.useCallback)((function(){window.location.href=D}),[D]),H=C(Object(c.useState)(!1),2),J=H[0],$=H[1],K=C(Object(c.useState)(!1),2),Q=K[0],V=K[1],W=function(){var e,t=(e=E().mark((function e(){var t,n,c;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==F){e.next=2;break}return e.abrupt("return");case 2:return t={v:2,action:F},$(!0),e.next=6,fetch(bwfanParams.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},credentials:"same-origin",body:Object(y.stringify)(t)});case 6:return n=e.sent,e.next=9,n.json();case 9:(c=e.sent).hasOwnProperty("msg")&&"string"==typeof c.msg?(V(!0),setTimeout((function(){$(!1)}),1e3),window.location.href=D+"&n="+(new Date).getTime()):$(!1);case 11:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(c,o){var r=e.apply(t,n);function a(e){k(r,c,o,a,i,"next",e)}function i(e){k(r,c,o,a,i,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return Object(c.createElement)(c.Fragment,null,t&&Object(c.createElement)(r.Modal,{className:"bwf-admin-modal bwf-admin-modal-medium bwfan-connector-settings-modal",isDismissible:f,shouldCloseOnClickOutside:!1,shoulfCloseOnEsc:!1,onRequestClose:function(){return!!f&&e(s.a.hideSettingsModal())},title:!!S&&Object(o.__)("Connect with ","wp-amrketing-automations-crm")+S},Object(c.createElement)("div",{className:"bwfan-connector-settings-modal-inner"},!!n&&Object(c.createElement)(r.Notice,{status:"error",isDismissible:!0,onRemove:function(){return e(s.a.clearSaveConnectorError())}},n),!!d&&Object(c.createElement)("div",{className:"bwf-t-center"},Object(c.createElement)(g.a,null)),!!b&&Object(c.createElement)("div",{className:"bwf-t-center"},Object(c.createElement)(w.a,null),Object(c.createElement)("div",{className:"bwf-h1"},Object(o.__)("Connected / Updated Successfully","wp-marketing-automations"))),!!f&&Object(a.size)(h)>0&&Object(c.createElement)(j.a,{fields:h,values:Object(a.isEmpty)(O)||Object(a.isUndefined)(O)?{}:O,handleSubmit:function(e){return function(e){switch(G){case"redirect_url":Y();break;case"ajax_redirect_url":W();break;default:q(e)}}(e)},submitButtonTitle:function(){if(N&&0===Object(a.size)(O))return"";if("ajax_redirect_url"===G){var e="Connect";return Q?e="Redirecting...":J&&U?e=U:R&&(e=R),e}return N&&"redirect_url"!==G?"Update":"Connect"}(),isLoading:J}),!!f&&0===Object(a.size)(h)&&Object(c.createElement)("p",null,Object(o.__)("No settings available for this connector","wp-marketing-automations")))))},M=n(133),T=function(){var e=Object(i.b)(),t=Object(i.c)(l.a.disconnectModalOpen),n=Object(i.c)(l.a.deleteConnectorError),r=Object(i.c)(l.a.deleteConnectorStatus),a=!!r&&"idle"===r,u=!!r&&"loading"===r,f=!!r&&"success"===r,d=Object(i.c)(l.a.getCurrentConnector).connector;return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(M.a,{isOpen:t,modalTitle:Object(o.__)("Disconnect Connector","wp-marketing-automations"),deleteDescriptionText:Object(o.__)("You are about to disconnect connector. All the action, tasks, logs of this connector will be deleted. Cancel to stop, Proceed to continue.","wp-marketing-automations"),confirmButtonText:Object(o.__)("Proceed","wp-marketing-automations"),cancelButtonText:Object(o.__)("Cancel","wp-marketing-automations"),onConfirm:function(){return e(s.a.deleteConnector(d))},isLoading:u,successMessage:!!f&&Object(o.__)("Disconnected Successfully!","wp-marketing-automations"),errorMessage:!!n&&n,onRequestClose:function(){return!!a&&e(s.a.hideDisconnectModal())},isDelete:!0,showSuccessMsg:!0}))},D=function(){var e=Object(i.b)(),t=Object(i.c)(l.a.syncModalOpen),n=Object(i.c)(l.a.syncConnectorError),r=Object(i.c)(l.a.syncConnectorStatus),a=!!r&&"idle"===r,u=!!r&&"loading"===r,f=!!r&&"success"===r,d=Object(i.c)(l.a.getCurrentConnector),b=d.connector,m=d.connector_id;return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(M.a,{isOpen:t,modalTitle:Object(o.__)("Sync Connector","wp-marketing-automations"),deleteDescriptionText:Object(o.__)("You are about to sync connector. All the data of this connector will be synced. Cancel to stop, Proceed to continue","wp-marketing-automations"),confirmButtonText:Object(o.__)("Proceed","wp-marketing-automations"),cancelButtonText:Object(o.__)("Cancel","wp-marketing-automations"),onConfirm:function(){return e(s.a.syncConnector({connector:b,id:m}))},isLoading:u,successMessage:!!f&&Object(o.__)("Synced Successfully!","wp-marketing-automations"),errorMessage:!!n&&n,onRequestClose:function(){return!!a&&e(s.a.hideSyncModal())},isDelete:!0,showSuccessMsg:!0}))},A=n(72),G=n(15),B=function(e){var t=e.wfco_connector,n=void 0===t?"":t,o=e.access_token,r=void 0===o?"":o,u=e.bwfco_access_t,f=void 0===u?"":u,d=Object(i.b)(),b="success"===Object(i.c)(l.a.getConnectorsStatus),m=Object(c.useCallback)((function(){d(s.a.showSettingsModal(n)),d(s.a.saveConnector({connector:n,settings:{access_token:Object(a.isEmpty)(r)?f:r}})),Object(G.k)({page:e.page},e.path,{})}),[n,r,d,f]);return Object(c.useEffect)((function(){"bwfco_slack"===n&&(r||f)&&b&&m()}),[n,r,m,b,f]),null},F=function(e){var t=e.bitly,n=void 0===t?"":t,o=e.login,r=void 0===o?"":o,a=e.access_token,u=void 0===a?"":a,f=e.bwfco_access_t,d=void 0===f?"":f,b=Object(i.b)(),m="success"===Object(i.c)(l.a.getConnectorsStatus),v=Object(c.useCallback)((function(){b(s.a.showSettingsModal("bwfco_bitly")),b(s.a.saveConnectorSuccess({connector:"bwfco_bitly",id:"bitly"})),Object(G.k)({page:e.page},e.path,{});var t=setTimeout((function(){b(s.a.hideSettingsModal()),clearInterval(t)}),3e3)}),[b]);return Object(c.useEffect)((function(){"yes"===n&&(u||d)&&r&&v()}),[n,u,r,v,m,d]),null},I=function(e){var t=e.wfco_connector,n=void 0===t?"":t,r=e.status,a=void 0===r?0:r,u=e.error_msg,f=Object(i.b)(),d="success"===Object(i.c)(l.a.getConnectorsStatus);return Object(c.useEffect)((function(){if("bwfco_mautic"===n&&"success"===a&&d){f(s.a.showSettingsModal(n)),f(s.a.dummyConnectorSuccess()),Object(G.k)({page:e.page},e.path,{});var t=setTimeout((function(){f(s.a.hideSettingsModal()),clearInterval(t)}),3e3)}if("bwfco_mautic"===n&&"failed"===a&&d){f(s.a.showSettingsModal(n));var c=u||Object(o.__)("Unknown Error Occurred","wp-marketing-automations");f(s.a.saveConnectorFailed(c))}}),[n,a,d]),null},R=n(132),z=n(137),U=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,n=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},o=Object(R.a)(),r=o.setActiveMultiple,a=o.setL2NavType,i=o.setL2Nav,s=o.resetHeaderMenu,l=o.setPageHeader,u=o.setPageCountData,f=Object(z.a)(),d=f.getPageCountData,b=d();return Object(c.useEffect)((function(){b!==t&&(s(),r({leftNav:"connectors",rightNav:e}),a("menu"),i(n.connectors_nav),l("Connectors"),t&&u(t))}),[e,t]),!0},q=(n(1123),function(e){var t=e.connector,n=void 0===t?"":t,o=e.code,r=void 0===o?"":o,a=e.state,u=void 0===a?"":a,f=e.client_id,d=void 0===f?"":f,b=e.client_secret,m=void 0===b?"":b,v=Object(i.b)(),h="success"===Object(i.c)(l.a.getConnectorsStatus),p=Object(i.c)(l.a.getConnector("bwfco_keap")),O=p&&p.fields_values?p.fields_values:{},j=p&&p.fields_schema?p.fields_schema:{},g=Object(c.useCallback)((function(){v(s.a.showSettingsModal("bwfco_keap")),v(s.a.saveConnector({connector:"bwfco_keap",settings:{code:r,state:u,client_id:d,client_secret:m}}))}),[n,r,u,v,d,m]);return Object(c.useEffect)((function(){if((O.code||O.state)&&O.client_id&&O.client_secret){var t={client_id:O.client_id,client_secret:O.client_secret};v(s.a.setConnectorSchema({connector:"bwfco_keap",schema:j,values:t,saveStatus:"connected"})),Object(G.k)({page:e.page},e.path,{})}}),[O]),Object(c.useEffect)((function(){"keap"===n&&r&&u&&h&&g()}),[n,r,u,g,h]),null});function Y(){return(Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}var H=Object(c.memo)((function(e){var t=e.size,n=void 0===t?15:t;return Object(c.createElement)("div",{className:"wfco_global wfco_connector_listing"},Object(c.createElement)("div",{className:"wfco_connector_listing_wrap wfco_clearfix"},Object(c.createElement)("div",{className:"wfco-row"},Array.from(Array(n).keys()).map((function(e){return Object(c.createElement)(m,{key:e})})))))})),J=Object(c.memo)((function(e){var t=e.selected,n=void 0===t?"all":t,u=location&&location.search?Object(y.parse)(location.search.substring(1)):{};B(u),F(u),I(u),q(u);var d=Object(i.c)(l.a.settingsModalOpen),b=Object(i.c)(l.a.disconnectModalOpen),m=Object(i.c)(l.a.syncModalOpen),h=Object(i.b)(),p=Object(i.c)(l.a.getConnectorsStatus),j=Object(i.c)(l.a.getConnectorsError),g=Object(i.c)(l.a.getConnectors),w="loading"===p,_=Object(i.c)(l.a.getConnectorsCount),E=0;Object(c.useEffect)((function(){Object(f.f)(Object(o.__)("Connectors","wp-marketing-automations")),h(s.a.getConnectors()),E=0}),[]);var k={all:Object(o.__)("No connector found","wp-marketing-automations"),active:Object(o.__)("No active connector found","wp-marketing-automations"),inactive:Object(o.__)("No inactive connector found","wp-marketing-automations")};U(Object(o.__)("Connectors","wp-marketing-automations"),n,_),Object(c.useEffect)((function(){if(!Object(a.isEmpty)(g)){var e=[],t={all:0,active:0,inactive:0};Object.keys(g).sort().forEach((function(c){var o=g[c];("all"===n||"inactive"===n&&!o.is_connected||"active"===n&&o.is_connected)&&(E++,e.push(c)),t.all++,o.is_connected?t.active++:t.inactive++})),h(s.a.getCount(t))}}),[g,n]);var C=Object(c.useMemo)((function(){if(!Object(a.isEmpty)(g)){var e=[];return Object.keys(g).sort().forEach((function(t){var c=g[t];("all"===n||"inactive"===n&&!c.is_connected||"active"===n&&c.is_connected)&&(E++,e.push(t))})),Object(c.createElement)(c.Fragment,null,Object(c.createElement)(A.a,null),Object(c.createElement)("div",{className:"wfco_global wfco_connector_listing"},Object(c.createElement)("div",{className:"wfco_connector_listing_wrap wfco_clearfix"},Object(c.createElement)("div",{className:"wfco-row"},e.map((function(e){return Object(c.createElement)(v,Y({key:e,connector:e},g[e]))})),0===E&&Object(c.createElement)("div",{className:"bwf-p"},k[n])))))}}),[g,n]);return Object(c.createElement)("div",{className:"bwfan_global bwfan_global_settings bwfan_connectors"},Object(c.createElement)("div",{className:"bwfan_global_settings_wrap"},!!j&&Object(c.createElement)(r.Notice,{status:"error"},j),!!w&&Object(c.createElement)(H,null),!w&&!!g&&C,d&&Object(c.createElement)(P,null),b&&Object(c.createElement)(T,null),m&&Object(c.createElement)(D,null),Object(c.createElement)(O,null)))}));t.default=J}}]);