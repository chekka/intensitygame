(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{855:function(t,e,r){"use strict";var n=r(0),o=r(12),a=r.n(o),i=r(5),c=r(914),u=r(864);r(971);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){h(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function h(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p(){p=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),i=new x(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=j(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function m(){}function d(){}var y={};c(y,o,(function(){return this}));var b=Object.getPrototypeOf,v=b&&b(b(k([])));v&&v!==e&&r.call(v,o)&&(y=v);var g=d.prototype=h.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var f=u.arg,h=f.value;return h&&"object"==l(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(h).then((function(t){f.value=t,i(f)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function j(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=s(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return m.prototype=d,c(g,"constructor",d),c(d,"constructor",m),m.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},w(O.prototype),c(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new O(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(g),c(g,i,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=k,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function m(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}e.a=function(){var t=d(Object(n.useState)(!1),2),e=t[0],r=t[1],o=d(Object(n.useState)({}),2),l=o[0],s=o[1],h=Object(n.useCallback)(function(){var t,e=(t=p().mark((function t(e){var n,o;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.signal,r(!0),t.prev=2,t.next=5,a()({method:"GET",path:Object(i.k)("/fields"),signal:n});case 5:(o=t.sent)&&o.result&&s(o.result),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:!n.aborted&&r(!1),e=null;case 14:case"end":return t.stop()}}),t,null,[[2,9]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){m(a,n,o,i,c,"next",t)}function c(t){m(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(t){return e.apply(this,arguments)}}());Object(n.useEffect)((function(){var t=new AbortController;return Object(i.gb)()&&h(t),function(){null==t||t.abort()}}),[]);var y={};if(l)for(var b in l){var v=l[b],g=Object(c.b)(v.type),w=v.meta.options,O=v.name;y["bwf_cf".concat(v.ID)]=Object(c.a)(O,"Custom Field","contact_custom_fields",12,g,w)}var j=f(f({},u.a),y);return!!e||j}},861:function(t,e,r){"use strict";r.d(e,"a",(function(){return y})),r.d(e,"c",(function(){return E})),r.d(e,"b",(function(){return zt}));var n=r(0),o=r(4),a=r(2),i=r(3),c=r(12),u=r.n(c),l=r(5),s=(r(253),r(255),r(47),r(15));function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var y=function(t){var e=t.filter,r=t.config,c=Object(s.i)(),f=m(Object(n.useState)({loading:!1,success:!1,error:!1,message:""}),2),p=f[0],d=f[1],y=Object(n.useContext)(l.d),b=m(Object(n.useState)(""),2),v=b[0],g=b[1],w=m(Object(n.useState)(!1),2),O=w[0],j=w[1],E=m(Object(n.useState)(""),2),_=E[0],x=E[1],k=m(Object(n.useState)(!1),2),L=k[0],S=k[1],P=function(){d(h(h({},p),{},{loading:!0}));var t=Object(s.j)(e,c,r.filters);if(Object(i.isEmpty)(t))d({loading:!0,error:!0,message:Object(a.__)("Please fill the filter","wp-marketing-automations")}),setTimeout((function(){d({loading:!1,success:!1,error:!1,message:""})}),2e3);else try{u()({path:Object(l.k)("/audience"),method:"POST",data:{name:v,data:{desc:_,filters:t}}}).then((function(t){200===t.code?(y(t.message),Object(l.Z)(y,2e3),d({loading:!1,success:!1,error:!1,message:""}),S(!1)):(d({loading:!0,error:!0,message:t.message}),y(t.message),setTimeout((function(){d({loading:!1,success:!1,error:!1,message:""})}),2e3))}))}catch(t){d({loading:!0,error:!0,message:t.message}),y(t.message),setTimeout((function(){d({loading:!1,success:!1,error:!1,message:""})}),2e3)}};return Object(n.createElement)("div",{className:"bwf-adv-filter-action-btn"},!Object(i.isEmpty)(e)&&Object(n.createElement)(o.Button,{isTertiary:!0,onClick:function(){g(""),j(!1),x(""),S(!0)}},Object(a.__)("Save as Audience","wp-marketing-automations")),L&&Object(n.createElement)(o.Modal,{title:"Add Audience",onRequestClose:function(){return S(!1)},shouldCloseOnClickOutside:!1,className:"bwf-admin-modal bwf-admin-modal-squeezy"},Object(n.createElement)("div",{onKeyPress:function(t){"Enter"===t.key&&(Object(i.isEmpty)(v)?j(!0):P())}},O&&Object(n.createElement)(o.Notice,{status:"error",onRemove:function(){return j("")}},Object(a.__)("Name is required","wp-marketing-automations")),Object(n.createElement)(o.TextControl,{type:"text",value:v,autoFocus:!0,style:{lineHeight:"22px"},placeholder:Object(a.__)("Enter audience name","wp-marketing-automations"),label:Object(a.__)("Name","wp-marketing-automations"),onChange:function(t){g(t),Object(i.isEmpty)(t)?j(!0):j(!1)},disabled:p.loading}),Object(n.createElement)(o.TextareaControl,{placeholder:Object(a.__)("Enter audience description","wp-marketing-automations"),label:Object(a.__)("Description","wp-marketing-automations"),value:_,onChange:function(t){return x(t)},disabled:p.loading}),Object(n.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(n.createElement)(o.Button,{className:"bwf-cancel-btn",onClick:function(){return S(!1)},disabled:p.loading},Object(a.__)("Cancel","wp-marketing-automations")),Object(n.createElement)(o.Button,{isPrimary:!0,disabled:p.loading,isBusy:p.loading,onClick:function(){Object(i.isEmpty)(v)?j(!0):P()}},Object(a.__)("Add","wp-marketing-automations"))))))},b=(r(972),r(8));function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){w(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function w(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return j(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var E=function(t){var e=t.addAdvance,r=void 0===e||e,c=t.restrictedFilters,f=void 0===c?[]:c,h=Object(s.i)(),p=O(Object(n.useState)(!1),2),m=p[0],d=p[1],y=O(Object(n.useState)(""),2),v=y[0],w=y[1],j=O(Object(n.useState)([]),2),E=j[0],_=j[1],x=O(Object(n.useState)(!0),2),k=x[0],L=x[1],S=function(){var t=[];return Object(i.isEmpty)(v)?E:(E.map((function(e){-1!==e.name.toLowerCase().indexOf(v.toLowerCase())&&t.push(e)})),t)};return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-list-audience-wrap"},Object(n.createElement)(o.Button,{isTertiary:!0,className:"bwf-display-flex bwf-add-audience-btn",onClick:function(){!function(){try{u()({method:"GET",path:Object(l.k)("/audiences?limit=0&offset=0")}).then((function(t){200===t.code&&(_(t.result),L(!1))}))}catch(t){L(!1)}}(),w(""),d(!m)}},"Apply Audiences")),m&&Object(n.createElement)(o.Modal,{onRequestClose:function(){return d(!1)},className:"bwf-admin-modal bwf-admin-modal-large bwf-audience-modal bwf-admin-modal-no-header"},k?Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-audience-header bwf-display-flex bwf-space-between"},Object(n.createElement)("div",{className:"bwf-audience-label bwf-h4"},Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-120"})),Object(n.createElement)("div",{className:"bwf-display-flex gap-20"},Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-36 bwf-w-210"}),Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-30 bwf-w-30"}))),Object(n.createElement)("div",{className:"bwf-audience-table-wrapper"},Object(n.createElement)("table",{className:"bwf-audience-list-table"},Object(n.createElement)("tbody",null,[1,2,3,4,5].map((function(t){return Object(n.createElement)("tr",{key:t},Object(n.createElement)("td",{className:"bwf-display-flex-column bwf-p-15 "},Object(n.createElement)("span",{className:"bwf-audience-title"},Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-120"})),Object(n.createElement)("span",{className:"bwf-audience-create-detail"},Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-10 bwf-w-210"}))),Object(n.createElement)("td",{className:"bwf-w-120"},Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-30 bwf-w-90"})))})))))):Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-audience-header"},Object(n.createElement)("div",{className:"bwf-audience-label bwf-h4"},Object(a.__)("My Audiences","wp-marketing-automations")),Object(n.createElement)(o.TextControl,{className:"bwf-audience-search",value:v,onChange:function(t){return w(t)},autoComplete:"off",placeholder:Object(a.__)("Search by title","wp-marketing-automations")}),Object(n.createElement)("div",{className:"bwf-flex bwf-cursor-pointer",onClick:function(){return d(!1)}},Object(n.createElement)(b.a,{icon:"close",size:16}))),Object(n.createElement)("div",{className:"bwf-audience-table-wrapper"},Object(n.createElement)("table",{className:"bwf-audience-list-table"},Object(n.createElement)("tbody",null,S().length>0?S().map((function(t,e){return Object(n.createElement)("tr",{key:e},Object(n.createElement)("td",null,Object(n.createElement)("span",{className:"bwf-audience-title"},t.name),Object(n.createElement)("span",{className:"bwf-audience-create-detail"},t.created_at?Object(n.createElement)(n.Fragment,null,Object(a.__)("Created at ","wp-marketing-automations"),Object(l.K)(t.created_at)):"")),Object(n.createElement)("td",null,Object(n.createElement)("span",{className:"bwf-audience-item-apply",onClick:function(){var e={};r&&(e={filter:"advanced"});var n,o,a=g({},t.data.filters);n=a,o={},Object.keys(n).map((function(t){var e=n[t];Object(i.isString)(e)&&(e=encodeURIComponent(e)),o[t]=e})),a=o,!Object(i.isEmpty)(f)&&Object(i.isArray)(f)&&f.map((function(t){a.hasOwnProperty(t)&&delete a[t]})),Object(s.k)(g(g({},a),e),"/",h),d(!1)}},Object(a.__)("Apply","wp-marketing-automations"))))})):Object(n.createElement)("tr",null,Object(n.createElement)("td",{colSpan:2},Object(n.createElement)("span",{className:"bwf-display-flex bwf-p-15"},Object(a.__)("No Audiences Found","wp-marketing-automations"))))))))))},_=r(250),x=r(6),k=r.n(x),L=r(62),S=r(92),P=r(16),N=r(855),C=r(134),A=["fetch","setStateProp"];function T(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function D(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?T(Object(r),!0).forEach((function(e){I(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function I(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var F=function(){var t=Object(C.a)("audience"),e=t.fetch,r=t.setStateProp;return D(D({},G(t,A)),{},{fetch:function(t,n,o){r("contactCountData",{}),e("GET",Object(l.k)("/audiences?limit=".concat(t,"&offset=").concat(n,"&search=").concat(o)))},setStateAudienceValues:function(t,e){r(t,e)}})},M=r(135),B=["getStateProp"];function q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function R(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?q(Object(r),!0).forEach((function(e){U(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function U(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var $=function(){var t=Object(M.a)("audience"),e=t.getStateProp;return R(R({},Y(t,B)),{},{getAudiences:function(){return e("audience")},getPageNumber:function(){return parseInt(e("offset"))/parseInt(e("limit"))+1},getPerPageCount:function(){return parseInt(e("limit"))},getOffset:function(){return parseInt(e("offset"))},getTotalCount:function(){return parseInt(e("total"))},getLoadingStatus:function(){return e("isLoading")},getCountData:function(){return e("countData")},getContactCountData:function(){return e("contactCountData")}})},K=r(142),z=r(133);function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(){V=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new E(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return x()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var d=Object.getPrototypeOf,y=d&&d(d(_([])));y&&y!==e&&r.call(y,o)&&(m=y);var b=p.prototype=f.prototype=Object.create(m);function v(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==H(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,c(b,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},v(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new g(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},v(b),c(b,i,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=_,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function Z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function J(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(r),!0).forEach((function(e){Q(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Q(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}var W=function(t){var e=Object(s.i)(),r=t.filter,c=t.config,f=t.audienceDetail,h=t.modalData,p=t.setModal,m=t.setOpen,d=t.reloadList,y=t.title,b=t.desc,v=(t.error,t.setError),g=Object(n.useContext)(l.d),w=function(){var t,n=(t=V().mark((function t(){var n,o;return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v(!1),!Object(i.isEmpty)(y)){t.next=4;break}return v(Object(a.__)("Name is required","wp-marketing-automations")),t.abrupt("return");case 4:if(n=Object(s.j)(r,e,c.filters),!Object(i.isEmpty)(n)){t.next=9;break}v(Object(a.__)("Please fill the filter","wp-marketing-automations")),t.next=20;break;case 9:return p({loading:!0}),o=f?Object(l.k)("/audience/".concat(f.ID)):Object(l.k)("/audience"),t.prev=11,t.next=14,u()({path:o,method:"POST",data:{name:y,data:{desc:b||"",filters:n}}}).then((function(t){if(200!==t.code)throw Error(Object(l.i)(null==t?void 0:t.message));g(t.message),Object(l.Z)(g,2e3),d(),p({loading:!1,success:!1,error:!1,message:""}),m(!1)})).catch((function(t){throw Error(Object(l.i)(null==t?void 0:t.message))}));case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(11),v(t.t0.message),p(J(J({},h),{},{loading:!1}));case 20:case"end":return t.stop()}}),t,null,[[11,16]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){X(a,n,o,i,c,"next",t)}function c(t){X(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return Object(n.createElement)(o.Button,{isPrimary:!0,onClick:function(){return w()},disabled:h.loading,isBusy:h.loading},f?Object(a.__)("Save","wp-marketing-automations"):Object(a.__)("Add","wp-marketing-automations"))},tt=(r(973),r(27)),et=r(31),rt=r.n(et),nt=r(115),ot=r.n(nt),at=r(30),it=r.n(at),ct=r(14),ut=r.n(ct),lt=r(17);function st(t){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return ht(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ht(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pt(){pt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new E(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return x()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var d=Object.getPrototypeOf,y=d&&d(d(_([])));y&&y!==e&&r.call(y,o)&&(m=y);var b=p.prototype=f.prototype=Object.create(m);function v(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==st(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,c(b,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},v(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new g(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},v(b),c(b,i,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=_,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function mt(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}var dt={name:"audience",className:"bwf-search-bwf-tags-result",options:function(t){return(e=pt().mark((function t(e){var r,n,o;return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={search:e,limit:10,offset:0},t.next=3,u()({path:Object(l.k)("/audiences?"+Object(lt.stringify)(r)),method:"GET"});case 3:return n=t.sent,o=it()(n,"result")?n.result:[],rt()(o)||(o=o.map((function(t){return{key:String(t.ID),label:t.name}}))),t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})),r=function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(t){mt(a,n,o,i,c,"next",t)}function c(t){mt(a,n,o,i,c,"throw",t)}i(void 0)}))},function(t){return r.apply(this,arguments)})(t);var e,r},isDebounced:!0,getOptionIdentifier:function(t){return t.key},getOptionKeywords:function(t){return[t.label]},getFreeTextOptions:function(t,e){var r,o=ft(e);try{for(o.s();!(r=o.n()).done;){if(r.value.value.label.toLowerCase()===t.toLowerCase())return[]}}catch(t){o.e(t)}finally{o.f()}return[{key:"name",label:Object(n.createElement)("span",{key:"name",className:"bwf-search-result-name"},ut()({mixedString:Object(a.__)("Search all audience with name {{query /}}","wp-marketing-automations"),components:{query:Object(n.createElement)("strong",{className:"components-form-token-field__suggestion-match"},t)}})),value:{key:"0",label:t}}]},getOptionLabel:function(t,e){var r=Object(l.h)(t.label,e)||{};return Object(n.createElement)("span",{key:"name",className:"bwf-search-result-name","aria-label":t.label},Object.keys(r).length>0?Object(n.createElement)(n.Fragment,null,r.suggestionBeforeMatch,Object(n.createElement)("strong",{className:"components-form-token-field__suggestion-match"},r.suggestionMatch),r.suggestionAfterMatch):t.label)},getOptionCompletion:function(t){return t}};function yt(t){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(){bt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new E(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return x()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var d=Object.getPrototypeOf,y=d&&d(d(_([])));y&&y!==e&&r.call(y,o)&&(m=y);var b=p.prototype=f.prototype=Object.create(m);function v(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==yt(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,c(b,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},v(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new g(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},v(b),c(b,i,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=_,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function vt(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}var gt=function(t){var e=t.query,r=e.hasOwnProperty("s")?e.s:"",o=rt()(r)?[]:[{key:r,label:Object(a.__)("Search Audience: ","wp-marketing-automations")+r,bwfLabelSource:"bwfcrm_lists",isSearchTerm:!0}],c=function(){var t,r=(t=bt().mark((function t(r){var n,o,a,c;return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ot()(r)){t.next=2;break}return t.abrupt("return");case 2:if(rt()(r)||(n=r[r.length-1],(r=[])[0]=n),o=r.find((function(t){return it()(t,"label")})),!(Object(i.isUndefined)(o)&&r.length>0&&r[0].hasOwnProperty("name"))){t.next=7;break}return Object(s.k)({s:r[0].name},"/manage/audience",e),t.abrupt("return");case 7:if(a=Object(i.isUndefined)(o)?void 0:o.label,c=it()(e,"s")&&!rt()(e.s)?e.s:"",a!==c){t.next=11;break}return t.abrupt("return");case 11:Object(s.k)({s:a},"/manage/audiences",e);case 12:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){vt(a,n,o,i,c,"next",t)}function c(t){vt(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(t){return r.apply(this,arguments)}}();return Object(n.createElement)(tt.a,{autocompleter:Object(l.gb)()?dt:{},multiple:!1,allowFreeTextSearch:!0,inlineTags:!0,selected:o,onChange:c,placeholder:Object(a.__)("Search by name","wp-marketing-automations"),showClearButton:!0,disabled:!1})},wt=r(834),Ot=r(137),jt=r(132),Et=r(206),_t=r(116);function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kt(){kt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new E(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return x()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var d=Object.getPrototypeOf,y=d&&d(d(_([])));y&&y!==e&&r.call(y,o)&&(m=y);var b=p.prototype=f.prototype=Object.create(m);function v(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==xt(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,c(b,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},v(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new g(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},v(b),c(b,i,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=_,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function Lt(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function St(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Lt(a,n,o,i,c,"next",t)}function c(t){Lt(a,n,o,i,c,"throw",t)}i(void 0)}))}}var Pt=function(t){var e=t.isOpen,r=t.tasks,o=t.onSuccess,i=t.onError,c=t.onRequestClose,s=t.actionType,f=r?r.length:0,h=Object(_t.useMutation)(function(){var t=St(kt().mark((function t(e){return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u()({path:Object(l.k)("/bulk-action/audience"),method:"POST",headers:{"X-HTTP-Method-Override":"DELETE"},data:{ids:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{onSuccess:function(){setTimeout((function(){return h.reset()}),2500),o&&o()},onError:function(){i&&i()}}),p=function(){var t=St(kt().mark((function t(){return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.mutate(r.map((function(t){return t.ID})));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m={delete:{title:Object(a._n)("Delete Audience","Delete Audiences",f,"wp-marketing-automations"),description:Object(n.createElement)(n.Fragment,null,Object(a.__)("You are about to delete ","wp-marketing-automations"),Object(a._n)("audience","audiences",f,"wp-marketing-automations"),Object(a.__)(". This action cannot be undone. Cancel to stop, Delete to proceed.","wp-marketing-automations")),confirmBtn:Object(a.__)("Delete","wp-marketing-automations"),cancelBtn:Object(a.__)("Cancel","wp-marketing-automations"),successMsg:Object(a.__)("Bulk action executed successfully","wp-marketing-automations"),errorMsg:Object(a.__)("Unable to delete audience","wp-marketing-automations"),confirmDescription:Object(a.__)("This action is irreversible","wp-marketing-automations")}};return Object(n.createElement)(z.a,{modalTitle:m.hasOwnProperty(s)&&m[s].hasOwnProperty("title")?m[s].title:Object(a._n)("Perform Actions","Perform Actions",f,"wp-marketing-automations"),deleteDescriptionText:m.hasOwnProperty(s)&&m[s].hasOwnProperty("description")?m[s].description:"",confirmButtonText:m.hasOwnProperty(s)&&m[s].hasOwnProperty("confirmBtn")?m[s].confirmBtn:Object(a.__)("Confirm","wp-marketing-automations"),cancelButtonText:m.hasOwnProperty(s)&&m[s].hasOwnProperty("cancelBtn")?m[s].cancelBtn:Object(a.__)("Cancel","wp-marketing-automations"),onConfirm:p,isLoading:h.isLoading,successMessage:h.isSuccess&&(m.hasOwnProperty(s)&&m[s].hasOwnProperty("successMsg")?m[s].successMsg:Object(a.__)("Actions Done!","wp-marketing-automations")),errorMessage:h.isError&&(h.error&&h.error.message?h.error.message:m.hasOwnProperty(s)&&m[s].hasOwnProperty("errorMsg")?m[s].errorMsg:Object(a.__)("Unable to perform action","wp-marketing-automations")),onRequestClose:function(){return!!c&&c()},isOpen:e,confirmDescription:m.hasOwnProperty(s)&&m[s].hasOwnProperty("confirmDescription")?m[s].confirmDescription:"",isDelete:!0})};function Nt(){return(Nt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Ct(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return At(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return At(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Tt=function(t){var e=t.floatingBarProps,r=void 0===e?{}:e,o=t.resetSelection,i=t.onSuccess,c=t.screenType,u=t.screenTypeId,l=t.automationId,s=Ct(Object(n.useState)([]),2),f=s[0],h=s[1],p=Ct(Object(n.useState)(!1),2),m=p[0],d=p[1],y=Ct(Object(n.useState)(""),2),b=y[0],v=y[1],g=function(){o&&o(),h([])};Object(n.useEffect)((function(){g()}),[c]);var w=Object(n.useCallback)((function(t,e){h(e),v(t),d(!0)}),[]);return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(Et.a,Nt({actions:[{id:"delete",icon:"trash",hint:Object(a.__)("Delete","wp-marketing-automations")}],onAction:w},r)),Object(n.createElement)(Pt,{tasks:f,isOpen:m,onSuccess:function(){i&&i(b,f),g()},onError:g,onRequestClose:function(){return d(!1)},screenType:c,screenTypeId:u,actionType:b,automationId:l}))},Dt=r(93),It=r(9),Gt=r.n(It);function Ft(t){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mt(){Mt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new E(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return x()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var s={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var d=Object.getPrototypeOf,y=d&&d(d(_([])));y&&y!==e&&r.call(y,o)&&(m=y);var b=p.prototype=f.prototype=Object.create(m);function v(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==Ft(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,c(b,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},v(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new g(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},v(b),c(b,i,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=_,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function Bt(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function qt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Rt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qt(Object(r),!0).forEach((function(e){Ut(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ut(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(t,e)||$t(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $t(t,e){if(t){if("string"==typeof t)return Kt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Kt(t,e):void 0}}function Kt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var zt=function(){var t=Object(n.useContext)(l.d),e=Object(s.i)(),r=Object(N.a)(),c=Yt(Object(n.useState)(!1),2),f=c[0],h=c[1],p=Yt(Object(n.useState)(!1),2),m=p[0],d=p[1],y=Yt(Object(n.useState)(!1),2),v=y[0],g=y[1],w=Yt(Object(n.useState)(""),2),O=w[0],j=w[1],E=Yt(Object(n.useState)(!1),2),x=E[0],C=E[1],A=Yt(Object(n.useState)(""),2),T=A[0],D=A[1],I=Yt(Object(n.useState)({loading:!1,status:!1}),2),G=I[0],M=I[1],B=Yt(Object(n.useState)({loading:!1,error:!1,success:!1,message:""}),2),q=B[0],R=B[1],U=k()("bwf-audience-lists",{"has-search":!0}),Y=[{ID:"1",name:"Dummy Audience",type:"3",created_at:Gt()().format(),data:{filters:[],desc:"This is a dummy audience"},updated_at:Gt()().format()}],H=$(),V=H.getAudiences,Z=H.getLoading,J=H.getOffset,Q=H.getPageNumber,X=H.getPerPageCount,tt=H.getTotalCount,et=H.getCountData,rt=H.getContactCountData,nt=X(),ot=J(),at=e.s,it=Object(l.gb)()?V():Y,ct=Q(),ut=!!Object(l.gb)()&&Z(),st=tt(),ft=et(),ht=rt(),pt=Yt(Object(n.useState)(!0),2),mt=pt[0],dt=pt[1],yt=Yt(Object(n.useState)({}),2),bt=yt[0],vt=yt[1],_t=F(),xt=_t.fetch,kt=_t.setStateAudienceValues,Lt=Object(n.useRef)(new AbortController);Object(n.useEffect)((function(){vt(ht)}),[ht]),Object(n.useEffect)((function(){return function(){kt("countData",{}),Lt.current.abort()}}),[]),Object(n.useEffect)((function(){Object(l.gb)()?(xt(nt,ot,at||""),d(!1)):d(!0)}),[nt,ot,at]);var St=Object(n.createElement)(o.Button,{isPrimary:!0,key:"add",className:"bwf-display-flex",onClick:function(){Object(l.gb)()?(h(!0),j(""),g(!1),D("")):dt(!0)}},!Object(l.gb)()&&Object(n.createElement)(b.a,{icon:"lock",size:"15"}),Object(a.__)("Add New Audience","wp-marketing-automations")),Pt=Object(Ot.a)().getPageCountData,Nt=Object(jt.a)().setPageCountData,Ct=Pt();Object(n.useEffect)((function(){Nt(Rt(Rt({},Ct),ft))}),[ft]),Object(wt.a)("manage_audiences","",Object(a.__)("ALL AUDIENCE","wp-marketing-automations"),St),Object(n.useEffect)((function(){if(!m&&!Object(i.isEmpty)(it)&&!ut&&Object(l.gb)())try{var t={audience_ids:[]};it.map((function(e){t.audience_ids.push(e.ID)})),u()({method:"GET",path:Object(l.k)("/audiences/contacts?"+Object(lt.stringify)(t)),signal:Lt.current.signal}).then((function(t){200==t.code&&(kt("contactCountData",Rt(Rt({},t.result),ht)),d(!0))})).catch((function(t){console.log(t)}))}catch(t){console.log(t)}}),[it]);var At=Object(n.useMemo)((function(){var t={};if(Array.isArray(it)){var e,r=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=$t(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(it);try{for(r.s();!(e=r.n()).done;){var n=e.value;t[n.ID]=n}}catch(t){r.e(t)}finally{r.f()}}return t}),[it]),It=Object(l.gb)()?Object(Et.b)(At):{},Ft=It.singleSelectProps,qt=It.selectAllProps,Ut=It.floatingBarProps,Kt=It.resetSelection,zt=[{key:"select_audience",label:Object(l.gb)()?Object(n.createElement)(o.CheckboxControl,qt):Object(n.createElement)(n.Fragment,null),isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-45"},{key:"actions",label:"",isLeftAligned:!1,cellClassName:"bwf-col-action bwf-w-45"},{key:"name",label:Object(a.__)("Name","wp-marketing-automations"),isLeftAligned:!0},{key:"createdon",label:Object(a.__)("Created On","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-210"},{key:"description",label:Object(a.__)("Description","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-40p"},{key:"contacts",label:Object(a.__)("Contacts","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-300"}],Ht=function(){Object(l.gb)()&&(xt(nt,ot,at||""),d(!1))},Vt=function(){var e,r=(e=Mt().mark((function e(r,n){return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(Rt(Rt({},n),{},{status:!0})),e.prev=1,e.next=4,u()({path:Object(l.k)("/audience/".concat(r)),method:"DELETE"}).then((function(e){if(200!==e.code)throw Error(Object(l.i)(null==e?void 0:e.message));M({status:!1}),t(e.message),xt(nt,ot,at||""),d(!1)})).catch((function(t){throw Error(Object(l.i)(null==t?void 0:t.message))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),M({status:!0,error:e.t0.message?e.t0.message:Object(a.__)("Error in deleting audience","wp-marketing-automations")});case 9:Object(l.Z)(t,2e3);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(t){Bt(a,n,o,i,c,"next",t)}function c(t){Bt(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(t,e){return r.apply(this,arguments)}}(),Zt=function(t){return m?bt.hasOwnProperty(parseInt(t.ID))&&bt[parseInt(t.ID)].contact_count>0?Object(n.createElement)("div",{className:"bwf-display-flex-column"},Object(n.createElement)("a",{onClick:function(){var e,r;Object(s.k)(Rt(Rt({},(e=t.data.filters,r={},Object.keys(e).map((function(t){var n=e[t];Object(i.isString)(n)&&(n=encodeURIComponent(n)),r[t]=n})),r)),{},{filter:"advanced",path:"/contacts",page:"autonami"}),"/",{})},className:"bwf-a-no-underline"},parseInt(bt[parseInt(t.ID)].subscribers_count)+" of "+bt[parseInt(t.ID)].contact_count),Object(n.createElement)("span",null,Object(a.__)("Subscribed","wp-marketing-automations"))):"-":Object(n.createElement)("span",{className:"bwf-placeholder-temp bwf-w-150",title:"Loading"},"Loading")},Jt=it.map((function(t){return[{display:Object(l.gb)()&&Ft.hasOwnProperty(t.ID)?Object(n.createElement)(o.CheckboxControl,Ft[t.ID]):Object(n.createElement)(n.Fragment,null),value:null},{display:(c=t,Object(n.createElement)(L.a,{label:Object(a.__)("Quick Actions","wp-marketing-automations"),menuPosition:"bottom right",renderContent:function(t){var r=t.onToggle;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(S.a,{isClickable:!0,onInvoke:function(){Object(l.gb)()?Object(s.k)(Rt(Rt({},c.data.filters),{},{filter:"advanced",path:"/contacts"}),"/",e):dt(!0),r()}},Object(n.createElement)(P.a,{justify:"flex-start"},Object(n.createElement)(P.c,null,Object(n.createElement)(b.a,{icon:"view"})),Object(n.createElement)(P.c,null,Object(a.__)("View Contacts","wp-marketing-automations")))),Object(n.createElement)(S.a,{isClickable:!0,onInvoke:function(){Object(l.gb)()?(g(c),j(c.name),D(c.data.desc?c.data.desc:""),h(!0)):dt(!0),r()}},Object(n.createElement)(P.a,{justify:"flex-start"},Object(n.createElement)(P.c,null,Object(n.createElement)(b.a,{icon:"edit"})),Object(n.createElement)(P.c,null,Object(a.__)("Edit","wp-marketing-automations")))),Object(n.createElement)(S.a,{isClickable:!0,onInvoke:function(){if(Object(l.gb)()){var t={status:!0,deleteEntityName:null==c?void 0:c.name,modalTitle:Object(a.__)("Delete Audience"),buttonConfirm:Object(a.__)("Delete","wp-marketing-automations"),buttonCancel:Object(a.__)("Cancel","wp-marketing-automations")};M(Rt(Rt({},t),{},{onConfirm:function(){return Vt([c.ID],t)}}))}else dt(!0);r()}},Object(n.createElement)(P.a,{justify:"flex-start"},Object(n.createElement)(P.c,null,Object(n.createElement)(b.a,{icon:"trash"})),Object(n.createElement)(P.c,null,Object(a.__)("Delete","wp-marketing-automations")))))}})),value:"action"},{display:t.name,value:""},{display:(r=t.created_at,Object(n.createElement)("div",{className:"bwf-display-flex-column"},Object(n.createElement)("span",null,Object(l.K)(r)))),value:""},{display:t.data.hasOwnProperty("desc")&&!Object(i.isEmpty)(t.data.desc)?t.data.desc:"-",value:""},{display:Zt(t),value:""}];var r,c})),Qt=function(t){t!==nt&&kt("limit",t)};return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(_.a,{className:U,rows:Jt,headers:zt,query:{paged:ct},rowsPerPage:nt,totalRows:st,isLoading:ut,onPageChange:function(t,e){kt("offset",(t-1)*nt)},onQueryChange:function(t){return"per_page"!==t?function(){}:Qt},showMenu:!1,rowHeader:!0,actions:[Object(n.createElement)(gt,{key:"search",query:e})],emptyMessage:Object(a.__)("No audiences found","wp-marketing-automations")}),f&&Object(l.gb)()&&Object(n.createElement)(o.Modal,{onRequestClose:function(){return h(!1)},shouldCloseOnClickOutside:!1,className:"bwf-admin-modal bwf-admin-modal-fullscreen bwf-audience-modal-update"},Object(n.createElement)("div",{className:"bwf-modal-header"},Object(n.createElement)("div",{className:"bwf-display-flex gap-20"},Object(n.createElement)("span",{onClick:function(){return h(!1)},className:"bwf-modal-close bwf-cursor-pointer"},Object(n.createElement)(b.a,{icon:"close",color:"#353030"})),Object(n.createElement)("div",{className:"bwf-modal-heading"},v?"Edit Audience":"Add Audience"))),Object(n.createElement)("div",{className:"bwf-audience-modal-content"},Object(n.createElement)("div",{className:"bwf-audience-content-wrap"},Object(n.createElement)("div",{className:"bwf_clear_30"}),x&&Object(n.createElement)(o.Notice,{status:"error",onRemove:function(){return C(!1)}},x),Object(n.createElement)(o.TextControl,{type:"text",value:O,autoFocus:!0,placeholder:Object(a.__)("Enter Name","wp-marketing-automations"),label:Object(a.__)("Name","wp-marketing-automations"),onChange:function(t){j(t),Object(i.isEmpty)(t)?C(!0):C(!1)},disabled:q&&q.loading}),Object(n.createElement)(o.TextareaControl,{placeholder:Object(a.__)("Enter description","wp-marketing-automations"),label:Object(a.__)("Description","wp-marketing-automations"),value:T,onChange:function(t){return D(t)},disabled:q&&q.loading}),Object(n.createElement)("span",null,Object(a.__)("Filters","wp-marketing-automations")),Object(n.createElement)(K.a,{siteLocale:"en-US",currency:Object(l.qb)()?bwfcrm_contacts_data.currency:{},config:{title:Object(a.__)("Select Rules","wp-marketing-automations"),filters:r,enableGrouping:!0,hideAdvanceControl:!0,footerComponent:function(t){return Object(n.createElement)("div",{style:{marginBottom:"-24px"}},Object(n.createElement)(o.Button,{className:"bwf-cancel-btn",onClick:function(){return h(!1)}},Object(a.__)("Cancel","wp-marketing-automations")),Object(n.createElement)(W,{filter:t.data,config:t.config,audienceDetail:v,setModal:R,modalData:q,setOpen:h,title:O,desc:T,error:x,setError:C,reloadList:Ht}))}},disabled:q&&q.loading,path:"/manage/audience",query:v?v.data.filters:{}})))),Object(n.createElement)(z.a,{deleteEntityName:G.deleteEntityName,confirmButtonText:G.buttonConfirm,cancelButtonText:G.buttonCancel,onConfirm:G.onConfirm,isLoading:G.loading,successMessage:G.success,errorMessage:G.error,onRequestClose:function(){return M({status:!1})},isOpen:G.status,modalTitle:Object(a.__)("Delete Audience"),isDelete:!0}),Object(l.gb)()&&Object(n.createElement)(Tt,{floatingBarProps:Ut,resetSelection:Kt,onSuccess:function(){return xt(nt,ot,at||"")}}),!Object(l.gb)()&&Object(n.createElement)(Dt.a,{isOpen:mt,onRequestClose:function(){return dt(!1)},closeOnClickOut:!1,modalContent:{demoLabel:Object(a.__)("Try Demo","wp-marketing-automations")}}))}},971:function(t,e,r){},972:function(t,e,r){},973:function(t,e,r){}}]);