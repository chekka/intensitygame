(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{1127:function(t,e,n){},1203:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(72),a=n(2),i=n(250),c=n(135),u=n(95),s=["getStateProp"];function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var h=function(){var t=Object(c.a)("automationv1List"),e=t.getStateProp,n=p(t,s),r=Object(c.a)(u.a.recipient).getStateProp,o=Object(c.a)(u.a.conversion).getStateProp,a=Object(c.a)(u.a.contacts).getStateProp,i=Object(c.a)(u.a.analytics).getStateProp;return f(f({},n),{},{getAutomations:function(){return e("automations")},getPageNumber:function(){return parseInt(e("offset"))/parseInt(e("limit"))+1},getPerPageCount:function(){return parseInt(e("limit"))},getOffset:function(){return parseInt(e("offset"))},getTotalCount:function(){return parseInt(e("total"))},getLoadingStatus:function(){return e("isLoading")},getRecipientData:function(){return r("data")},getRecipientLoading:function(){return r("isLoading")},getRecipientOffset:function(){return r("offset")},getRecipientAutomationId:function(){return r("automationId")},getRecipientTotal:function(){return r("total")},getRecipientAutomation:function(){return r("automation")},getRecipientPage:function(){return parseInt(r("offset"))/parseInt(r("limit"))+1},getRecipientLimit:function(){return r("limit")},getConversionData:function(){return o("data")},getConversionLoading:function(){return o("isLoading")},getConversionOffset:function(){return o("offset")},getConversionAutomationId:function(){return o("automationId")},getConversionTotal:function(){return o("total")},getConversionAutomation:function(){return o("automation")},getConversionPage:function(){return parseInt(o("offset"))/parseInt(o("limit"))+1},getConversionLimit:function(){return o("limit")},getCountData:function(){return e("countData")},getContactData:function(){return a("data")},getContactLoading:function(){return a("isLoading")},getContactOffset:function(){return a("offset")},getContactAutomationId:function(){return a("automationId")},getContactTotal:function(){return a("total")},getContactAutomation:function(){return a("automation")},getContactPage:function(){return parseInt(a("offset"))/parseInt(a("limit"))+1},getContactLimit:function(){return a("limit")},getContactCountData:function(){return a("contactCount")},getAnalyticsData:function(){return i("analytics")},getAnalyticsTileData:function(){return i("tiles")},getAnalyticsTableData:function(){return i("tableData")},getAnalyticsLoading:function(){return i("isLoading")},getAnalyticsType:function(){return i("type")},getAnalyticsAutomationData:function(){return i("automation")}})},d=n(134),b=n(5),y=n(17),v=["fetch","setStateProp"],g=["s","page","filter","path"];function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){j(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var _=function(){var t=Object(d.a)("automationv1List"),e=t.fetch,n=t.setStateProp,r=E(t,v),o=Object(d.a)(u.a.recipient),a=o.fetch,i=o.setStateProp,c=Object(d.a)(u.a.conversion),s=c.fetch,l=c.setStateProp,f=Object(d.a)(u.a.contacts),m=f.fetch,p=f.setStateProp,h=Object(d.a)(u.a.analytics),O=h.fetch,j=h.setStateProp;return w(w({},r),{},{fetch:function(t,r,o,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n("automation",{});var c=r.s,u=(r.page,r.filter,r.path,E(r,g)),s={offset:o,limit:a,status:t,search:c,filters:u,version:i?2:1};e("GET",Object(b.k)("/automations"),s)},setAutomationListValues:function(t,e){n(t,e)},fetchRecipient:function(t,e,n){a("GET",Object(b.k)("/automation/".concat(t,"/recipients?limit=").concat(e,"&offset=").concat(n)))},setRecipientsValues:function(t,e){i(t,e)},fetchConversion:function(t,e,n){l("automation",{}),s("GET",Object(b.k)("/automation/".concat(t,"/conversions?limit=").concat(e,"&offset=").concat(n)))},setConversionValues:function(t,e){l(t,e)},fetchContacts:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";p("automation",{}),m("GET",Object(b.k)("/automation/".concat(t,"/contacts?limit=").concat(e,"&offset=").concat(n,"&type=").concat(r,"&search=").concat(o)))},setContactValues:function(t,e){p(t,e)},fetchAnalytics:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,i=0;4===parseInt(a)&&(i=1),O("GET",Object(b.k)("/analytics/emails/chart/")+"?"+Object(y.stringify)({after:e,before:n,interval:r,oid:t,type:o,mode:a,contact:i}))},setAnalyticsValues:function(t,e){j(t,e)}})},k=n(3),x=n(62),L=n(92),P=n(16),S=n(4),C=n(133),A=n(12),N=n.n(A),T=n(27),I=n(31),D=n.n(I),M=n(115),F=n.n(M),G=n(30),B=n.n(G),z=n(15),R=n(14),q=n.n(R);function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(){U=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new E(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=O(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function m(){}function p(){}var h={};c(h,o,(function(){return this}));var d=Object.getPrototypeOf,b=d&&d(d(_([])));b&&b!==e&&n.call(b,o)&&(h=b);var y=p.prototype=f.prototype=Object.create(h);function v(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var r;this._invoke=function(o,a){function i(){return new e((function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==V(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function O(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=p,c(y,"constructor",p),c(p,"constructor",m),m.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new g(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},v(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function Y(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}var H=function(t){return t.name},Z={name:"automation",className:"bwf-search-bwf-automation-result",options:function(t){return(e=U().mark((function t(e){var n,r,o;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!D()(e)){t.next=2;break}return t.abrupt("return",[]);case 2:return n={search:e,version:1},t.next=5,N()({path:Object(b.k)("/search/automations?"+Object(y.stringify)(n)),method:"GET"});case 5:return r=t.sent,o=B()(r,"result")?r.result.map((function(t){return{key:t.id,name:t.title,label:t.title}})):[],t.abrupt("return",o);case 8:case"end":return t.stop()}}),t)})),n=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(t){Y(a,r,o,i,c,"next",t)}function c(t){Y(a,r,o,i,c,"throw",t)}i(void 0)}))},function(t){return n.apply(this,arguments)})(t);var e,n},isDebounced:!0,getOptionIdentifier:function(t){return t.ID},getOptionKeywords:function(t){return[t.name]},getFreeTextOptions:function(t,e){return[{key:"name",label:Object(r.createElement)("span",{key:"name",className:"bwf-search-result-name"},q()({mixedString:Object(a.__)("All Automation with names that include {{query /}}","wp-marketing-automations"),components:{query:Object(r.createElement)("strong",{className:"components-form-token-field__suggestion-match"},t)}})),value:{id:t,name:t,tags:e.map((function(t){return B()(t,"value")?t.value:t})),searchTerm:t}}]},getOptionLabel:function(t,e){var n=Object(b.h)(H(t),e)||{};return Object(r.createElement)("span",{key:"name",className:"bwf-search-result-name","aria-label":H(t)},n.suggestionBeforeMatch,Object(r.createElement)("strong",{className:"components-form-token-field__suggestion-match"},n.suggestionMatch),n.suggestionAfterMatch)},getOptionCompletion:function(t){return t}},$=n(272);function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(){Q=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new E(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=O(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function m(){}function p(){}var h={};c(h,o,(function(){return this}));var d=Object.getPrototypeOf,b=d&&d(d(_([])));b&&b!==e&&n.call(b,o)&&(h=b);var y=p.prototype=f.prototype=Object.create(h);function v(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var r;this._invoke=function(o,a){function i(){return new e((function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==J(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function O(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=p,c(y,"constructor",p),c(p,"constructor",m),m.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new g(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},v(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function W(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}var K=function(t){var e=t.query,n=t.isV2,o=void 0!==n&&n,i=e.hasOwnProperty("s")?e.s:"",c=D()(i)?[]:[{key:i,label:Object(a.__)("Search Term: ","wp-marketing-automations")+i,bwfLabelSource:"bwfcrm_contacts",isSearchTerm:!0}],u=function(){var t,n=(t=Q().mark((function t(n){var r,a,i;return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(F()(n)){t.next=2;break}return t.abrupt("return");case 2:if(r=n.find((function(t){return B()(t,"searchTerm")})),!(Object(k.isUndefined)(r)&&n.length>0&&n[0].hasOwnProperty("key"))){t.next=6;break}return o?Object(z.k)({path:"/automation/".concat(n[0].key)},"/",e):window.location.href="admin.php?page=autonami-automations&edit="+n[0].key,t.abrupt("return");case 6:if(a=Object(k.isUndefined)(r)?void 0:r.searchTerm,i=B()(e,"s")&&!D()(e.s)?e.s:"",a!==i){t.next=10;break}return t.abrupt("return");case 10:o?Object(z.k)({s:a},"/automations",e):Object(z.k)({s:a},"/automations-v1",e);case 11:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){W(a,r,o,i,c,"next",t)}function c(t){W(a,r,o,i,c,"throw",t)}i(void 0)}))});return function(t){return n.apply(this,arguments)}}();return Object(r.createElement)(T.a,{autocompleter:o?$.a:Z,multiple:!1,allowFreeTextSearch:!0,inlineTags:!0,selected:c,onChange:u,placeholder:Object(a.__)("Search by name","wp-marketing-automations"),showClearButton:!0,disabled:!1})},X=n(6),tt=n.n(X),et=n(837),nt=n(253),rt=n(255),ot=n(47),at=n(8),it=n(251);function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ut(){ut=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new E(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=O(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function m(){}function p(){}var h={};c(h,o,(function(){return this}));var d=Object.getPrototypeOf,b=d&&d(d(_([])));b&&b!==e&&n.call(b,o)&&(h=b);var y=p.prototype=f.prototype=Object.create(h);function v(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var r;this._invoke=function(o,a){function i(){return new e((function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==ct(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function O(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=p,c(y,"constructor",p),c(p,"constructor",m),m.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new g(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},v(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function st(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function lt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ft(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ft(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mt=function(t){var e=lt(Object(r.useState)(!1),2),n=e[0],o=e[1],i=lt(Object(r.useState)(""),2),c=i[0],u=i[1],s=lt(Object(r.useState)({}),2),l=s[0],f=s[1],m=lt(Object(r.useState)(""),2),p=m[0],h=m[1],d=Object(it.a)().setAutomationData,y=t.onCloseModal,v=t.query,g=t.isV2,O=void 0!==g&&g;Object(r.useEffect)((function(){o(!1),f({}),h("")}),[]);var w=function(){var t,e=(t=ut().mark((function t(){var e;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p){t.next=3;break}return u("Automation name is required field"),t.abrupt("return");case 3:return u(""),o(!0),t.prev=5,t.next=8,N()({path:Object(b.k)("/automations/create/"),method:"POST",data:{title:p,version:O}});case 8:if(!((e=t.sent)&&e.result&&e.result.automation_id)){t.next=17;break}if(!O){t.next=15;break}d("isNewAutomation",e.result.automation_id),setTimeout((function(){return Object(z.k)({path:"/automation/"+e.result.automation_id},"/",v)}),500),t.next=17;break;case 15:return window.location.href="admin.php?page=autonami-automations&edit="+e.result.automation_id,t.abrupt("return");case 17:t.next=23;break;case 19:t.prev=19,t.t0=t.catch(5),o(!1),f({error:!0,message:t.t0.message});case 23:case"end":return t.stop()}}),t,null,[[5,19]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){st(a,r,o,i,c,"next",t)}function c(t){st(a,r,o,i,c,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();return Object(r.createElement)(S.Modal,{className:"bwf-admin-modal bwf-admin-modal-squeezy bwf-h--core-header",onRequestClose:function(){return y()}},Object(r.createElement)("div",{className:"bwf-modal-header"},Object(r.createElement)("div",{className:"bwf-modal-heading"},Object(a.__)("Add Automation","wp-marketing-automations")),Object(r.createElement)("span",{onClick:y,className:"bwf-modal-close"},Object(r.createElement)(at.a,{icon:"close",color:"#353030"}))),c&&Object(r.createElement)(S.Notice,{status:"error",onRemove:function(){return u("")}},c),l&&l.error||l&&l.success?l&&l.success&&l.message?Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(nt.a,null),Object(r.createElement)("div",{className:"bwf-h1"},l.message)):l&&l.error&&l.message?Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(rt.a,null),Object(r.createElement)("div",{className:"bwf-h1"},l.message)):Object(r.createElement)(ot.a,null):Object(r.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(t){"Enter"==t.key&&w()}},Object(r.createElement)(S.TextControl,{placeholder:Object(a.__)("Enter automation name","wp-marketing-automations"),autoFocus:!0,label:Object(a.__)("Name","wp-marketing-automations"),value:p,onChange:function(t){return h(t)},disabled:n}),Object(r.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(r.createElement)(S.Button,{onClick:function(){return y()},className:"bwf-cancel-btn"},Object(a.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(S.Button,{isPrimary:!0,disabled:n,onClick:w,isBusy:n},Object(a.__)("Add","wp-marketing-automations")))))},pt=n(94),ht=n(73),dt=n(137),bt=n(132),yt=n(254),vt=n(206),gt=n(116);function Ot(t){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(){wt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new E(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=O(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function m(){}function p(){}var h={};c(h,o,(function(){return this}));var d=Object.getPrototypeOf,b=d&&d(d(_([])));b&&b!==e&&n.call(b,o)&&(h=b);var y=p.prototype=f.prototype=Object.create(h);function v(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var r;this._invoke=function(o,a){function i(){return new e((function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Ot(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function O(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=p,c(y,"constructor",p),c(p,"constructor",m),m.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new g(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},v(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function jt(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Et(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){jt(a,r,o,i,c,"next",t)}function c(t){jt(a,r,o,i,c,"throw",t)}i(void 0)}))}}var _t=function(t){var e=t.isOpen,n=t.tasks,o=t.onSuccess,i=t.onError,c=t.onRequestClose,u=t.actionType,s=n?n.length:0,l=Object(gt.useMutation)(function(){var t=Et(wt().mark((function t(e){return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N()({path:Object(b.k)("/bulk-action/automation_v1"),method:"POST",headers:{"X-HTTP-Method-Override":"DELETE"},data:{ids:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{onSuccess:function(){setTimeout((function(){return l.reset()}),2500),o&&o()},onError:function(){i&&i()}}),f=function(){var t=Et(wt().mark((function t(){return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.mutate(n.map((function(t){return t.id})));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m={delete:{title:Object(a._n)("Delete Automation","Delete Automations",s,"wp-marketing-automations"),description:Object(r.createElement)(r.Fragment,null,Object(a.__)("You are about to delete ","wp-marketing-automations"),Object(a._n)("automation","automations",s,"wp-marketing-automations"),Object(a.__)(". This action cannot be undone. Cancel to stop, Delete to proceed.","wp-marketing-automations")),confirmBtn:Object(a.__)("Delete","wp-marketing-automations"),cancelBtn:Object(a.__)("Cancel","wp-marketing-automations"),successMsg:Object(a.__)("Bulk action executed successfully","wp-marketing-automations"),errorMsg:Object(a.__)("Unable to delete automation","wp-marketing-automations"),confirmDescription:Object(a.__)("This action is irreversible","wp-marketing-automations")}};return Object(r.createElement)(C.a,{modalTitle:m.hasOwnProperty(u)&&m[u].hasOwnProperty("title")?m[u].title:Object(a._n)("Perform Actions","Perform Actions",s,"wp-marketing-automations"),deleteDescriptionText:m.hasOwnProperty(u)&&m[u].hasOwnProperty("description")?m[u].description:"",confirmButtonText:m.hasOwnProperty(u)&&m[u].hasOwnProperty("confirmBtn")?m[u].confirmBtn:Object(a.__)("Confirm","wp-marketing-automations"),cancelButtonText:m.hasOwnProperty(u)&&m[u].hasOwnProperty("cancelBtn")?m[u].cancelBtn:Object(a.__)("Cancel","wp-marketing-automations"),onConfirm:f,isLoading:l.isLoading,successMessage:l.isSuccess&&(m.hasOwnProperty(u)&&m[u].hasOwnProperty("successMsg")?m[u].successMsg:Object(a.__)("Actions Done!","wp-marketing-automations")),errorMessage:l.isError&&(l.error&&l.error.message?l.error.message:m.hasOwnProperty(u)&&m[u].hasOwnProperty("errorMsg")?m[u].errorMsg:Object(a.__)("Unable to perform action","wp-marketing-automations")),onRequestClose:function(){return!!c&&c()},isOpen:e,confirmDescription:m.hasOwnProperty(u)&&m[u].hasOwnProperty("confirmDescription")?m[u].confirmDescription:"",isDelete:!0})};function kt(){return(kt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function xt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Lt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Pt=function(t){var e=t.floatingBarProps,n=void 0===e?{}:e,o=t.resetSelection,i=t.onSuccess,c=t.screenType,u=t.screenTypeId,s=t.automationId,l=xt(Object(r.useState)([]),2),f=l[0],m=l[1],p=xt(Object(r.useState)(!1),2),h=p[0],d=p[1],b=xt(Object(r.useState)(""),2),y=b[0],v=b[1],g=function(){o&&o(),m([])};Object(r.useEffect)((function(){g()}),[c]);var O=Object(r.useCallback)((function(t,e){m(e),v(t),d(!0)}),[]);return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(vt.a,kt({actions:[{id:"delete",icon:"trash",hint:Object(a.__)("Delete","wp-marketing-automations")}],onAction:O},n)),Object(r.createElement)(_t,{tasks:f,isOpen:h,onSuccess:function(){i&&i(y,f),g()},onError:g,onRequestClose:function(){return d(!1)},screenType:c,screenTypeId:u,actionType:y,automationId:s}))},St=n(904);function Ct(t){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function At(){At=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new E(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=O(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function m(){}function p(){}var h={};c(h,o,(function(){return this}));var d=Object.getPrototypeOf,b=d&&d(d(_([])));b&&b!==e&&n.call(b,o)&&(h=b);var y=p.prototype=f.prototype=Object.create(h);function v(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var r;this._invoke=function(o,a){function i(){return new e((function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Ct(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function O(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=p,c(y,"constructor",p),c(p,"constructor",m),m.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new g(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},v(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function Nt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nt(Object(n),!0).forEach((function(e){It(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function It(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dt(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Mt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ft(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ft(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Gt,Bt,zt,Rt,qt,Vt,Ut,Yt,Ht,Zt,$t,Jt,Qt,Wt,Kt,Xt,te,ee,ne,re,oe,ae,ie,ce,ue,se,le,fe,me,pe,he,de=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(r.createElement)(r.Fragment,null,"".concat(""!==t?t:"It seems there was an issue during the import",". For further help, contact "),Object(r.createElement)("a",{href:"https://funnelkit.com/support/?utm_source=WordPress&utm_medium=Automation+Import+Failed&utm_campaign=Lite+Plugin",target:"_blank",rel:"noopener noreferrer"},Object(a.__)(" support. ","wp-marketing-automations")))},be=function(t){var e=t.onRequestClose,n=t.isV2,o=void 0!==n&&n,i=Object(z.i)(),c=Mt(Object(r.useState)({status:!1,modalTitle:Object(a.__)("Import Automation","wp-marketing-automations")}),2),u=c[0],s=c[1],l=Mt(Object(r.useState)(null),2),f=l[0],m=l[1],p=function(){var t,n=(t=At().mark((function t(){var n;return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(Tt(Tt({},u),{},{loading:!0,title:Object(a.__)("Please wait…","wp-marketing-automations"),message:Object(r.createElement)(r.Fragment,null,Object(a.__)("Your file ")+(null==f?void 0:f.name)+Object(a.__)(" importing is in progress."))})),t.prev=1,(n=new FormData).append("files",f),n.append("version",o?2:1),t.next=7,N()({method:"POST",body:n,path:Object(b.k)("/automations/import")}).then((function(t){200==t.code?t.result.hasOwnProperty("automation_id")?o?setTimeout((function(){Object(z.k)({path:"/automation/".concat(t.result.automation_id)},"/",i)}),1e3):window.location.href="admin.php?page=autonami-automations&edit="+t.result.automation_id:(Object(z.k)({path:"/automations/"},"/",i),e()):(m(null),s(Tt(Tt({},u),{},{status:!1,loading:!1,title:Object(a.__)("Importing Failed","wp-marketing-automations"),message:de(t.message)})))}));case 7:t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),m(null),s(Tt(Tt({},u),{},{status:!1,loading:!1,title:Object(a.__)("Importing Failed","wp-marketing-automations"),message:de(t.t0.message)}));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Dt(a,r,o,i,c,"next",t)}function c(t){Dt(a,r,o,i,c,"throw",t)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){f&&p()}),[f]),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(S.Modal,{className:"bwf-admin-modal bwf-admin-modal-large bwf-import-funnel-modal",title:Object(a.__)("Import Automation","wp-marketing-automations"),onRequestClose:e},u.title&&Object(r.createElement)("div",{className:"bwf-import-modal-content bwf-t-center"},u.loading?Object(r.createElement)("div",null,Object(r.createElement)(ot.a,{spaceClass:"no-space"})):Object(r.createElement)(at.a,{icon:u.status?"circle-tick":"circle-close",size:48}),Object(r.createElement)("div",{className:"bwf-drop-import-heading"},u.title),Object(r.createElement)("div",{className:"bwf-drop-import-content"},u.message)),!u.title&&Object(r.createElement)(St.a,{onFileSelected:function(t){return m(t)},filetypeArray:["application/json"]})))},ye=n(7);function ve(){return(ve=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var ge=function(t){return ye.createElement("svg",ve({width:166,height:139,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),Gt||(Gt=ye.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M92.288 99.751c13.301-.656 27.057-1.253 39.407.396 14.214 1.898 31.561 4.641 33.579 9.35 2.065 4.817-20.179 7.415-24.385 12.101-4.582 5.103 11.567 11.667-.383 15.491-11.393 3.645-32.131 1.151-48.218.06-13.179-.894-23.004-3.715-34.857-5.693-14.297-2.386-35.486-2.466-41.67-7.079-6.138-4.581 4.583-9.768 13.58-13.881 7.4-3.383 20.187-4.884 31.8-6.867 10.035-1.713 19.805-3.318 31.147-3.878z",fill:"#ADD3E4",opacity:.3})),Bt||(Bt=ye.createElement("path",{d:"M13.017 105.034c4.122-7.56-8.892-11.114-12.03-8.115-3.137 2.998 7.264 16.853 12.03 8.115z",fill:"#E28CB5"})),zt||(zt=ye.createElement("path",{d:"M18.488 102.727c8.09 0 4.429-14.492.97-14.492-4.337 0-10.317 14.492-.97 14.492z",fill:"#E28CB5"})),Rt||(Rt=ye.createElement("path",{d:"M24.724 107.984c6.67 5.438 12.532-6.729 10.16-10.366-2.371-3.636-17.87 4.081-10.16 10.366z",fill:"#E28CB5"})),qt||(qt=ye.createElement("path",{d:"M16.219 111.582c-1.126-2.609-2.774-5.04-4.898-7.224-3.613-3.717-7.414-5.46-7.452-5.477a.225.225 0 00-.185.41c.037.017 3.772 1.732 7.326 5.392 2.083 2.145 3.698 4.529 4.8 7.087.124.29.24.583.353.878h.48a21.684 21.684 0 00-.424-1.066zM19.256 91.207a.224.224 0 10-.446-.053c-.015.122-1.15 9.834-1.092 21.494h.45c-.058-11.63 1.073-21.319 1.088-21.441zM32.64 99.246a.224.224 0 00-.313-.062c-.032.022-3.277 2.208-6.615 5.803-1.819 1.958-3.886 4.584-5.4 7.661h.503c1.48-2.942 3.466-5.458 5.219-7.347 3.303-3.559 6.511-5.721 6.543-5.743a.226.226 0 00.062-.312z",fill:"#CC6697"})),Vt||(Vt=ye.createElement("path",{d:"M18.169 112.648H9.887a.356.356 0 00-.338.466l.396 1.217.2.616 2.868 8.812a.58.58 0 00.552.401h10.337a.58.58 0 00.551-.401l2.868-8.812.2-.616.397-1.217a.355.355 0 00-.338-.466H18.17z",fill:"#D1E5ED"})),Ut||(Ut=ye.createElement("path",{d:"M27.522 114.331l-.2.616H10.144l-.2-.616h17.577z",fill:"#A6BFCA"})),Yt||(Yt=ye.createElement("path",{d:"M72.472 80.123H6.358a3.372 3.372 0 01-3.368-3.377v-63.1a3.372 3.372 0 013.368-3.377h66.114a3.372 3.372 0 013.368 3.376v63.101a3.372 3.372 0 01-3.368 3.377z",fill:"#ADD3E4"})),Ht||(Ht=ye.createElement("path",{d:"M58.75 33.574h-5.266l-.92 2.985H48.46l5.846-15.978h3.612l5.89 15.978H59.68l-.93-2.985zM54.402 30.6h3.427l-1.719-5.542-1.708 5.542zM44.238 20.38h-31.37a1.012 1.012 0 01-1.01-1.014c0-.56.452-1.014 1.01-1.014h31.37c.559 0 1.011.454 1.011 1.014s-.453 1.013-1.01 1.013zM34.154 25.436H12.869a1.012 1.012 0 01-1.011-1.013c0-.56.452-1.014 1.01-1.014h21.286c.558 0 1.01.454 1.01 1.014s-.452 1.013-1.01 1.013z",fill:"#fff"})),Zt||(Zt=ye.createElement("path",{d:"M18.186 33.72H12.58a.723.723 0 010-1.448h5.606a.723.723 0 010 1.448z",fill:"#0073AA"})),$t||($t=ye.createElement("path",{d:"M59.316 58.577H41.99a.723.723 0 01-.722-.724V54.93c0-.4.323-.724.722-.724h17.325c.398 0 .722.324.722.724v2.924c0 .4-.324.724-.722.724zM66.296 66.525H41.991a.723.723 0 01-.722-.724v-2.924c0-.4.323-.724.722-.724h24.305c.399 0 .722.324.722.724V65.8c0 .4-.323.724-.722.724zM22.65 71.244c0-.746.603-1.35 1.347-1.35-5.241 0-9.505-4.275-9.505-9.528 0-5.254 4.264-9.529 9.505-9.529 5.24 0 9.504 4.275 9.504 9.529 0-.746.603-1.35 1.347-1.35s1.347.604 1.347 1.35c0-6.743-5.472-12.228-12.198-12.228S11.8 53.623 11.8 60.366c0 6.742 5.472 12.227 12.198 12.227a1.348 1.348 0 01-1.347-1.35z",fill:"#fff"})),Jt||(Jt=ye.createElement("path",{d:"M34.841 59.016c-.743 0-1.347.604-1.347 1.35 0 5.254-4.263 9.528-9.504 9.528-.744 0-1.347.605-1.347 1.35 0 .746.603 1.35 1.347 1.35 6.726 0 12.198-5.486 12.198-12.228 0-.746-.603-1.35-1.347-1.35z",fill:"#0073AA"})),Qt||(Qt=ye.createElement("path",{d:"M3.047 14.269a4 4 0 014-4H71.8a4 4 0 014 4v1.088H3.047v-1.088z",fill:"#005D89"})),Wt||(Wt=ye.createElement("ellipse",{cx:9.396,cy:12.813,rx:1.269,ry:1.272,fill:"#fff"})),Kt||(Kt=ye.createElement("ellipse",{cx:13.624,cy:12.813,rx:1.269,ry:1.272,fill:"#fff"})),Xt||(Xt=ye.createElement("ellipse",{cx:17.854,cy:12.813,rx:1.269,ry:1.272,fill:"#fff"})),te||(te=ye.createElement("path",{d:"M96.251 9.667c.462 5.607 4.529 9.122 6.916 9.122.358 0 .748-.064 1.155-.176v2.797h6.054V14.3c.056-.148.11-.31.164-.485 2.684-.257 2.572-4.7.978-4.7-.291 0-.484.275-.607.552l-.395.396V8.056s-.891.084-2.645-2.592c-.757 1.15-6.792 2.955-11.635 2.147 0 0-.013.998.015 2.056z",fill:"#FCBEB7"})),ee||(ee=ye.createElement("path",{d:"M103.585 0c4.176 0 5.011 2.23 5.011 2.23 1.781 0 4.509 3.262 2.867 6.886l-.009.008-.938.94V8.057s-.891.083-2.644-2.593c-.757 1.15-6.792 2.955-11.636 2.147 0 0-.012.998.016 2.056v.003C94.443 4.43 98.074 0 103.585 0z",fill:"#311643"})),ne||(ne=ye.createElement("path",{d:"M105.38 10.277c.185 0 .334-.15.334-.334v-.625a.334.334 0 10-.668 0v.625c0 .185.15.334.334.334zM99.186 10.277c.185 0 .334-.15.334-.334v-.625a.334.334 0 10-.668 0v.625c0 .185.15.334.334.334zM102.924 15.103c.596 0 1.002-.225 1.248-.43.31-.257.438-.539.444-.55a.153.153 0 00-.279-.127c-.017.038-.441.927-1.671.785a.154.154 0 00-.035.304c.102.012.2.018.293.018z",fill:"#311643"})),re||(re=ye.createElement("path",{d:"M107.597 13.972c.912 0 1.651-.741 1.651-1.655a1.652 1.652 0 10-3.303 0c0 .914.739 1.655 1.652 1.655zM96.422 10.944c.21 1.11.56 2.123 1.004 3.025a1.652 1.652 0 001.568-1.652 1.652 1.652 0 00-2.572-1.373z",fill:"#F49795"})),oe||(oe=ye.createElement("path",{d:"M96.847 9.63a2.345 2.345 0 002.34 2.345 2.345 2.345 0 002.339-2.256 1.524 1.524 0 011.516-.002 2.345 2.345 0 002.338 2.258 2.345 2.345 0 000-4.688c-1.205 0-2.2.918-2.326 2.092a1.797 1.797 0 00-1.54.001 2.345 2.345 0 00-2.327-2.093c-1.29 0-2.34 1.051-2.34 2.344zm6.5 0c0-1.123.912-2.037 2.034-2.037a2.038 2.038 0 010 4.075 2.038 2.038 0 01-2.034-2.037zm-6.194 0c0-1.123.913-2.037 2.034-2.037a2.038 2.038 0 010 4.075 2.038 2.038 0 01-2.034-2.037z",fill:"#fff"})),ae||(ae=ye.createElement("path",{d:"M104.322 21.41v-2.797c1.369-.377 2.928-1.3 4.099-2.18l-4.099 4.977z",fill:"#F9AFAB"})),ie||(ie=ye.createElement("path",{d:"M89.85 111.672h6.412l6.219-33.125 4.563-14.356 11.044 47.481h6.412l-5.974-53.27H94.838l-4.988 53.27z",fill:"#0073AA"})),ce||(ce=ye.createElement("path",{d:"M95.752 114.254v4.538c0 .53-.428.958-.957.958H81.943a.221.221 0 01-.221-.221v-.874c0-.382.218-.73.561-.896l7.247-3.505h6.222zM118.783 114.254v4.538c0 .53.429.958.957.958h12.852a.221.221 0 00.221-.221v-.874a.995.995 0 00-.561-.896l-7.247-3.505h-6.222z",fill:"#2F3D6C"})),ue||(ue=ye.createElement("path",{d:"M96.26 111.672l-.484 2.582h-6.248l.32-2.582h6.411zM124.499 111.672l.507 2.582h-6.222l-.697-2.582h6.412z",fill:"#FCBEB7"})),se||(se=ye.createElement("path",{d:"M118.654 59.545l-24.051 1.361.234-2.503h23.689",fill:"#005D89"})),le||(le=ye.createElement("path",{d:"M104.332 19.024l-9.165 3.983a3.764 3.764 0 00-1.648 1.379l-3.669 5.537 5.174 4.573 1.383-1.183-1.57 25.09h23.689l-1.452-16.36.322-8.73 1.23 1.227 5.466-4.208-2.937-4.794a7.285 7.285 0 00-3.026-2.746l-7.753-3.769s-3.517 2.311-6.044 0z",fill:"#7EB9D6"})),fe||(fe=ye.createElement("path",{d:"M102.382 19.87a7.093 7.093 0 004.586 1.665c1.786 0 3.471-.65 4.787-1.84l-.239-.116a6.849 6.849 0 01-4.548 1.71 6.852 6.852 0 01-4.334-1.529l-.252.11z",fill:"#fff"})),me||(me=ye.createElement("path",{d:"M118.42 23.575a2.038 2.038 0 002.709 1.925 7.296 7.296 0 00-2.624-2.51 2.046 2.046 0 00-.085.585zM92.972 25.206a2.038 2.038 0 002.851-2.485l-.66.286a3.765 3.765 0 00-1.647 1.378l-.544.82zM117.191 82.664a3.072 3.072 0 003.07-3.074 3.072 3.072 0 00-3.07-3.074 3.071 3.071 0 00-3.069 3.074 3.071 3.071 0 003.069 3.074zM96.716 82.664a3.071 3.071 0 003.07-3.074 3.072 3.072 0 00-3.07-3.074 3.072 3.072 0 00-3.069 3.074 3.072 3.072 0 003.07 3.074z",fill:"#005D89"})),pe||(pe=ye.createElement("path",{d:"M63.675 23.922l.258-.043.04-.157a.708.708 0 01.638-.532l3.605-.244 2.509-1.022-1.4-1.75a.706.706 0 01.074-.961l2.954 2.28c.29.223.53.505.707.826l.924 1.687-.005.006 13.508 9.455 2.363-3.544 5.174 4.572-6.477 5.736a1.006 1.006 0 01-1.332-.014L72.01 26.516l-2.91.277a5.071 5.071 0 01-1.95-.195l-1.545-.467a.465.465 0 01-.295-.622l-1.1-.212a.475.475 0 01-.383-.418l-.02-.178h-.066a.392.392 0 01-.066-.779zM113.259 56.488l2.409-1.077a.673.673 0 00.359-.386l.349-.963-1.217.3-.388.834a.573.573 0 01-.746.285l.507-1.533c.095-.244.278-.444.512-.559l2.544-1.253 4.389-14.255-3.353-3.34 5.466-4.21 3.196 5.571c.44.766.493 1.695.145 2.506l-8.871 20.316-1.76.082a.574.574 0 01-.52-.28l-.192-.32-.927.075a.576.576 0 01-.51-.231l-.217-.295-.13.035a.792.792 0 01-.901-.393l-.643.215a.92.92 0 01.499-1.124z",fill:"#FCBEB7"})),he||(he=ye.createElement("path",{d:"M125.42 37.19c0 1.005.716 1.841 1.665 2.025l.347-.808a2.808 2.808 0 00-.145-2.505l-.396-.69a2.063 2.063 0 00-1.471 1.979zM85.752 38.9l1.461 1.318c.377.34.948.346 1.332.014l1.432-1.238a2.434 2.434 0 00-4.225-.094z",fill:"#F9AFAB"})))};n(1127);function Oe(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return we(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var je=function(t){var e=t.onRequestClose,n=t.onAction,o=Oe(Object(r.useState)(!1),2),i=o[0],c=o[1],u=Oe(Object(r.useState)(!1),2),s=u[0],l=u[1],f=Oe(Object(r.useState)(!1),2),m=f[0],p=f[1],h=Oe(Object(r.useState)(!1),2),d=h[0],b=h[1],y=Oe(Object(r.useState)(!1),2),v=y[0],g=y[1];return Object(r.createElement)("div",{className:"bwf-custom-experiment-modal"},Object(r.createElement)("div",{className:"bwf_clear_10"}),Object(r.createElement)("div",{className:"bwf-hero-svg"},Object(r.createElement)("div",null,ge())),Object(r.createElement)("div",{className:"bwf-h1"},Object(a.__)("Note: You would need to manually create an equivalent Automation in Next-Gen Builder.","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-modal-content-list"},Object(r.createElement)("div",{className:"modal-content-list-heading"},Object(a.__)("Please confirm","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-modal-list-wrap"},Object(r.createElement)("div",{className:"bwf-modal-list-item"},Object(r.createElement)(S.CheckboxControl,{checked:s,className:"bwf-export-toggler",onChange:function(t){l(t)}}),Object(a.__)("Yes, I have manually created this automation in the Automation Next-Gen Builder (new version) and no longer need this automation to work in older version.","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-modal-list-item"},Object(r.createElement)(S.CheckboxControl,{checked:m,className:"bwf-export-toggler",onChange:function(t){p(t)}}),Object(a.__)("Yes, I understand that this automation will not trigger for new contacts after I confirm migration.","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-modal-list-item"},Object(r.createElement)(S.CheckboxControl,{checked:d,className:"bwf-export-toggler",onChange:function(t){b(t)}}),Object(a.__)("Yes, I  understand that all the Scheduled Tasks for older contacts will still run.","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-modal-list-item"},Object(r.createElement)(S.CheckboxControl,{checked:v,className:"bwf-export-toggler",onChange:function(t){g(t)}}),Object(a.__)("Yes, I understand that I would not be able to edit the Automation after the migration is confirmed.","wp-marketing-automations")))),Object(r.createElement)("div",{className:"bwf-modal-note"},Object(r.createElement)("strong",null,Object(a.__)("Note: ","wp-marketing-automations")),Object(a.__)("If you are unsure about migration, click here to read our step-by-step guide to migrating the automation. You can also contact our support for any further questions.","wp-marketing-automations")," ",Object(r.createElement)("a",{href:"https://funnelkit.com/docs/autonami-2/automations/migrate-from-older-version/?utm_source=WordPress&utm_medium=Migrate+New+Automation&utm_campaign=Lite+Plugin",target:"_blank",className:"bwf-a-no-underline"},Object(a.__)("Learn More","wp-marketing-automations"))),Object(r.createElement)("div",{className:"bwf-modal-action",style:{marginBottom:0}},Object(r.createElement)(S.Button,{isSecondary:!0,onClick:e,style:{marginRight:"20px"}},Object(a.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(S.Button,{isPrimary:!0,onClick:function(){s&&m&&d&&v&&(c(!0),n())},isBusy:i,disabled:i||!(s&&m&&d&&v)},Object(a.__)("Yes, I Confirm Migration","wp-marketing-automations"))))};function Ee(t){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _e(){_e=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new E(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=O(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function m(){}function p(){}var h={};c(h,o,(function(){return this}));var d=Object.getPrototypeOf,b=d&&d(d(_([])));b&&b!==e&&n.call(b,o)&&(h=b);var y=p.prototype=f.prototype=Object.create(h);function v(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var r;this._invoke=function(o,a){function i(){return new e((function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Ee(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function O(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=p,c(y,"constructor",p),c(p,"constructor",m),m.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new g(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},v(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function ke(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function xe(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){ke(a,r,o,i,c,"next",t)}function c(t){ke(a,r,o,i,c,"throw",t)}i(void 0)}))}}function Le(t){return function(t){if(Array.isArray(t))return Te(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ne(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Se(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pe(Object(n),!0).forEach((function(e){Ce(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ce(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ae(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(t,e)||Ne(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(t,e){if(t){if("string"==typeof t)return Te(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Te(t,e):void 0}}function Te(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ie=function(t){var e=Object(r.useContext)(b.d),n=t.type,o=t.query,c=o.s,u=_(),s=h(),l=u.fetch,f=u.setAutomationListValues,m=s.getAutomations,p=s.getPageNumber,d=s.getPerPageCount,v=s.getTotalCount,g=s.getOffset,O=s.getLoadingStatus,w=s.getCountData,j=Object(r.useRef)(new AbortController),E=Ae(Object(r.useState)({loading:!1,status:!1}),2),A=E[0],T=E[1],I=Ae(Object(r.useState)(0),2),D=I[0],M=I[1],F=Ae(Object(r.useState)(0),2),G=F[0],B=F[1],R=Ae(Object(r.useState)(!1),2),q=R[0],V=R[1],U=Ae(Object(r.useState)(!1),2),Y=U[0],H=U[1],Z=Ae(Object(r.useState)({}),2),$=Z[0],J=Z[1],Q=Ae(Object(r.useState)(!1),2),W=Q[0],X=Q[1],nt=Ae(Object(r.useState)(!1),2),rt=nt[0],ot=nt[1],it=m(),ct=g(),ut=d(),st=O(),lt=v(),ft=p(),gt=w(),Ot="all";Object(k.isEmpty)(n)||("active"===n?Ot=1:"inactive"===n&&(Ot=2));var wt=Object(dt.a)().getPageCountData,jt=Object(bt.a)(),Et=jt.setPageCountData,_t=jt.setPageData,kt=Object(ht.a)(Object(b.U)()).formatAmount;Object(r.useEffect)((function(){H(!1),l(Ot,o,ct,ut)}),[ct,ut,n,c]),Object(r.useEffect)((function(){if(!st&&!Y&&!Object(k.isEmpty)(it)||rt)try{var t={automation_ids:[],version:1,force:rt};it.map((function(e){t.automation_ids.push(e.id)})),N()({method:"GET",path:Object(b.k)("/automations-stats?"+Object(y.stringify)(t)),signal:j.current.signal}).then((function(t){200==t.code&&(J(t.result),H(!0),rt&&(e("Data Updated"),Object(b.Z)(e,1e3),ot(!1)))})).catch((function(t){console.log(t)}))}catch(t){H(!0),ot(!1),console.log(t)}_t("automation-v1-list")}),[it,rt]),Object(r.useEffect)((function(){return H(!1),J({}),function(){j.current.abort()}}),[]);var xt=Object(r.createElement)(r.Fragment,null,Object(r.createElement)(S.Button,{isPrimary:!0,onClick:function(){return V(!0)},className:"bwf-display-flex"},Object(a.__)("Add New Automation","wp-marketing-automations"))),Lt=wt();Object(r.useEffect)((function(){var t={};gt.hasOwnProperty("automations")&&(t["automations-v1_automations"]=parseInt(gt.automations)),gt.hasOwnProperty("task_history")&&(t["automations-v1_task-history"]=parseInt(gt.task_history)),Et(Se(Se({},Lt),t));var e=0,n=0;gt.hasOwnProperty("status_count")&&(gt.status_count.hasOwnProperty("active")&&(n=parseInt(gt.status_count.active)),gt.status_count.hasOwnProperty("inactive")&&(e=parseInt(gt.status_count.inactive))),M(n),B(e)}),[gt]),Object(et.a)("automations","","",!1,xt,0,!1,!1);var St=Object(r.useMemo)((function(){var t={};if(Array.isArray(it)){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Ne(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(it);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r.id]=r}}catch(t){n.e(t)}finally{n.f()}}return t}),[it]),Ct=Object(vt.b)(St),At=Ct.singleSelectProps,Nt=Ct.selectAllProps,Tt=Ct.floatingBarProps,It=Ct.resetSelection,Dt=[{key:"select_template",label:Object(r.createElement)(S.CheckboxControl,Nt),isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-45"},{key:"action",label:"",isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-45"},{key:"title",label:Object(a.__)("Name","wp-marketing-automations"),isLeftAligned:!0,required:!0},{key:"event",label:Object(a.__)("Event","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-150"},{key:"actions",label:Object(a.__)("Actions","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-210"},{key:"tasks",label:Object(a.__)("Tasks","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-col-center bwf-w-300"},{key:"total_run",label:Object(a.__)("Total Runs","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-col-center bwf-w-120"},Object(b.qb)()&&{key:"revenue",label:Object(a.__)("Revenue","wp-marketing-automations"),cellClassName:"bwf-col-center bwf-w-120"},{key:"status",label:Object(a.__)("Status","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-60 bwf-col-center"}],Mt=function(t){t!==ut&&f("limit",t)},Ft=function(t){var e=[],n="";return Object(k.isEmpty)(t.automation_actions)||Object.entries(t.automation_actions).map((function(t){var r=Ae(t,2),o=(r[0],r[1]);Object(k.isEmpty)(n)&&(n=o[0]),e=[].concat(Le(e),Le(o))})),Object(r.createElement)(r.Fragment,null,Object(k.isEmpty)(n)?"-":Object(r.createElement)(r.Fragment,null,!Object(k.isEmpty)(n)&&n,!Object(k.isEmpty)(e)&&e.length>1&&Object(r.createElement)(pt.a,{items:e})))},Gt=function(){var t=xe(_e().mark((function t(n,r){return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T(Se(Se({},r),{},{status:!0})),t.prev=1,t.next=4,N()({path:Object(b.k)("/automations"),method:"DELETE",data:{automation_ids:[n]}}).then((function(t){if(200!==t.code)throw Error(Object(b.i)(null==t?void 0:t.message));T({status:!1}),e(t.message),l(Ot,o,0,ut),Object(b.Z)(e,2e3)}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),T(Se(Se({},r),{},{error:t.t0.message}));case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}(),Bt=function(){var t=xe(_e().mark((function t(n){return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(a.__)("Duplicating…","wp-marketing-automations")),t.prev=1,t.next=4,N()({path:Object(b.k)("/automations/".concat(n,"/duplicate")),method:"POST"}).then((function(t){if(200!==t.code)throw Error(Object(b.i)(null==t?void 0:t.message));e(Object(a.__)("Automation Duplicated","wp-marketing-automations")),l(Ot,o,0,ut),Object(b.Z)(e,2e3)}));case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),Object(b.Z)(e,1e3),setTimeout((function(){T({status:!0,modalTitle:Object(a.__)("Duplicate Automation"),error:t.t0.message})}),[1500]);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),zt=function(t,e){var n="data:text/json;charset=utf-8,"+encodeURIComponent(t),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",e+".json"),document.body.appendChild(r),r.click(),r.remove()},Rt=function(){var t=xe(_e().mark((function t(){var n,r,o,i=arguments;return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:0,r=i.length>1&&void 0!==i[1]?i[1]:"automation",e(Object(a.__)("Exporting…","wp-marketing-automations")),o="",o=parseInt(n)>0?Object(b.k)("/automations/".concat(n,"/export?version=1")):Object(b.k)("/automations/export/?version=1"),t.prev=5,t.next=8,N()({path:o,method:"GET"}).then((function(t){if(200!==t.code)throw Error(Object(b.i)(null==t?void 0:t.message));zt(t.result,r),e(Object(a.__)("Automation exported","wp-marketing-automations")),Object(b.Z)(e,2e3)}));case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(5),Object(b.Z)(e,1e3),setTimeout((function(){T({status:!0,modalTitle:Object(a.__)("Export Automation"),error:t.t0.message})}),[1500]);case 14:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(){return t.apply(this,arguments)}}(),qt=function(){var t=xe(_e().mark((function t(n,r){var o,i=arguments;return _e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=i.length>2&&void 0!==i[2]?i[2]:{},e(4===n?"Updating Automation...":n?"Activating Automation...":"Deactivating Automation..."),t.prev=2,t.next=5,N()({path:Object(b.k)("/automations/toggle-state"),method:"POST",data:{state:n,automation_id:r}}).then((function(t){if(200!==t.code)throw Error(Object(b.i)(null==t?void 0:t.message));e(4===n?Object(a.__)("Automation migrated","wp-marketing-automations"):n?Object(a.__)("Automation activated","wp-marketing-automations"):Object(a.__)("Automation deactivated","wp-marketing-automations"));var o;o=it.map((function(t){return t.id==r&&(1==n?t.status="1":4==n?t.migrated=!0:t.status="0"),t})),4==n&&T({status:!1}),f("automations",o),Object(b.Z)(e,2e3)}));case 5:t.next=12;break;case 7:t.prev=7,t.t0=t.catch(2),4==n&&T(Se(Se({},o),{},{error:t.t0.message})),Object(b.Z)(e,1e3),setTimeout((function(){T({status:!0,modalTitle:Object(a.__)("Automation Status Update"),error:t.t0.message})}),[1500]);case 12:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}(),Vt=function(t){if(t.hasOwnProperty("migrated")&&t.migrated)return Object(r.createElement)("span",{className:"bwf-tags bwf-tag-blue"},Object(a.__)("Migrated","wp-marketing-automations"));switch(parseInt(t.status)){case 1:return Object(r.createElement)("span",{className:"bwf-tags bwf-tag-green"},Object(a.__)("Active","wp-marketing-automations"));default:return Object(r.createElement)("span",{className:"bwf-tags bwf-tag-gray"},Object(a.__)("Inactive","wp-marketing-automations"))}},Ut=function(t){return Object(r.createElement)("a",{href:"admin.php?page=autonami-automations&edit="+t.id,className:"bwf-a-no-underline"},Object(r.createElement)("b",null,t.name))},Yt=function(t){return Object(r.createElement)(r.Fragment,null,t.event?t.event:Object(a.__)("Not Found","wp-marketing-automations"))},Ht=function(t){if(!Y)return Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-w-210 bwf-h-15",title:"Loading"});var e=$.hasOwnProperty(t.id)?$[t.id]:{};return Object(r.createElement)(P.a,{gap:2,justify:"center"},Object(r.createElement)(P.c,null,Object(r.createElement)(S.Tooltip,{text:"Active",position:"top"},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(z.k)({path:"/automations-v1/task-history/scheduled",automation:t.id},"/",o)},style:{display:"inline-flex"}},Object(r.createElement)(at.a,{icon:"status-scheduled",width:16,height:16})," ",e.hasOwnProperty("scheduled")?parseInt(e.scheduled):0)))),Object(r.createElement)(P.c,null,Object(r.createElement)(S.Tooltip,{text:"Paused",position:"top"},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(z.k)({path:"/automations-v1/task-history/paused",automation:t.id},"/",o)},style:{display:"inline-flex"}},Object(r.createElement)(at.a,{icon:"status-paused",width:16,height:16})," ",e.hasOwnProperty("paused")?parseInt(e.paused):0)))),Object(r.createElement)(P.c,null,Object(r.createElement)(S.Tooltip,{text:"Completed",position:"top"},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(z.k)({path:"/automations-v1/task-history/completed",automation:t.id},"/",o)},style:{display:"inline-flex"}},Object(r.createElement)(at.a,{icon:"status-completed",width:16,height:16})," ",e.hasOwnProperty("completed")?parseInt(e.completed):0)))),Object(r.createElement)(P.c,null,Object(r.createElement)(S.Tooltip,{text:"Failed",position:"top"},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(z.k)({path:"/automations-v1/task-history/failed",automation:t.id},"/",o)},style:{display:"inline-flex"}},Object(r.createElement)(at.a,{icon:"status-failed",width:16,height:16})," ",e.hasOwnProperty("failed")?parseInt(e.failed):0)))))},Zt=Array.isArray(it)?it.map((function(t){return[{display:At.hasOwnProperty(t.id)?Object(r.createElement)(S.CheckboxControl,At[t.id]):Object(r.createElement)(r.Fragment,null),value:null},{display:(e=t,Object(r.createElement)(x.a,{label:Object(a.__)("Quick Actions","wp-marketing-automations"),menuPosition:"bottom right",renderContent:function(t){var n=t.onToggle;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(L.a,null,Object(r.createElement)("a",{href:"admin.php?page=autonami-automations&edit="+e.id,className:"bwf-a-no-underline"},Object(r.createElement)(P.a,{justify:"flex-start"},Object(r.createElement)(P.c,null,Object(r.createElement)(at.a,{icon:"edit"})),Object(r.createElement)(P.c,null,Object(a.__)("Edit","wp-marketing-automations"))))),!(e.hasOwnProperty("migrated")&&e.migrated)&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){qt(1!==parseInt(e.status),e.id),n()}},Object(r.createElement)(P.a,{justify:"flex-start"},Object(r.createElement)(P.c,null,Object(r.createElement)(at.a,{icon:1===parseInt(e.status)?"pause":"play"})),Object(r.createElement)(P.c,null,1===parseInt(e.status)?Object(a.__)("Deactivate","wp-marketing-automations"):Object(a.__)("Activate","wp-marketing-automations")))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){Bt(e.id),n()}},Object(r.createElement)(P.a,{justify:"flex-start"},Object(r.createElement)(P.c,null,Object(r.createElement)(at.a,{icon:"duplicate"})),Object(r.createElement)(P.c,null,Object(a.__)("Duplicate","wp-marketing-automations")))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){var t={status:!0,modalTitle:"",content:Object(r.createElement)(je,{onRequestClose:function(){return T({})},onAction:function(){return qt(4,e.id,t)}}),isDelete:!1,closeIcon:!0,modalClass:"bwf-admin-modal-medium"};T(Se({},t)),n()}},Object(r.createElement)(P.a,{justify:"flex-start"},Object(r.createElement)(P.c,null,Object(r.createElement)(at.a,{icon:"migrate"})),Object(r.createElement)(P.c,null,Object(a.__)("Confirm Migration","wp-marketing-automations")))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){Rt(e.id,e.name),n()}},Object(r.createElement)(P.a,{justify:"flex-start"},Object(r.createElement)(P.c,null,Object(r.createElement)(at.a,{icon:"export"})),Object(r.createElement)(P.c,null,Object(a.__)("Export","wp-marketing-automations"))))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){var t={status:!0,modalTitle:Object(a.__)("Delete Automation"),deleteEntityName:e.name,isDelete:!0,buttonConfirm:Object(a.__)("Delete","wp-marketing-automations"),buttonCancel:Object(a.__)("Cancel","wp-marketing-automations"),closeIcon:!1};T(Se(Se({},t),{},{onConfirm:function(){return Gt(e.id,t)}})),n()}},Object(r.createElement)(P.a,{justify:"flex-start"},Object(r.createElement)(P.c,null,Object(r.createElement)(at.a,{icon:"trash"})),Object(r.createElement)(P.c,null,Object(a.__)("Delete","wp-marketing-automations")))))}})),value:""},{display:Ut(t),value:t.name},{display:Yt(t),value:t.event},{display:Ft(t),value:""},{display:Ht(t),value:""},{display:parseInt(t.run_count)>0?parseInt(t.run_count):"0",value:t.run_count},Object(b.qb)()&&{display:t.revenue&&parseFloat(t.revenue)>0?kt(t.revenue):"-",value:""},{display:Vt(t),value:""}];var e})):[],$t=tt()("bwfcrm-campaign-list-table",{"has-search":!0}),Jt=[{type:"icon",data:{class:"bwf-pb-gap",content:Object(r.createElement)(at.a,{icon:"zero-automation",width:"90",height:"90"})}},{type:"content",data:{class:"bwf-h2 bwf-pb-10",content:Object(a.__)("Grow your business with marketing automation","wp-marketing-automations")}},{type:"content",data:{class:"bwf-h4-1 bwf-pb-gap",content:Object(a.__)("Create Automations for abandoned cart, post-purchase, win-back, and more. Build automated workflows that generate profits while you sleep. Connect your site to Zapier, Slack, Twilio, Google Sheets and explore limitless automation possibilities.","wp-marketing-automations")}},{type:"buttons",data:{buttons:[{text:Object(a.__)("Add New Automation","wp-marketing-automations"),proCheck:!1,onClick:function(){V(!0)}}]}}],Qt=Object(r.createElement)("div",{className:"bwf-display-flex gap-12"},Object(r.createElement)(S.Button,{isSecondary:!0,className:"bwf-btn-small bwf-btn-gray",title:Object(a.__)("Refresh Stats","wp-marketing-automations"),onClick:function(){return H(!1),void ot(!0)},disabled:!Y,isBusy:!Y&&rt},Object(r.createElement)(at.a,{icon:"retry",size:16}),Object(a.__)("Refresh")),Object(r.createElement)(S.Button,{isSecondary:!0,className:"bwf-btn-small bwf-btn-gray",title:Object(a.__)("Export","wp-marketing-automations"),onClick:function(){return Rt()}},Object(r.createElement)(at.a,{icon:"export",size:16}),Object(a.__)("Export")),Object(r.createElement)(S.Button,{isSecondary:!0,className:"bwf-btn-small bwf-btn-gray",title:Object(a.__)("Import","wp-marketing-automations"),onClick:function(){return X(!0)}},Object(r.createElement)(at.a,{icon:"import",size:16}),Object(a.__)("Import")));return Object(r.createElement)(r.Fragment,null,Object(b.A)()?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(S.ButtonGroup,{className:"bwf-btn-group-tabs"},Object(r.createElement)(S.Button,{isPrimary:!n,isSecondary:!!n,onClick:function(){return Object(z.k)({path:"/automations-v1/"},"/",o)}},Object(a.__)("All","wp-marketing-automations"),gt.hasOwnProperty("automations")&&parseInt(gt.automations)>0?Object(r.createElement)("span",{className:"bwf-crm-btn-group-count"},parseInt(gt.automations)):""),Object(r.createElement)(S.Button,{isPrimary:n&&"active"===n,isSecondary:n&&"active"!==n,onClick:function(){return Object(z.k)({path:"/automations-v1/list/active"},"/",o)}},Object(a.__)("Active","wp-marketing-automations"),parseInt(D)>0?Object(r.createElement)("span",{className:"bwf-crm-btn-group-count"},parseInt(D)):""),Object(r.createElement)(S.Button,{isPrimary:n&&"inactive"===n,isSecondary:n&&"inactive"!==n,onClick:function(){return Object(z.k)({path:"/automations-v1/list/inactive"},"/",o)}},Object(a.__)("Inactive","wp-marketing-automations"),parseInt(G)>0?Object(r.createElement)("span",{className:"bwf-crm-btn-group-count"},parseInt(G)):"")),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)(i.a,{className:$t,rows:Zt,headers:Dt,query:{paged:ft},rowsPerPage:ut,totalRows:lt,isLoading:st,onPageChange:function(t,e){f("offset",(t-1)*ut)},onQueryChange:function(t){return"per_page"!==t?function(){}:Mt},rowHeader:!0,showMenu:!1,actions:[Object(r.createElement)(K,{key:"search",query:o,isV2:!1})],emptyMessage:Object(a.__)("No automations found","wp-marketing-automations"),extraSectionBeforefilterCol:Qt}),Object(r.createElement)(C.a,{modalTitle:A.modalTitle,deleteEntityName:A.deleteEntityName,confirmText:A.confirmText,confirmButtonText:A.buttonConfirm,cancelButtonText:A.buttonCancel,onConfirm:A.onConfirm,isLoading:A.loading,successMessage:A.success,errorMessage:A.error,content:A.content,onRequestClose:function(){return T({status:!1})},confirmDescription:A.hasOwnProperty("confirmDescription")?A.confirmDescription:"",isOpen:A.status,isDelete:A.isDelete,closeIcon:!A.hasOwnProperty("closeIcon")||A.closeIcon,modalClass:A.modalClass}),Object(r.createElement)(Pt,{floatingBarProps:Tt,resetSelection:It,onSuccess:function(){return l(Ot,o,ct,ut)}})):Object(r.createElement)(yt.a,{data:Jt}),q&&Object(r.createElement)(mt,{onCloseModal:function(){return V(!1)},query:o}),W&&Object(r.createElement)(be,{onRequestClose:function(){return X(!1)}}))},De=n(839),Me=n(852);function Fe(t){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ge(){Ge=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new E(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=O(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function m(){}function p(){}var h={};c(h,o,(function(){return this}));var d=Object.getPrototypeOf,b=d&&d(d(_([])));b&&b!==e&&n.call(b,o)&&(h=b);var y=p.prototype=f.prototype=Object.create(h);function v(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var r;this._invoke=function(o,a){function i(){return new e((function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Fe(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function O(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=p,c(y,"constructor",p),c(p,"constructor",m),m.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new g(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},v(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function Be(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function ze(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Be(a,r,o,i,c,"next",t)}function c(t){Be(a,r,o,i,c,"throw",t)}i(void 0)}))}}var Re=function(t){var e=t.isOpen,n=t.tasks,o=t.onSuccess,i=t.onError,c=t.onRequestClose,u=t.actionType,s=n?n.length:0,l=Object(gt.useMutation)(function(){var t=ze(Ge().mark((function t(e){return Ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N()({path:Object(b.k)("/bulk-action/automation_v2"),method:"POST",headers:{"X-HTTP-Method-Override":"DELETE"},data:{ids:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{onSuccess:function(){setTimeout((function(){return l.reset()}),2500),o&&o()},onError:function(){i&&i()}}),f=function(){var t=ze(Ge().mark((function t(){return Ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.mutate(n.map((function(t){return t.id})));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m={delete:{title:Object(a._n)("Delete Automation","Delete Automations",s,"wp-marketing-automations"),description:Object(r.createElement)(r.Fragment,null,Object(a.__)("You are about to delete ","wp-marketing-automations"),Object(a._n)("automation","automations",s,"wp-marketing-automations"),Object(a.__)(". This action cannot be undone. Cancel to stop, Delete to proceed.","wp-marketing-automations")),confirmBtn:Object(a.__)("Delete","wp-marketing-automations"),cancelBtn:Object(a.__)("Cancel","wp-marketing-automations"),successMsg:Object(a.__)("Bulk action executed successfully","wp-marketing-automations"),errorMsg:Object(a.__)("Unable to delete automation","wp-marketing-automations"),confirmDescription:Object(a.__)("This action is irreversible","wp-marketing-automations")}};return Object(r.createElement)(C.a,{modalTitle:m.hasOwnProperty(u)&&m[u].hasOwnProperty("title")?m[u].title:Object(a._n)("Perform Actions","Perform Actions",s,"wp-marketing-automations"),deleteDescriptionText:m.hasOwnProperty(u)&&m[u].hasOwnProperty("description")?m[u].description:"",confirmButtonText:m.hasOwnProperty(u)&&m[u].hasOwnProperty("confirmBtn")?m[u].confirmBtn:Object(a.__)("Confirm","wp-marketing-automations"),cancelButtonText:m.hasOwnProperty(u)&&m[u].hasOwnProperty("cancelBtn")?m[u].cancelBtn:Object(a.__)("Cancel","wp-marketing-automations"),onConfirm:f,isLoading:l.isLoading,successMessage:l.isSuccess&&(m.hasOwnProperty(u)&&m[u].hasOwnProperty("successMsg")?m[u].successMsg:Object(a.__)("Actions Done!","wp-marketing-automations")),errorMessage:l.isError&&(l.error&&l.error.message?l.error.message:m.hasOwnProperty(u)&&m[u].hasOwnProperty("errorMsg")?m[u].errorMsg:Object(a.__)("Unable to perform action","wp-marketing-automations")),onRequestClose:function(){return!!c&&c()},isOpen:e,confirmDescription:m.hasOwnProperty(u)&&m[u].hasOwnProperty("confirmDescription")?m[u].confirmDescription:"",isDelete:!0})};function qe(){return(qe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Ve(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ue(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ue(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ye=function(t){var e=t.floatingBarProps,n=void 0===e?{}:e,o=t.resetSelection,i=t.onSuccess,c=t.screenType,u=t.screenTypeId,s=t.automationId,l=Ve(Object(r.useState)([]),2),f=l[0],m=l[1],p=Ve(Object(r.useState)(!1),2),h=p[0],d=p[1],b=Ve(Object(r.useState)(""),2),y=b[0],v=b[1],g=function(){o&&o(),m([])};Object(r.useEffect)((function(){g()}),[c]);var O=Object(r.useCallback)((function(t,e){m(e),v(t),d(!0)}),[]);return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(vt.a,qe({actions:[{id:"delete",icon:"trash",hint:Object(a.__)("Delete","wp-marketing-automations")}],onAction:O},n)),Object(r.createElement)(Re,{tasks:f,isOpen:h,onSuccess:function(){i&&i(y,f),g()},onError:g,onRequestClose:function(){return d(!1)},screenType:c,screenTypeId:u,actionType:y,automationId:s}))},He=n(822);function Ze(t){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $e(){$e=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new E(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=O(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function m(){}function p(){}var h={};c(h,o,(function(){return this}));var d=Object.getPrototypeOf,b=d&&d(d(_([])));b&&b!==e&&n.call(b,o)&&(h=b);var y=p.prototype=f.prototype=Object.create(h);function v(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var r;this._invoke=function(o,a){function i(){return new e((function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Ze(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}(o,a,r,i)}))}return r=r?r.then(i,i):i()}}function O(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return m.prototype=p,c(y,"constructor",p),c(p,"constructor",m),m.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(g.prototype),c(g.prototype,a,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new g(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},v(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function Je(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Qe(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Je(a,r,o,i,c,"next",t)}function c(t){Je(a,r,o,i,c,"throw",t)}i(void 0)}))}}function We(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ke(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?We(Object(n),!0).forEach((function(e){Xe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(t,e)||en(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(t,e){if(t){if("string"==typeof t)return nn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nn(t,e):void 0}}function nn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rn=function(t){var e=Object(r.useContext)(b.d),n=t.type,o=t.query,c=t.automationV2,u=o.s,s=Object(Me.a)(),l=Object(De.a)(),f=s.fetch,m=s.setAutomationListValues,p=l.getAutomations,h=l.getPageNumber,d=l.getPerPageCount,v=l.getTotalCount,g=l.getOffset,O=l.getLoadingStatus,w=l.getCountData,j=Object(it.a)().setAutomationData,E=tn(Object(r.useState)({loading:!1,status:!1}),2),_=E[0],A=E[1],T=tn(Object(r.useState)(!1),2),I=T[0],D=T[1],M=tn(Object(r.useState)(!1),2),F=M[0],G=M[1],B=tn(Object(r.useState)({}),2),R=B[0],q=B[1],V=tn(Object(r.useState)(!1),2),U=V[0],Y=V[1],H=p(),Z=g(),$=d(),J=O(),Q=v(),W=h(),X=w(),nt="all";Object(k.isEmpty)(n)||("active"===n?nt=1:"inactive"===n&&(nt=2));var rt=Object(r.useRef)(new AbortController),ot=Object(ht.a)(Object(b.U)()).formatAmount;Object(r.useEffect)((function(){D(!1),f(nt,o,Z,$,c)}),[Z,$,n,u,c]),Object(r.useEffect)((function(){if(!J&&!I&&!Object(k.isEmpty)(H)||F)try{var t={automation_ids:[],version:2,force:F};H.map((function(e){t.automation_ids.push(e.id)})),N()({method:"GET",path:Object(b.k)("/automations-stats?"+Object(y.stringify)(t)),signal:rt.current.signal}).then((function(t){200==t.code&&(q(t.result),D(!0),F&&(e("Data Updated"),Object(b.Z)(e,1e3),G(!1)))})).catch((function(t){console.log(t)}))}catch(t){D(!0),G(!1),console.log(t)}}),[H,F]);var ct=Object(r.createElement)(S.Button,{isPrimary:!0,onClick:function(){return Object(z.k)({path:"/automations/create"},"/",o)},className:"bwf-display-flex"},Object(a.__)("Add New Automation","wp-marketing-automations")),ut=Object(dt.a)().getPageCountData,st=Object(bt.a)().setPageCountData,lt=ut();Object(r.useEffect)((function(){var t=0,e=0;X.hasOwnProperty("status_count")&&(X.status_count.hasOwnProperty("active")&&(e=parseInt(X.status_count.active)),X.status_count.hasOwnProperty("inactive")&&(t=parseInt(X.status_count.inactive))),st(Ke(Ke({},lt),{"automations-v2_all":parseInt(t)+parseInt(e),"automations-v2_active":e,"automations-v2_inactive":t}))}),[X]),Object(r.useEffect)((function(){return function(){rt.current.abort()}}),[]),Object(et.a)(Object(k.isEmpty)(n)?"all":n,"","",!1,ct,0,!1,c);var ft=Object(r.useMemo)((function(){var t={};if(Array.isArray(H)){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=en(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(H);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r.id]=r}}catch(t){n.e(t)}finally{n.f()}}return t}),[H]),mt=Object(vt.b)(ft),pt=mt.singleSelectProps,gt=mt.selectAllProps,Ot=mt.floatingBarProps,wt=mt.resetSelection,jt=[{key:"select_template",label:Object(r.createElement)(S.CheckboxControl,gt),isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-45"},{key:"action",label:"",isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-45"},{key:"title",label:Object(a.__)("Name","wp-marketing-automations"),isLeftAligned:!0,required:!0},{key:"event",label:Object(a.__)("Event","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-300"},{key:"contacts",label:Object(a.__)("Contacts","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-col-center bwf-w-300"},Object(b.qb)()&&{key:"revenue",label:Object(a.__)("Revenue","wp-marketing-automations"),cellClassName:"bwf-col-center bwf-w-120"},{key:"status",label:Object(a.__)("Status","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-col-center bwf-w-60"}],Et=function(t){t!==$&&m("limit",t)},_t=function(){var t=Qe($e().mark((function t(n,r){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return A(Ke(Ke({},r),{},{status:!0})),t.prev=1,t.next=4,N()({path:Object(b.k)("/automations"),method:"DELETE",data:{automation_ids:[n]}}).then((function(t){if(200!==t.code)throw Error(Object(b.i)(null==t?void 0:t.message));A({status:!1}),e(t.message),f(nt,o,0,$,c),Object(b.Z)(e,2e3)}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),A(Ke(Ke({},r),{},{error:t.t0.message}));case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}(),kt=function(){var t=Qe($e().mark((function t(n){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(a.__)("Duplicating…","wp-marketing-automations")),t.prev=1,t.next=4,N()({path:Object(b.k)("/automations/".concat(n,"/duplicate?version=2")),method:"POST"}).then((function(t){if(200!==t.code)throw Error(Object(b.i)(null==t?void 0:t.message));e(Object(a.__)("Automation Duplicated","wp-marketing-automations")),f(nt,o,0,$,c),Object(b.Z)(e,2e3)}));case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),Object(b.Z)(e,1e3),setTimeout((function(){A({status:!0,modalTitle:Object(a.__)("Duplicate Automation"),error:t.t0.message})}),[1500]);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),xt=function(t,e){var n="data:text/json;charset=utf-8,"+encodeURIComponent(t),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",e+".json"),document.body.appendChild(r),r.click(),r.remove()},Lt=function(){var t=Qe($e().mark((function t(){var n,r,o,i=arguments;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:0,r=i.length>1&&void 0!==i[1]?i[1]:"automation",e(Object(a.__)("Exporting…","wp-marketing-automations")),o="",o=parseInt(n)>0?Object(b.k)("/automations/".concat(n,"/export?version=2")):Object(b.k)("/automations/export/?version=2"),t.prev=5,t.next=8,N()({path:o,method:"GET"}).then((function(t){if(200!==t.code)throw Error(Object(b.i)(null==t?void 0:t.message));xt(t.result,r),e(Object(a.__)("Automation exported","wp-marketing-automations")),Object(b.Z)(e,2e3)}));case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(5),Object(b.Z)(e,1e3),setTimeout((function(){A({status:!0,modalTitle:Object(a.__)("Export Automation"),error:t.t0.message})}),[1500]);case 14:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(){return t.apply(this,arguments)}}(),Pt=function(){var t=Qe($e().mark((function t(n,r){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(n?"Activating Automation...":"Deactivating Automation..."),t.prev=1,t.next=4,N()({path:Object(b.k)("/automations/toggle-state"),method:"POST",data:{state:n,automation_id:r}}).then((function(t){if(200!==t.code)throw Error(Object(b.i)(null==t?void 0:t.message));e(n?Object(a.__)("Automation activated","wp-marketing-automations"):Object(a.__)("Automation deactivated","wp-marketing-automations"));var o;o=H.map((function(t){return t.id==r&&(t.status=n?"1":"0"),t})),m("automations",o),Object(b.Z)(e,2e3)}));case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),Object(b.Z)(e,1e3),setTimeout((function(){A({status:!0,modalTitle:Object(a.__)("Automation Status Update"),error:t.t0.message})}),[1500]);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}(),St=function(t){switch(parseInt(t.status)){case 1:return Object(r.createElement)("span",{className:"bwf-tags bwf-tag-green"},Object(a.__)("Active","wp-marketing-automations"));default:return Object(r.createElement)("span",{className:"bwf-tags bwf-tag-gray"},Object(a.__)("Inactive","wp-marketing-automations"))}},Ct=function(t){return Object(r.createElement)("a",{href:"admin.php?page=autonami&path=/automation/"+t.id,onClick:function(e){e.preventDefault(),j("listData",t.hasOwnProperty("name")?t.name:""),Object(z.k)({path:"/automation/".concat(t.id)},"/",o)},className:"bwf-a-no-underline"},Object(r.createElement)("b",null,t.name))},At=function(t){return Object(r.createElement)(r.Fragment,null,t.event?t.event:Object(a.__)("Not Found","wp-marketing-automations"))},Nt=function(t){if(!I||Object(k.isEmpty)(R))return Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-w-210 bwf-h-15",title:"Loading"});var e=R.hasOwnProperty(t.id)?R[t.id]:{};return Object(r.createElement)(P.a,{gap:2,justify:"center"},Object(r.createElement)(P.c,null,Object(r.createElement)(S.Tooltip,{text:"Active",position:"top"},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(z.k)({path:"/automation/".concat(t.id,"/contacts/active")},"/",o)},style:{display:"inline-flex"}},Object(r.createElement)(at.a,{icon:"status-scheduled",width:16,height:16})," ",e.hasOwnProperty("active")?parseInt(e.active):0)))),Object(r.createElement)(P.c,null,Object(r.createElement)(S.Tooltip,{text:"Paused",position:"top"},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(z.k)({path:"/automation/".concat(t.id,"/contacts/paused")},"/",o)},style:{display:"inline-flex"}},Object(r.createElement)(at.a,{icon:"status-paused",width:16,height:16})," ",e.hasOwnProperty("paused")?parseInt(e.paused):0)))),Object(r.createElement)(P.c,null,Object(r.createElement)(S.Tooltip,{text:"Completed",position:"top"},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(z.k)({path:"/automation/".concat(t.id,"/contacts/completed")},"/",o)},style:{display:"inline-flex"}},Object(r.createElement)(at.a,{icon:"status-completed",width:16,height:16})," ",e.hasOwnProperty("complete")?parseInt(e.complete):0)))),Object(r.createElement)(P.c,null,Object(r.createElement)(S.Tooltip,{text:"Failed",position:"top"},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(z.k)({path:"/automation/".concat(t.id,"/contacts/failed")},"/",o)},style:{display:"inline-flex"}},Object(r.createElement)(at.a,{icon:"status-failed",width:16,height:16})," ",e.hasOwnProperty("failed")?parseInt(e.failed):0)))))},Tt=Array.isArray(H)?H.map((function(t){return[{display:pt.hasOwnProperty(t.id)?Object(r.createElement)(S.CheckboxControl,pt[t.id]):Object(r.createElement)(r.Fragment,null),value:null},{display:(e=t,Object(r.createElement)(x.a,{label:Object(a.__)("Quick Actions","wp-marketing-automations"),menuPosition:"bottom right",renderContent:function(t){var n=t.onToggle;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(L.a,null,Object(r.createElement)(He.a,{to:"wp-admin/admin.php?page=autonami&path=/automation/"+e.id,onClick:function(t){t.preventDefault(),j("listData",e.hasOwnProperty("name")?e.name:""),Object(z.k)({path:"/automation/".concat(e.id)},"/",o)},className:"bwf-a-no-underline"},Object(r.createElement)(P.a,{justify:"flex-start"},Object(r.createElement)(P.c,null,Object(r.createElement)(at.a,{icon:"edit"})),Object(r.createElement)(P.c,null,Object(a.__)("Edit","wp-marketing-automations"))))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){Pt(1!==parseInt(e.status),e.id),n()}},Object(r.createElement)(P.a,{justify:"flex-start"},Object(r.createElement)(P.c,null,Object(r.createElement)(at.a,{icon:1===parseInt(e.status)?"pause":"play"})),Object(r.createElement)(P.c,null,1===parseInt(e.status)?Object(a.__)("Deactivate","wp-marketing-automations"):Object(a.__)("Activate","wp-marketing-automations")))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){kt(e.id),n()}},Object(r.createElement)(P.a,{justify:"flex-start"},Object(r.createElement)(P.c,null,Object(r.createElement)(at.a,{icon:"duplicate"})),Object(r.createElement)(P.c,null,Object(a.__)("Duplicate","wp-marketing-automations")))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){Lt(e.id,e.name),n()}},Object(r.createElement)(P.a,{justify:"flex-start"},Object(r.createElement)(P.c,null,Object(r.createElement)(at.a,{icon:"export"})),Object(r.createElement)(P.c,null,Object(a.__)("Export","wp-marketing-automations")))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){var t={status:!0,modalTitle:Object(a.__)("Delete Automation"),deleteEntityName:e.name,isDelete:!0,buttonConfirm:Object(a.__)("Delete","wp-marketing-automations"),buttonCancel:Object(a.__)("Cancel","wp-marketing-automations")};A(Ke(Ke({},t),{},{onConfirm:function(){return _t(e.id,t)}})),n()}},Object(r.createElement)(P.a,{justify:"flex-start"},Object(r.createElement)(P.c,null,Object(r.createElement)(at.a,{icon:"trash"})),Object(r.createElement)(P.c,null,Object(a.__)("Delete","wp-marketing-automations")))))}})),value:""},{display:Ct(t),value:t.name},{display:At(t),value:t.event},{display:Nt(t),value:""},Object(b.qb)()&&{display:t.revenue&&parseFloat(t.revenue)>0?ot(t.revenue):"-",value:""},{display:St(t),value:""}];var e})):[],It=tt()("bwfcrm-campaign-list-table",{"has-search":!0}),Dt=[{type:"icon",data:{class:"bwf-pb-gap",content:Object(r.createElement)(at.a,{icon:"zero-automation",width:"90",height:"90"})}},{type:"content",data:{class:"bwf-h2 bwf-pb-10",content:Object(a.__)("Grow your business with marketing automation","wp-marketing-automations")}},{type:"content",data:{class:"bwf-h4-1 bwf-pb-gap",content:Object(a.__)("Create Automations for abandoned cart, post-purchase, win-back, and more. Build automated workflows that generate profits while you sleep. Connect your site to Zapier, Slack, Twilio, Google Sheets and explore limitless automation possibilities.","wp-marketing-automations")}},{type:"buttons",data:{buttons:[{text:Object(a.__)("Add New Automation","wp-marketing-automations"),proCheck:!1,onClick:function(){Object(z.k)({path:"/automations/create"},"/",o)}}]}}],Mt=Object(r.createElement)("div",{className:"bwf-display-flex gap-12"},Object(r.createElement)(S.Button,{isSecondary:!0,className:"bwf-btn-small bwf-btn-gray",title:Object(a.__)("Refresh Stats","wp-marketing-automations"),onClick:function(){return D(!1),void G(!0)},disabled:!I,isBusy:!I&&F},Object(r.createElement)(at.a,{icon:"retry",size:16}),Object(a.__)("Refresh")),Object(r.createElement)(S.Button,{isSecondary:!0,className:"bwf-btn-small bwf-btn-gray",title:Object(a.__)("Export","wp-marketing-automations"),onClick:function(){return Lt()}},Object(r.createElement)(at.a,{icon:"export",size:16}),Object(a.__)("Export")),Object(r.createElement)(S.Button,{isSecondary:!0,className:"bwf-btn-small bwf-btn-gray",title:Object(a.__)("Import","wp-marketing-automations"),onClick:function(){return Y(!0)}},Object(r.createElement)(at.a,{icon:"import",size:16}),Object(a.__)("Import")));return Object(r.createElement)(r.Fragment,null,Object(b.A)()?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(i.a,{className:It,rows:Tt,headers:jt,query:{paged:W},rowsPerPage:$,totalRows:Q,isLoading:J,onPageChange:function(t,e){m("offset",(t-1)*$)},onQueryChange:function(t){return"per_page"!==t?function(){}:Et},rowHeader:!0,showMenu:!1,actions:[Object(r.createElement)(K,{key:"search",query:o,isV2:!0})],emptyMessage:Object(a.__)("No automations found","wp-marketing-automations"),extraSectionBeforefilterCol:Mt}),Object(r.createElement)(C.a,{modalTitle:_.modalTitle,deleteEntityName:_.deleteEntityName,confirmText:_.confirmText,confirmButtonText:_.buttonConfirm,cancelButtonText:_.buttonCancel,onConfirm:_.onConfirm,isLoading:_.loading,successMessage:_.success,errorMessage:_.error,content:_.content,confirmDescription:_.hasOwnProperty("confirmDescription")?_.confirmDescription:"",onRequestClose:function(){return A({status:!1})},isOpen:_.status,isDelete:_.isDelete}),Object(r.createElement)(Ye,{floatingBarProps:Ot,resetSelection:wt,onSuccess:function(){return f(nt,o,Z,$,c)}})):Object(r.createElement)(yt.a,{data:Dt}),U&&Object(r.createElement)(be,{onRequestClose:function(){return Y(!1)},isV2:!0}))},on=n(93);function an(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return cn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cn(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}e.default=function(t){var e=t.match.params.type,n=an(Object(r.useState)(!1),2),a=n[0],i=n[1],c=t.automationV2,u=void 0!==c&&c,s=Object(z.i)();return Object(b.f)("Automations"),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(o.a,null),Object(r.createElement)("div",{className:"bwfcrm-automations-list"},u?Object(r.createElement)(rn,{query:s,type:e,automationV2:u}):Object(r.createElement)(Ie,{query:s,type:e,automationV2:u})),!Object(b.gb)()&&Object(r.createElement)(on.a,{isOpen:a,onRequestClose:function(){return i(!1)}}))}},837:function(t,e,n){"use strict";var r=n(0),o=n(132),a=n(2),i=n(5),c=n(55),u=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={workflow:{name:Object(a.__)("Workflow","wp-marketing-automations"),link:e?"admin.php?page=autonami&path=/automation/".concat(t):"admin.php?page=autonami-automations&edit=".concat(t)}};return e&&(n.analytics={name:Object(a.__)("Analytics","wp-marketing-automations"),link:e?"admin.php?page=autonami&path=/automation/".concat(t,"/analytics"):"admin.php?page=autonami&path=/automation-v1/".concat(t,"/analytics"),isProFeature:!0,showOnClick:!0},n.contacts={name:Object(a.__)("Contacts","wp-marketing-automations"),link:"admin.php?page=autonami&path=/automation/".concat(t,"/contacts"),isProFeature:!0,showOnClick:!0}),n.engagement={name:Object(a.__)("Engagements","wp-marketing-automations"),link:e?"admin.php?page=autonami&path=/automation/".concat(t,"/engagements"):"admin.php?page=autonami&path=/automation-v1/".concat(t,"/engagements"),isProFeature:!0,showOnClick:!0},Object(i.qb)()&&(n.orders={name:Object(a.__)("Orders","wp-marketing-automations"),link:e?"admin.php?page=autonami&path=/automation/".concat(t,"/orders"):"admin.php?page=autonami&path=/automation-v1/".concat(t,"/orders"),isProFeature:!0,showOnClick:!0}),n};e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,f=arguments.length>6&&void 0!==arguments[6]&&arguments[6],m=arguments.length>7&&void 0!==arguments[7]&&arguments[7],p=arguments.length>8&&void 0!==arguments[8]&&arguments[8],h=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},d=h.automation_nav,b=h.automationv2_nav,y=Object(o.a)(),v=y.setActiveMultiple,g=y.resetHeaderMenu,O=y.setL2NavType,w=y.setL2Nav,j=y.setBackLink,E=y.setL2Title,_=y.setL2Content,k=y.setBackLinkLabel,x=y.setL2NavAlign,L=y.setPageHeader;return Object(r.useEffect)((function(){g(),!i&&O("menu"),p||w(l?u(l,m):m?b:d),v({leftNav:m?"automations-v2":"automations-v1",rightNav:t}),n&&j(n),l&&j(n&&!m?"admin.php?page=autonami&path=/automations-v1":"admin.php?page=autonami&path=/automations"),i||m&&l&&k(Object(a.__)("All Automations","wp-marketing-automations-crm")),!m&&l&&k(Object(a.__)("All Automations","wp-marketing-automations")),l&&x("left"),e&&E(e),!n&&s&&_(s),L("Automations"),m&&L(Object(r.createElement)(r.Fragment,null,"Automations",Object(r.createElement)(c.a,{label:"Next Gen"}))),f&&w({})}),[t,m,e,p]),!0}},839:function(t,e,n){"use strict";var r=n(135),o=n(95),a=["getStateProp"];function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}e.a=function(){var t=Object(r.a)("automationList"),e=t.getStateProp,n=s(t,a),i=Object(r.a)(o.a.recipient).getStateProp,u=Object(r.a)(o.a.conversion).getStateProp,l=Object(r.a)(o.a.contacts).getStateProp,f=Object(r.a)(o.a.analytics).getStateProp;return c(c({},n),{},{getAutomations:function(){return e("automations")},getPageNumber:function(){return parseInt(e("offset"))/parseInt(e("limit"))+1},getPerPageCount:function(){return parseInt(e("limit"))},getOffset:function(){return parseInt(e("offset"))},getTotalCount:function(){return parseInt(e("total"))},getLoadingStatus:function(){return e("isLoading")},getRecipientData:function(){return i("data")},getRecipientLoading:function(){return i("isLoading")},getRecipientOffset:function(){return i("offset")},getRecipientAutomationId:function(){return i("automationId")},getRecipientTotal:function(){return i("total")},getRecipientAutomation:function(){return i("automation")},getRecipientPage:function(){return parseInt(i("offset"))/parseInt(i("limit"))+1},getRecipientLimit:function(){return i("limit")},getConversionData:function(){return u("data")},getConversionLoading:function(){return u("isLoading")},getConversionOffset:function(){return u("offset")},getConversionAutomationId:function(){return u("automationId")},getConversionTotal:function(){return u("total")},getConversionAutomation:function(){return u("automation")},getConversionPage:function(){return parseInt(u("offset"))/parseInt(u("limit"))+1},getConversionLimit:function(){return u("limit")},getCountData:function(){return e("countData")},getContactData:function(){return l("data")},getContactLoading:function(){return l("isLoading")},getContactOffset:function(){return l("offset")},getContactAutomationId:function(){return l("automationId")},getContactTotal:function(){return l("total")},getContactAutomation:function(){return l("automation")},getContactPage:function(){return parseInt(l("offset"))/parseInt(l("limit"))+1},getContactLimit:function(){return l("limit")},getContactCountData:function(){return l("contactCount")},getAnalyticsData:function(){return f("analytics")},getAnalyticsTileData:function(){return f("tiles")},getAnalyticsTableData:function(){return f("tableData")},getAnalyticsLoading:function(){return f("isLoading")},getAnalyticsType:function(){return f("type")},getAnalyticsAutomationData:function(){return f("automation")}})}},852:function(t,e,n){"use strict";var r=n(134),o=n(5),a=n(95),i=n(17),c=["fetch","setStateProp"],u=["s","page","filter","path"];function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}e.a=function(){var t=Object(r.a)("automationList"),e=t.fetch,n=t.setStateProp,s=m(t,c),f=Object(r.a)(a.a.recipient),p=f.fetch,h=f.setStateProp,d=Object(r.a)(a.a.conversion),b=d.fetch,y=d.setStateProp,v=Object(r.a)(a.a.contacts),g=v.fetch,O=v.setStateProp,w=Object(r.a)(a.a.analytics),j=w.fetch,E=w.setStateProp;return l(l({},s),{},{fetch:function(t,r,a,i){var c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n("automation",{});var s=r.s,l=(r.page,r.filter,r.path,m(r,u)),f={offset:a,limit:i,status:t,search:s,filters:l,version:c?2:1};e("GET",Object(o.k)("/automations"),f)},setAutomationListValues:function(t,e){n(t,e)},fetchRecipient:function(t,e,n){p("GET",Object(o.k)("/automation/".concat(t,"/recipients?limit=").concat(e,"&offset=").concat(n)))},setRecipientsValues:function(t,e){h(t,e)},fetchConversion:function(t,e,n){y("automation",{}),b("GET",Object(o.k)("/automation/".concat(t,"/conversions?limit=").concat(e,"&offset=").concat(n)))},setConversionValues:function(t,e){y(t,e)},fetchContacts:function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";O("automation",{}),g("GET",Object(o.k)("/automation/".concat(t,"/contacts?limit=").concat(e,"&offset=").concat(n,"&type=").concat(r,"&search=").concat(a)))},setContactValues:function(t,e){O(t,e)},fetchAnalytics:function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,u=0;4===parseInt(c)&&(u=1),j("GET",Object(o.k)("/analytics/emails/chart/")+"?"+Object(i.stringify)({after:e,before:n,interval:r,oid:t,type:a,mode:c,contact:u}))},setAnalyticsValues:function(t,e){E(t,e)}})}},904:function(t,e,n){"use strict";var r=n(0),o=n(2),a=n(5),i=(n(448),n(4)),c=n(8);e.a=function(t){var e=t.onFileSelected,n=(t.htmlData,t.filetypeArray),u=(t.btnLabel,t.type),s=void 0===u?"automation":u,l=Object(r.useContext)(a.d),f=function(t){t&&t[0]&&"type"in t[0]?n.includes(t[0].type)?(e(t[0]),Object(a.Z)(l,3e3)):l(Object(o.__)("Uploaded file is not valid.","wp-marketing-automations")):l(Object(o.__)("Uploaded file not found","wp-marketing-automations"))};return Object(r.createElement)("div",{className:"bwf-component-import-wrapper"},Object(r.createElement)(i.DropZoneProvider,null,Object(r.createElement)("div",{className:"bwf-import-area-wrapper"},Object(r.createElement)(i.FormFileUpload,{isSecondary:!0,accept:"application/json",onChange:function(t){return f(t.target.files)},render:function(t){var e=t.openFileDialog;return Object(r.createElement)("div",{className:"bwf-import-area",onClick:e},Object(r.createElement)(c.a,{icon:"json-upload",size:72}),Object(r.createElement)("div",{className:"bwf-drop-import-heading"},Object(o.__)("Click or Drag & Drop your JSON file","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-drop-import-content"},"This tool allows you to import the ".concat(s," from the JSON file.")))}}),Object(r.createElement)(i.DropZone,{onFilesDrop:f,onHTMLDrop:f,onDrop:f}))))}}}]);