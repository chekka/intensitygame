(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{1226:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(842),c=n(847),l=n(915),o=n(72),i=n(2),s=n(276),m=n(4);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);l=!0);}catch(e){o=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var f=function(e){return Object(i.__)("".concat(e," plugin is not activated."),"wp-marketing-automations")},p=function(){var e=bwfcrm_contacts_data&&bwfcrm_contacts_data.form_nice_names?bwfcrm_contacts_data.form_nice_names:{},t=bwfcrm_contacts_data&&bwfcrm_contacts_data.available_forms?bwfcrm_contacts_data.available_forms:[],n=Object(c.a)().getFeed,l=Object(r.a)(),o=l.setFormSource,b=l.resetSelection,p=n(),d=(p||{}).source,O=void 0===d?"":d,j=u(Object(a.useState)(O&&!t.includes(O)?f(e[O]):""),2),w=j[0],_=j[1];return Object(a.createElement)(a.Fragment,null,!!e&&Object.keys(e).length>0&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf-h4"},Object(i.__)("Form Type","wp-marketing-automations")),Object(a.createElement)("div",{className:"bwf-crm-icon-btn-wrap","data-size":"small"},Object.keys(e).map((function(n){return Object(a.createElement)(s.a,{key:n,isSelected:n===O,onClick:function(){o(n),t.includes(n)?_(""):(_(f(e[n])),b())}},e[n])})))),!!w&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf_clear_30"}),Object(a.createElement)(m.Notice,{className:"bwf-error-notice",isDismissible:!1,status:"error"},w)))},d=n(47),O=(n(89),function(e){var t=Object(c.a)(),n=t.getSelectionOptions,l=t.getSelections,o=t.getLoading,s=Object(r.a)().setSelection,m=o(),u=n(),b=l();return Object(a.createElement)("div",{className:"bwf-crm-form-selection-wrap"},u&&Object.keys(u).map((function(e){var t=u[e],n=t.slug,r=void 0===n?"":n,c=r&&b[r]?b[r]:"";return t&&t.options?Object(a.createElement)("div",{key:e},Object(a.createElement)("div",{className:"bwf-h4"},Object(i.__)("Select ","wp-marketing-automations")+t.name),Object(a.createElement)("select",{onChange:function(e){return s(r,e.target.value)},value:c},Object(a.createElement)("option",{value:""},Object(i.__)("Choose ","wp-marketing-automations")+t.name),Object.keys(t.options).map((function(e){var n=t.options[e],r=n?Object.keys(n).map((function(e){return Object(a.createElement)("option",{key:e,value:e},n[e])})):[];return"default"!==e?Object(a.createElement)("optgroup",{key:e,label:e},r):r})))):null})),m&&Object(a.createElement)(d.a,{size:"l"}))}),j=function(e,t,n){return!(!e||parseInt(t)>Object.keys(e).length)&&Object.keys(n).reduce((function(t,a){var r=n[a];if(!e[r.slug])return!1;for(var c in r.options){var l=r.options[c];for(var o in l)if(o===e[r.slug]||parseInt(o)===parseInt(e[r.slug]))return t}return!1}),!0)},w=bwfcrm_contacts_data&&bwfcrm_contacts_data.available_forms?bwfcrm_contacts_data.available_forms:[];t.default=function(e){var t=e.feedId,n=Object(r.a)(),s=n.syncSelection,u=n.setStep,b=Object(c.a)(),f=b.getFeed,d=b.getSelections,_=b.getSelectionOptionsTotal,v=b.getSelectionOptions,g=f(),E=(g||{}).source,y=void 0===E?"":E,k=d(),S=_(),h=v();return Object(a.useEffect)((function(){g&&parseInt(g.id)===parseInt(t)&&y&&w.includes(y)&&s(t,k,!0)}),[y,k]),Object(a.createElement)(a.Fragment,null,g&&parseInt(g.id)===parseInt(t)?Object(a.createElement)(a.Fragment,null,Object(a.createElement)(o.a,null),Object(a.createElement)("div",{className:"bwf-crm-stepper-wrap bwf-card-wrap"},Object(a.createElement)("div",{className:"bwf-card-header"},Object(a.createElement)("span",{className:"bwf-form-title"},Object(i.__)("Select Form","wp-marketing-automations"))),Object(a.createElement)("div",{className:"bwf-crm-background-wrap"},Object(a.createElement)(p,null),Object(a.createElement)("div",{className:"bwf_clear_30"}),Object(a.createElement)(O,null)),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)("div",{className:"bwf-crm-stepper-navigation bwf_text_right"},Object(a.createElement)(m.Button,{className:"bwf-crm-stepper-next",isPrimary:!0,disabled:!j(k,S,h),onClick:function(){return u("mapping")}},Object(i.__)("Next","wp-marketing-automations"))))):Object(a.createElement)(l.a,null))}}}]);