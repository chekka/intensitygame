var devowlWp_realQueue;(()=>{var e,t={7780:(e,t,n)=>{"use strict";n.d(t,{C:()=>f});var a=n(954),r=n(7363),o=n(788),s=n(2529),i=n(2306),c=n(5744),u=n(218),l=n(4122),d=n(2100);const m=({item:{actions:e,type:t,label:n,description:a,failedJobs:o}})=>{const[m,v]=(0,r.useState)(!1),f=(0,r.useCallback)((async()=>{v(!0);try{await(0,u.F)({type:t})}finally{v(!1)}}),[t]),p=(0,r.useCallback)((async()=>{v(!0);try{await(0,l.w)({type:t})}finally{v(!1)}}),[t]),y=(0,r.useCallback)((async()=>{v(!0);try{await(0,d.P)({type:t})}finally{v(!1)}}),[t]),b=(0,r.useCallback)(((t,n)=>{var a;return(null===(a=e.filter((({action:e})=>t===e))[0])||void 0===a?void 0:a.linkText)||n}),[e]);return React.createElement(c.Z,{spinning:m},React.createElement(i.ZP.Item,{style:{paddingLeft:0,paddingRight:0},actions:[React.createElement("a",{key:"retry",className:"button-link",onClick:p},b("retry",(0,s.__)("Retry"))),React.createElement("a",{key:"skip",className:"button-link",onClick:y},b("skip",(0,s.__)("Skip failed jobs"))),...e.map((({action:e,url:t,linkText:n,target:a="_blank"})=>!e&&React.createElement("a",{key:t,className:"button-link",href:t,target:a},n))).filter(Boolean),React.createElement("a",{key:"delete",className:"button-link",style:{color:"red"},onClick:f},b("delete",(0,s.__)("Cancel process")))]},React.createElement(i.ZP.Item.Meta,{title:n,description:React.createElement(React.Fragment,null,React.createElement("div",null,a),React.createElement("div",{style:{marginTop:10}},React.createElement("strong",null,(0,s.__)("Error message:"))),o.slice(0,1).map((e=>{const{id:t,exception:{errors:n}}=e;return React.createElement("div",{"data-job":t,key:t,onClick:()=>console.log(e)},Object.keys(n).map((e=>React.createElement("div",{key:e,"data-code":e,dangerouslySetInnerHTML:{__html:n[e].join("<br />")}}))))})))})))},v=({list:e})=>React.createElement(i.ZP,{size:"small",dataSource:Object.values(e),renderItem:e=>React.createElement(m,{item:e,key:e.type})}),f=()=>{const{errors:e}=(0,o.o)(),[t,n]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const{activeElement:t}=document;if(Object.values(e).length>0){if(t&&(/^(?:input|select|textarea|button)$/i.test(t.nodeName)||t.hasAttribute("contenteditable"))){n(!1);const e=()=>{n(!0)};return t.addEventListener("blur",e,{once:!0}),()=>{t.removeEventListener("blur",e)}}n(!0)}else n(!1);return()=>{}}),[e]),React.createElement(a.Z,{className:"real-queue-error-modal",footer:null,title:(0,s.__)("Background tasks: Something went wrong"),visible:t,width:750,closable:!1},React.createElement(React.Fragment,null,React.createElement("p",{className:"description"},(0,s.__)("Your WordPress installation is working in the background on tasks that you basically don't notice. Unfortunately, an error occurred while running a task. Below is a list of failed tasks that you can either delete (and thus cancel the task) or try again.")),React.createElement(v,{list:e})))}},5669:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});var a=n(9019);const r=({children:e})=>React.createElement(a.ZP,{prefixCls:"real-queue-antd"},e)},7172:(e,t,n)=>{"use strict";n.d(t,{S:()=>l,o:()=>a.o});var a=n(788),r=n(7363),o=n(218),s=n(3863),i=n(1043),c=n(6692),u=n(3831);function l({type:e,fetchStatusInterval:t,fetchAdditionalData:n=!1,onAdditionalData:l,onCancel:d}){const[m,v]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!1),[y,b]=(0,r.useState)(),[E,h]=(0,r.useState)(),[w,g]=(0,r.useState)(),[_,S]=(0,r.useState)(),[R,x]=(0,r.useState)(),[O,k]=(0,r.useState)(),{errors:{[e]:I}}=(0,a.o)();let T="not-started";f&&(I?T="failed":0!==y||_||(T="done"));const j=(0,r.useCallback)((async({detail:{currentJobs:t,remaining:{[e]:a},additionalData:r}})=>{if(a){const{remaining:n,total:r,failure:o,paused:s}=a,i=+((r-n)/r*100).toFixed(0);k(t[e]),b(n),g(r),S(o),x(s),h(i>0?i:1)}else k(void 0),b(0),g(0),S(0),x(0),h(100);!1!==n&&r[n]&&l(r)}),[e,l,n]);(0,r.useEffect)((()=>(document.addEventListener(i.F,j),()=>{document.removeEventListener(i.F,j)})),[j]),(0,r.useEffect)((()=>{y>0&&p(!0)}),[y]),(0,r.useEffect)((()=>{if(n){const e=async({detail:{settings:{additionalData:e}}})=>{e.push(n)};return document.addEventListener(c.q,e),()=>{document.removeEventListener(c.q,e)}}return()=>{}}),[n]);const C=(0,r.useCallback)((()=>{p(!1),k(void 0),b(0),g(0),S(0),x(0),h(100),null==d||d()}),[d]);(0,r.useEffect)((()=>{const t=async({detail:{params:{type:t}}})=>{t===e&&C()};return document.addEventListener(u.N,t),()=>{document.removeEventListener(u.N,t)}}),[j,C]);const J=(0,r.useCallback)((async()=>{C(),v(!0),await(0,o.F)({type:e}),v(!1)}),[e,C]);return(0,r.useEffect)((()=>t>0?((0,s.U)(t,!0),()=>{(0,s.U)()}):()=>{}),[t]),{errors:I,status:T,jobsStarted:f,remaining:y,percent:E,total:w,failure:_,paused:R,currentJob:O,handleCancel:J,cancelling:m}}},788:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var a=n(1043),r=n(7363),o=n(3249);function s(){const[,e]=(0,r.useState)(),[t,n]=(0,r.useState)({}),s=(0,r.useCallback)(((t,a)=>e((e=>e!==t?(n(a),t):e))),[]),i=(0,r.useCallback)((async({detail:{errors:{hash:e,list:t}}})=>{s(e,t)}),[]);return(0,r.useEffect)((()=>{const{hash:e,list:t}=(0,o.zx)().errors;return s(e,t),document.addEventListener(a.F,i),()=>{document.removeEventListener(a.F,i)}}),[]),{errors:t}}},8879:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useProgress:()=>y.S,useStatusErrors:()=>y.o,__:()=>h.__,_i:()=>h._i,_n:()=>h._n,_nx:()=>h.vM,_x:()=>h._x,getStaticOptions:()=>h.zx,localStorageTest:()=>h.RN,ready:()=>h.Cd,request:()=>h.WY,urlBuilder:()=>h.Y4,waitObject:()=>h.Xf,LOCAL_STORAGE_KEY_LOCK_TAB:()=>w.YJ,LOCAL_STORAGE_KEY_QUEUE_NOTIFY_WORKER_PREFIX:()=>w.l9,LOCAL_STORAGE_KEY_RESTORE_JOBS:()=>w.y$,RealQueueClass:()=>w.DU,WINDOW_ACTIVITY_DETECTOR_IS_ACTIVE_KEY:()=>w.IC,checkWorkerNotifications:()=>w.UO,clearWorkerNotifications:()=>w.jl,convertClientJobToPromise:()=>w._o,convertServerJobToPromise:()=>w.yL,createActivityDetector:()=>w._i,createJobToPopulateNextJobs:()=>w.Kx,deleteJobs:()=>w.F0,executeClientJob:()=>w.RW,executeServerJob:()=>w.eg,fetchJob:()=>w.KA,fetchStatus:()=>w.UK,getGlobalQueue:()=>w.Gv,jobDelay:()=>w.H8,lockTab:()=>w.Ov,notifyWorkerTab:()=>w.Mu,refreshQueue:()=>w.LP,restoreJobsFromLocalStorage:()=>w.X0,retryJobs:()=>w.wj,saveJobResult:()=>w.J$,skipJobs:()=>w.P0,locationRestJobExecute:()=>g.CO,locationRestJobGet:()=>g.$p,locationRestJobResultPost:()=>g.wq,locationRestJobsDelete:()=>g.cq,locationRestJobsGet:()=>g.vw,locationRestJobsRetryPost:()=>g.Y,locationRestJobsSkipPost:()=>g.bC,locationRestStatusGet:()=>g.Hn});var a=n(2105),r=n(6439),o=n(6848),s=n(7836),i=n(3523),c=n(499),u=n(3863),l=n(1725),d=n(5655),m=n(8711),v=(n(2967),n(7268),n(5669)),f=n(7780),p=n(1533),y=n(7172),b=n(3507),E={};for(const e in b)["default","useProgress","useStatusErrors"].indexOf(e)<0&&(E[e]=()=>b[e]);n.d(t,E);var h=n(3249),w=n(1427),g=n(8899);(0,d.C)((async()=>{await(0,m.X)((()=>(0,a.O)()?void 0:"unlocked"),3e3),window.addEventListener("beforeunload",(()=>(0,a.O)(!1))),(0,a.O)(!0);const e=document.createElement("div");document.body.appendChild(e),(0,p.render)(React.createElement(v.z,null,React.createElement(f.C,null)),e),(0,r.j)(),window.realQueueWorker=!0,setInterval((()=>(0,o.U)({refreshQueue:s.L})),3e3),await(0,i.X)()||(0,s.L)()}),"interactive"),(0,d.C)((()=>{(0,c._)(),(0,u.U)(15e3,!0),document.addEventListener("visibilitychange",(()=>{"visible"===document.visibilityState&&(0,u.U)(!0)}))})),document.addEventListener("".concat(l.J,"example"),(async({detail:{job:e,resolve:t,fetchJob:n,saveJobResult:a}})=>{console.log("Lock this job and sleep...",e);const{id:r,process_total:o}=e;await n(r,!0),await new Promise((e=>setTimeout(e,5e3))),a(r,o),t()}))},499:(e,t,n)=>{"use strict";n.d(t,{_:()=>o,I:()=>r});var a=n(8327);const r="realQueueIsIdle";function o(){const e=(0,a.Z)({autoInit:!1});e.on("idle",(()=>{window[r]=!0})),e.on("active",(()=>{window[r]=!1})),e.init()}},9359:(e,t,n)=>{"use strict";n.d(t,{_:()=>c});var a=n(7467),r=n(6338),o=n(7499),s=n(3249),i=n(3810);function c(e,t){const{type:n}=t;return[async()=>{try{const e=await(0,o.R)(t);(()=>{const{remaining:e}=(0,s.zx)();e[n]&&(e[n][0]-=1),document.dispatchEvent(new CustomEvent(r.S,{detail:{remaining:e}}))})(),document.dispatchEvent(new CustomEvent("".concat(a.f).concat(n),{detail:{job:t,success:e}}))}catch(t){e.pause()}},()=>(0,i.H)(t)]}},7499:(e,t,n)=>{"use strict";n.d(t,{R:()=>l});var a=n(1725),r=n(2082),o=n(4295),s=n(3810),i=n(3523),c=n(8082),u=n(3249);async function l(e,t=0){let n=!1;const{id:d,type:m,retries:v}=e;try{await new Promise(((n,s)=>{document.dispatchEvent(new CustomEvent("".concat(a.J).concat(m),{detail:{job:e,resolve:n,reject:s,run:t,fetchJob:r.K,saveJobResult:o.J}}))})),n=!0}catch(a){t<v?(await(0,s.H)(e),n=await l(e,t+1)):(await(0,o.J)(d,0,a),n=!1)}if(0===t&&(0,c.R)()){var f;const e="".concat(i.y,"-").concat((0,u.zx)().localStorageSuffix),t=(null===(f=localStorage.getItem(e))||void 0===f?void 0:f.split(",").map(Number))||[],n=t.indexOf(d);n>-1&&t.splice(n,1),localStorage.setItem(e,t.join(","))}return n}},3863:(e,t,n)=>{"use strict";n.d(t,{U:()=>d});var a=n(6692),r=n(1043),o=n(3192),s=n(5592),i=n(2056),c=n(7836);let u,l=!1;async function d(e=15e3,t=!1){const n=async()=>{if(!l&&(window.realQueueWorker||"hidden"!==document.visibilityState)){l=!0;try{const e={additionalData:[]};document.dispatchEvent(new CustomEvent(a.q,{detail:{settings:e}}));const t=await(0,o.W)({location:s.H,params:{additionalData:e.additionalData.join(",")}});document.dispatchEvent(new CustomEvent(r.F,{detail:t}));const{remaining:n,errors:u}=t;window.realQueueWorker&&0===(0,i.G)().size&&Object.values(n).length>0&&0===Object.values(u.list).length&&(0,c.L)(!1)}finally{l=!1}}};"number"==typeof e?(clearInterval(u),u=setInterval((()=>n()),e),t&&await n()):!0===e&&await n()}},2056:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var a=n(8773),r=n(5061);function o(){if(!window.realQueueInstance){const e=new a.Z({autoStart:!0,concurrency:1,queueClass:r.D});e.enqueueHandler=function(){return this._queue},window.realQueueInstance=e,window.realQueueInstance.enqueueHandler().setHandler(window.realQueueInstance)}return window.realQueueInstance}},1427:(e,t,n)=>{"use strict";n.d(t,{YJ:()=>p.Y,l9:()=>m.l,y$:()=>c.y,DU:()=>y.D,IC:()=>d.I,UO:()=>f.U,jl:()=>v.j,_o:()=>o._,yL:()=>a.y,_i:()=>d._,Kx:()=>_.K,F0:()=>h.F,RW:()=>s.R,eg:()=>r.e,KA:()=>w.K,UK:()=>l.U,Gv:()=>i.G,H8:()=>b.H,Ov:()=>p.O,Mu:()=>m.M,LP:()=>u.L,X0:()=>c.X,wj:()=>E.w,J$:()=>g.J,P0:()=>S.P});var a=n(5713),r=n(6119),o=n(9359),s=n(7499),i=n(2056),c=n(3523),u=n(7836),l=n(3863),d=n(499),m=n(9705),v=n(6439),f=n(6848),p=n(2105),y=n(5061),b=n(3810),E=n(4122),h=n(218),w=n(2082),g=n(4295),_=n(5732),S=n(2100)},3810:(e,t,n)=>{"use strict";n.d(t,{H:()=>o});var a=n(499),r=n(3960);function o(e){const t=!!window[a.I],{type:n,delay_ms:o}=e,s={delay_ms:o};return document.dispatchEvent(new CustomEvent("".concat(r.t).concat(n),{detail:{job:e,isIdle:t,settings:s}})),new Promise((e=>setTimeout(e,s.delay_ms)))}},218:(e,t,n)=>{"use strict";n.d(t,{F:()=>i});var a=n(3831),r=n(3192),o=n(6435),s=n(3863);async function i(e){const t=await(0,r.W)({location:o.c,params:e});return document.dispatchEvent(new CustomEvent(a.N,{detail:{params:e,response:t}})),await(0,s.U)(!0),t}},2082:(e,t,n)=>{"use strict";n.d(t,{K:()=>o});var a=n(3192),r=n(3447);async function o(e,t){return await(0,a.W)({location:r.$,params:{id:e,lock:t}})}},5732:(e,t,n)=>{"use strict";n.d(t,{K:()=>c});var a=n(6338),r=n(3192),o=n(3249),s=n(8371),i=n(2056);function c(e,t=(0,i.G)().enqueueHandler()){return async()=>{try{const{jobs:n,remaining:i}=await(0,r.W)({location:s.v,params:{after:e}});(0,o.zx)().remaining=i,document.dispatchEvent(new CustomEvent(a.S,{detail:{remaining:i}})),t.enqueueFromList(n)}catch(e){t.handler.pause()}}}},4122:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});var a=n(5288),r=n(3192),o=n(7930),s=n(3863);async function i(e){const t=await(0,r.W)({location:o.Y,request:e});document.dispatchEvent(new CustomEvent(a.x,{detail:{request:e,response:t}})),await(0,s.U)(!0)}},4295:(e,t,n)=>{"use strict";n.d(t,{J:()=>c});var a=n(3831),r=n(5288),o=n(1767),s=n(3192),i=n(1961);async function c(e,t,n={}){const{code:u,message:l,data:d}=n;try{const n=await(0,s.W)({location:i.w,request:{process:t,errorCode:u,errorMessage:l,errorData:d?JSON.stringify(d):void 0},params:{id:e}});return n.pauseToAvoidRecurringException&&await new Promise((e=>{const{job:{type:t}}=n,s=async({detail:{params:{type:n}}})=>{n===t&&(document.removeEventListener(a.N,s),e())},i=async({detail:{request:{type:n}}})=>{n===t&&(document.removeEventListener(r.x,i),e())};document.addEventListener(a.N,s),document.addEventListener(r.x,i),document.addEventListener(o.x,(async({detail:{request:{type:n}}})=>{n===t&&(document.removeEventListener(r.x,i),e())}))})),n}catch(a){return await new Promise((e=>setTimeout(e,6e4))),await c(e,t,n)}}},2100:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});var a=n(5288),r=n(3192),o=n(7453),s=n(3863);async function i(e){const t=await(0,r.W)({location:o.b,request:e});document.dispatchEvent(new CustomEvent(a.x,{detail:{request:e,response:t}})),await(0,s.U)(!0)}},5061:(e,t,n)=>{"use strict";n.d(t,{D:()=>m});var a=n(7467),r=n(3831),o=n(5288),s=n(9359),i=n(5713),c=n(5732),u=n(3523),l=n(8082),d=n(3249);class m{constructor(){this.queue=[],this.alreadyAddedJobIds=[],this._handler=void 0,this.queue=[],this.listenRetries(),this.listenDeletions()}enqueueFromList(e){const t=e.filter((({worker:e})=>"server"===e)).map((({id:e})=>e)),n=[],{handler:r,alreadyAddedJobIds:o}=this;for(const c of e){const{id:e,type:u}=c;if(o.indexOf(e)>-1)continue;"client"===c.worker?n.push({runs:(0,s._)(r,c),job:c}):(t.splice(t.indexOf(e),1),n.push({runs:(0,i.y)(r,c,[...t]),job:c})),o.push(e);const l="".concat(a.f).concat(u),d=({detail:{job:{id:t},success:n}})=>{if(t===e&&!n){document.removeEventListener(l,d);const e=this.alreadyAddedJobIds.indexOf(t);e>-1&&this.alreadyAddedJobIds.splice(e,1)}};document.addEventListener(l,d)}if(n.length>0){const t=n.length>40?10:0,{job:a}=n[t];n.splice(n.length-t,0,{runs:[(0,c.K)(e[e.length-1].id,this)],job:a})}if((0,l.R)()){var m;const t="".concat(u.y,"-").concat((0,d.zx)().localStorageSuffix),n=(null===(m=localStorage.getItem(t))||void 0===m?void 0:m.split(",").map(Number))||[];e.forEach((({id:e})=>-1===n.indexOf(e)&&n.push(e))),localStorage.setItem(t,n.join(","))}n.forEach((({job:e,runs:t})=>{r.addAll(t,{job:e})}))}enqueue(e,t){if(null==t||!t.job)throw new Error("Please provide a job object!");const{job:{id:n,type:a}}=t,r={...t,id:n,type:a,run:e};this.queue.push(r)}dequeue(){const e=this.queue.shift();return null==e?void 0:e.run}get size(){return this.queue.length}filterQueueItem(e){return this.queue.filter((({id:t,type:n})=>!(void 0!==e.id&&t!==e.id||void 0!==e.type&&n!==e.type)))}filter(e){return this.filterQueueItem(e).map((e=>e.run))}get handler(){return this._handler}setHandler(e){this._handler=e}removeByType(e,t=!0){const n=[];this.queue=this.queue.filter((t=>{const a=t.type!==e;return a||n.push(t.id),a})),t&&(this.alreadyAddedJobIds=this.alreadyAddedJobIds.filter((e=>-1===n.indexOf(e))))}listenDeletions(){document.addEventListener(r.N,(async({detail:{params:{type:e}}})=>{this.removeByType(e,!1)}))}listenRetries(){document.addEventListener(o.x,(async({detail:{request:{type:e}}})=>{this.removeByType(e)}))}}},7836:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});var a=n(5732),r=n(3863),o=n(9705);let s=!1;async function i(e=!0){if(!s)if(window.realQueueWorker){s=!0;try{await(0,a.K)(0)(),e&&(0,r.U)(!0)}finally{s=!1}}else(0,o.M)({event:"refreshQueue"})}},3523:(e,t,n)=>{"use strict";n.d(t,{y:()=>u,X:()=>l});var a=n(8082),r=n(3249),o=n(3192),s=n(2056),i=n(8371),c=n(6338);const u="real-queue-restore-jobs";async function l(e=(0,s.G)().enqueueHandler()){if((0,a.R)()){const t="".concat(u,"-").concat((0,r.zx)().localStorageSuffix),n=localStorage.getItem(t);if(localStorage.removeItem(t),n)try{const{jobs:a,remaining:s}=await(0,o.W)({location:i.v,params:{ids:n}}),u=a.filter((({process:e,process_total:t,runs:n,retries:a,locked:r})=>e<t&&n<a+1&&!r));return e.enqueueFromList(u),(0,r.zx)().remaining=s,document.dispatchEvent(new CustomEvent(c.S,{detail:{remaining:s}})),localStorage.setItem(t,u.map((({id:e})=>e)).join(",")),u.length>0}catch(e){}}return!1}},6119:(e,t,n)=>{"use strict";n.d(t,{e:()=>u});var a=n(6338),r=n(3192),o=n(3249),s=n(8082),i=n(3801),c=n(3523);async function u(e,t){var n,l;const{id:d,delay_ms:m}=e,v=await(0,r.W)({location:i.C,request:{try:t.join(",")},params:{id:d}}),{done:f,failed:p,remaining:y}=v;(0,o.zx)().remaining=y,document.dispatchEvent(new CustomEvent(a.S,{detail:{remaining:y}}));const[b]=p.filter((({id:e})=>e===d)),[E]=f.filter((({id:e})=>e===d));if(0===f.length&&!b||b&&b.runs<=b.retries)return await new Promise((e=>setTimeout(e,m))),u(e,t);if((null!=b&&null!==(n=b.exception)&&void 0!==n&&null!==(l=n.errors)&&void 0!==l&&l.real_queue_job_locked||E||b&&b.runs>b.retries)&&(0,s.R)()){var h;const e="".concat(c.y,"-").concat((0,o.zx)().localStorageSuffix),t=(null===(h=localStorage.getItem(e))||void 0===h?void 0:h.split(",").map(Number))||[],n=t.indexOf(d);n>-1&&t.splice(n,1),localStorage.setItem(e,t.join(","))}return v}},5713:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});var a=n(7467),r=n(6119),o=n(3810);const s=[];function i(e,t,n){const{id:i,type:c}=t;return[async()=>{const o=e=>document.dispatchEvent(new CustomEvent("".concat(a.f).concat(c),{detail:{job:t,success:e}}));if(s.indexOf(i)>-1)o(!0);else try{const{done:e}=await(0,r.e)(t,n);s.push(...e.map((({id:e})=>e))),o(s.indexOf(i)>-1)}catch(t){e.pause()}},()=>s.indexOf(i)>-1?Promise.resolve():(0,o.H)(t)]}},6848:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var a=n(8082),r=n(3249),o=n(9705);function s(e){if((0,a.R)()){const n="".concat(o.l).concat((0,r.zx)().localStorageSuffix);for(const a of Object.keys(localStorage))if(a.startsWith(n)){var t;const{event:n,data:r}=JSON.parse(localStorage.getItem(a));localStorage.removeItem(a),null===(t=e[n])||void 0===t||t.call(e,r)}return!0}return!1}},6439:(e,t,n)=>{"use strict";n.d(t,{j:()=>s});var a=n(8082),r=n(3249),o=n(9705);function s(){if((0,a.R)()){const e="".concat(o.l).concat((0,r.zx)().localStorageSuffix);for(const t of Object.keys(localStorage))t.startsWith(e)&&localStorage.removeItem(t);return!0}return!1}},2105:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o,O:()=>i});var a=n(8082),r=n(3249);const o="real-queue-lock-tab";let s;function i(e){if((0,a.R)()){const t="".concat(o,"-").concat((0,r.zx)().localStorageSuffix);if("boolean"==typeof e&&clearInterval(s),!0===e){const e=()=>localStorage.setItem(t,(new Date).getTime().toString());e(),s=setInterval(e,3e3)}else!1===e&&localStorage.removeItem(t);const n=+localStorage.getItem(t);return 0!==n&&!isNaN(n)&&(new Date).getTime()-n<7e3}return!1}},9705:(e,t,n)=>{"use strict";n.d(t,{M:()=>s,l:()=>o});var a=n(8082),r=n(3249);const o="real-queue-notify-worker-";function s(e){if((0,a.R)()){const t="".concat(o).concat((0,r.zx)().localStorageSuffix,"-").concat((new Date).getTime());return localStorage.setItem(t,JSON.stringify(e)),!0}return!1}},1725:(e,t,n)=>{"use strict";n.d(t,{J:()=>a});const a="RealQueue/ClientJob/"},4001:(e,t,n)=>{"use strict";n.d(t,{Jd:()=>a.J,Sl:()=>r.S,FM:()=>o.F,t5:()=>s.t,fp:()=>i.f,qP:()=>c.q,NT:()=>u.N,x$:()=>l.x,x1:()=>d.x});var a=n(1725),r=n(6338),o=n(1043),s=n(3960),i=n(7467),c=n(6692),u=n(3831),l=n(5288),d=n(1767)},3960:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});const a="RealQueue/JobDelay/"},7467:(e,t,n)=>{"use strict";n.d(t,{f:()=>a});const a="RealQueue/JobDone/"},3831:(e,t,n)=>{"use strict";n.d(t,{N:()=>a});const a="RealQueue/JobsDeleted"},5288:(e,t,n)=>{"use strict";n.d(t,{x:()=>a});const a="RealQueue/JobsRetried"},1767:(e,t,n)=>{"use strict";n.d(t,{x:()=>a});const a="RealQueue/JobsSkipped"},6338:(e,t,n)=>{"use strict";n.d(t,{S:()=>a});const a="RealQueue/Remaining"},1043:(e,t,n)=>{"use strict";n.d(t,{F:()=>a});const a="RealQueue/Status"},6692:(e,t,n)=>{"use strict";n.d(t,{q:()=>a});const a="RealQueue/Status/AdditionalData"},3507:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CLIENT_JOB_EVENT_PREFIX:()=>o.Jd,JOBS_DELETED_EVENT:()=>o.NT,JOBS_RETRIED_EVENT:()=>o.x$,JOBS_SKIPPED_EVENT:()=>o.x1,JOB_DELAY_EVENT_PREFIX:()=>o.t5,JOB_DONE_EVENT_PREFIX:()=>o.fp,REMAINING_EVENT:()=>o.Sl,STATUS_ADDITIONAL_DATA_EVENT:()=>o.qP,STATUS_EVENT:()=>o.FM});var a=n(7276),r={};for(const e in a)"default"!==e&&(r[e]=()=>a[e]);n.d(t,r);var o=n(4001)},7276:()=>{},2529:(e,t,n)=>{"use strict";n.d(t,{_n:()=>s,v:()=>i,_x:()=>c,__:()=>u,_i:()=>l});var a=n(8700);let r;function o(){return r||(r=(0,a.createLocalizationFactory)("".concat("devowl-wp","-").concat("real-queue")))}const s=(...e)=>o()._n(...e),i=(...e)=>o()._nx(...e),c=(...e)=>o()._x(...e),u=(...e)=>o().__(...e),l=(...e)=>o()._i(...e)},3249:(e,t,n)=>{"use strict";n.d(t,{zx:()=>u,WY:()=>r.W,Y4:()=>r.Y,__:()=>o.__,_i:()=>o._i,_n:()=>o._n,vM:()=>o.v,_x:()=>o._x,Cd:()=>s.C,RN:()=>i.R,Xf:()=>c.X});var a=n(8700),r=n(3192),o=n(2529),s=n(5655),i=n(8082),c=n(8711);const u=()=>window[a.BaseOptions.getPureSlug("real-queue",!0)].others},8082:(e,t,n)=>{"use strict";function a(){const e="real_queue-test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}n.d(t,{R:()=>a})},5655:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});const a=(e,t="complete")=>new Promise((n=>{document.readyState===t?(null==e||e(),n()):document.addEventListener("readystatechange",(()=>{document.readyState===t&&(null==e||e(),n())}))}))},3192:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s,W:()=>i});var a=n(8700);let r;function o(){return r||(r=(0,a.createRequestFactory)(window[a.BaseOptions.getPureSlug("real-queue",!0)]))}const s=(...e)=>o().urlBuilder(...e),i=(...e)=>o().request(...e)},8711:(e,t,n)=>{"use strict";async function a(e,t=500,n=0){let a=0;for(;!e();){if(n>0&&a>=n)return;await new Promise((e=>setTimeout(e,t))),a++}return e()}n.d(t,{X:()=>a})},8899:(e,t,n)=>{"use strict";n.d(t,{$p:()=>a.$,vw:()=>r.v,CO:()=>o.C,wq:()=>s.w,Hn:()=>i.H,cq:()=>c.c,Y:()=>u.Y,bC:()=>l.b});var a=n(3447),r=n(8371),o=n(3801),s=n(1961),i=n(5592),c=n(6435),u=n(7930),l=n(7453)},3447:(e,t,n)=>{"use strict";n.d(t,{$:()=>a});const a={path:"/job/:id",method:n(8700).RouteHttpVerb.GET}},3801:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});const a={path:"/job/:id",method:n(8700).RouteHttpVerb.POST}},1961:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});const a={path:"/job/:id/result",method:n(8700).RouteHttpVerb.POST}},6435:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});const a={path:"/jobs",method:n(8700).RouteHttpVerb.DELETE}},8371:(e,t,n)=>{"use strict";n.d(t,{v:()=>a});const a={path:"/jobs",method:n(8700).RouteHttpVerb.GET}},7930:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a});const a={path:"/jobs/retry",method:n(8700).RouteHttpVerb.POST}},7453:(e,t,n)=>{"use strict";n.d(t,{b:()=>a});const a={path:"/jobs/skip",method:n(8700).RouteHttpVerb.POST}},5592:(e,t,n)=>{"use strict";n.d(t,{H:()=>a});const a={path:"/status",method:n(8700).RouteHttpVerb.GET}},7268:()=>{},2967:()=>{},7363:e=>{"use strict";e.exports=React},1533:e=>{"use strict";e.exports=ReactDOM},8700:e=>{"use strict";e.exports=devowlWp_utils}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,e=[],a.O=(t,n,r,o)=>{if(!n){var s=1/0;for(l=0;l<e.length;l++){for(var[n,r,o]=e[l],i=!0,c=0;c<n.length;c++)(!1&o||s>=o)&&Object.keys(a.O).every((e=>a.O[e](n[c])))?n.splice(c--,1):(i=!1,o<s&&(s=o));if(i){e.splice(l--,1);var u=r();void 0!==u&&(t=u)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[n,r,o]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={826:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[s,i,c]=n,u=0;if(s.some((t=>0!==e[t]))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(c)var l=c(a)}for(t&&t(n);u<s.length;u++)o=s[u],a.o(e,o)&&e[o]&&e[o][0](),e[s[u]]=0;return a.O(l)},n=self.webpackChunkdevowlWp_realQueue=self.webpackChunkdevowlWp_realQueue||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=a.O(void 0,[764],(()=>a(8879)));r=a.O(r),devowlWp_realQueue=r})();
//# sourceMappingURL=index.js.map